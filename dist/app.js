/*! For license information please see app.js.LICENSE.txt */
(()=>{"use strict";var e={913:()=>{try{self["workbox:core:6.5.3"]&&_()}catch(e){}},550:()=>{try{self["workbox:expiration:6.5.3"]&&_()}catch(e){}},80:()=>{try{self["workbox:routing:6.5.3"]&&_()}catch(e){}},873:()=>{try{self["workbox:strategies:6.5.3"]&&_()}catch(e){}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}(()=>{var e=function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};class t{constructor(e){this.emptyGlowImageTag="empty_glow_image",this.contentFilePath=e}parseBook(){return e(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{this.parseContentJSONFile().then((t=>{this.contentJSON=t,console.log("Content JSON file parsed!"),console.log(this.contentJSON);let n={pages:[]};n.pages=this.parsePages(),e(n)})).catch((e=>{t(e)}))}))}))}parsePages(){let e=[],t=this.contentJSON.presentation.slides,n=this.contentJSON.presentation.globalBackgroundSelector.fillGlobalBackground;for(let i=0;i<t.length;i++){let r=t[i],o={visualElements:[],backgroundColor:n};o.visualElements=this.parsePage(r),e.push(o)}return e}parsePage(e){let t=[],n=e.elements;for(let e=0;e<n.length;e++){let i=n[e].action.library;if(i.includes("AdvancedText")){let i=this.parseTextElement(n[e]);t.push(i)}else if(i.includes("Image")){let i=this.parseImageElement(n[e]);t.push(i)}}return t}parseTextElement(e){return{type:"text",positionX:e.x,positionY:e.y,width:e.width,height:e.height,textContentAsHTML:e.action.params.text}}parseImageElement(e){let t="";return t=void 0===e.action.params.file?this.emptyGlowImageTag:e.action.params.file.path,{type:"image",positionX:e.x,positionY:e.y,width:e.width,height:e.height,imageSource:t}}parseAudioElement(e){return{type:"audio",positionX:e.position.x,positionY:e.position.y,width:e.size.width,height:e.size.height,audioSrc:e.action.audioSrc,styles:e.styles}}parseContentJSONFile(){return e(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{let n=new XMLHttpRequest;n.open("GET",this.contentFilePath,!0),n.responseType="json",n.onload=function(){if(200===n.status){let t=n.response;delete t.l10n,delete t.override,e(t)}else t(n.response)},n.send()}))}))}}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r="(prefers-reduced-motion: reduce)";function o(e){e.length=0}function s(e,t,n){return Array.prototype.slice.call(e,t,n)}function a(e){return e.bind.apply(e,[null].concat(s(arguments,1)))}var c=setTimeout,u=function(){};function l(e){return requestAnimationFrame(e)}function d(e,t){return typeof t===e}function h(e){return!v(e)&&d("object",e)}var f=Array.isArray,p=a(d,"function"),g=a(d,"string"),m=a(d,"undefined");function v(e){return null===e}function y(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch(e){return!1}}function w(e){return f(e)?e:[e]}function b(e,t){w(e).forEach(t)}function _(e,t){return e.indexOf(t)>-1}function E(e,t){return e.push.apply(e,w(t)),e}function x(e,t,n){e&&b(t,(function(t){t&&e.classList[n?"add":"remove"](t)}))}function S(e,t){x(e,g(t)?t.split(" "):t,!0)}function C(e,t){b(t,e.appendChild.bind(e))}function P(e,t){b(e,(function(e){var n=(t||e).parentNode;n&&n.insertBefore(e,t)}))}function k(e,t){return y(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function D(e,t){var n=e?s(e.children):[];return t?n.filter((function(e){return k(e,t)})):n}function L(e,t){return t?D(e,t)[0]:e.firstElementChild}var N=Object.keys;function A(e,t,n){return e&&(n?N(e).reverse():N(e)).forEach((function(n){"__proto__"!==n&&t(e[n],n)})),e}function R(e){return s(arguments,1).forEach((function(t){A(t,(function(n,i){e[i]=t[i]}))})),e}function T(e){return s(arguments,1).forEach((function(t){A(t,(function(t,n){f(t)?e[n]=t.slice():h(t)?e[n]=T({},h(e[n])?e[n]:{},t):e[n]=t}))})),e}function M(e,t){b(t||N(e),(function(t){delete e[t]}))}function O(e,t){b(e,(function(e){b(t,(function(t){e&&e.removeAttribute(t)}))}))}function I(e,t,n){h(t)?A(t,(function(t,n){I(e,n,t)})):b(e,(function(e){v(n)||""===n?O(e,t):e.setAttribute(t,String(n))}))}function q(e,t,n){var i=document.createElement(e);return t&&(g(t)?S(i,t):I(i,t)),n&&C(n,i),i}function B(e,t,n){if(m(n))return getComputedStyle(e)[t];v(n)||(e.style[t]=""+n)}function F(e,t){B(e,"display",t)}function j(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function z(e,t){return e.getAttribute(t)}function W(e,t){return e&&e.classList.contains(t)}function U(e){return e.getBoundingClientRect()}function H(e){b(e,(function(e){e&&e.parentNode&&e.parentNode.removeChild(e)}))}function G(e){return L((new DOMParser).parseFromString(e,"text/html").body)}function X(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function K(e,t){return e&&e.querySelector(t)}function $(e,t){return t?s(e.querySelectorAll(t)):[]}function J(e,t){x(e,t,!1)}function V(e){return e.timeStamp}function Y(e){return g(e)?e:e?e+"px":""}var Q="splide";function Z(e,t){if(!e)throw new Error("[splide] "+(t||""))}var ee=Math.min,te=Math.max,ne=Math.floor,ie=Math.ceil,re=Math.abs;function oe(e,t,n){return re(e-t)<n}function se(e,t,n,i){var r=ee(t,n),o=te(t,n);return i?r<e&&e<o:r<=e&&e<=o}function ae(e,t,n){var i=ee(t,n),r=te(t,n);return ee(te(i,e),r)}function ce(e){return+(e>0)-+(e<0)}function ue(e,t){return b(t,(function(t){e=e.replace("%s",""+t)})),e}function le(e){return e<10?"0"+e:""+e}var de={};function he(){var e=[];function t(e,t,n){b(e,(function(e){e&&b(t,(function(t){t.split(" ").forEach((function(t){var i=t.split(".");n(e,i[0],i[1])}))}))}))}return{bind:function(n,i,r,o){t(n,i,(function(t,n,i){var s="addEventListener"in t,a=s?t.removeEventListener.bind(t,n,r,o):t.removeListener.bind(t,r);s?t.addEventListener(n,r,o):t.addListener(r),e.push([t,n,i,r,a])}))},unbind:function(n,i,r){t(n,i,(function(t,n,i){e=e.filter((function(e){return!!(e[0]!==t||e[1]!==n||e[2]!==i||r&&e[3]!==r)||(e[4](),!1)}))}))},dispatch:function(e,t,n){var i;return"function"==typeof CustomEvent?i=new CustomEvent(t,{bubbles:!0,detail:n}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!1,n),e.dispatchEvent(i),i},destroy:function(){e.forEach((function(e){e[4]()})),o(e)}}}var fe="mounted",pe="ready",ge="move",me="moved",ve="click",ye="refresh",we="updated",be="resize",_e="resized",Ee="scroll",xe="scrolled",Se="destroy",Ce="navigation:mounted",Pe="autoplay:play",ke="autoplay:pause",De="lazyload:loaded",Le="ei";function Ne(e){var t=e?e.event.bus:document.createDocumentFragment(),n=he();return e&&e.event.on(Se,n.destroy),R(n,{bus:t,on:function(e,i){n.bind(t,w(e).join(" "),(function(e){i.apply(i,f(e.detail)?e.detail:[])}))},off:a(n.unbind,t),emit:function(e){n.dispatch(t,e,s(arguments,1))}})}function Ae(e,t,n,i){var r,o,s=Date.now,a=0,c=!0,u=0;function d(){if(!c){if(a=e?ee((s()-r)/e,1):1,n&&n(a),a>=1&&(t(),r=s(),i&&++u>=i))return h();o=l(d)}}function h(){c=!0}function f(){o&&cancelAnimationFrame(o),a=0,o=0,c=!0}return{start:function(t){t||f(),r=s()-(t?a*e:0),c=!1,o=l(d)},rewind:function(){r=s(),a=0,n&&n(a)},pause:h,cancel:f,set:function(t){e=t},isPaused:function(){return c}}}var Re="ArrowLeft",Te="ArrowRight",Me="ArrowUp",Oe="ArrowDown",Ie="ttb",qe={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[Me,Te],ArrowRight:[Oe,Re]};var Be="role",Fe="tabindex",je="aria-controls",ze="aria-current",We="aria-selected",Ue="aria-label",He="aria-labelledby",Ge="aria-hidden",Xe="aria-orientation",Ke="aria-roledescription",$e="aria-live",Je="aria-busy",Ve="aria-atomic",Ye=[Be,Fe,"disabled",je,ze,Ue,He,Ge,Xe,Ke],Qe=Q,Ze="splide__track",et="splide__slide",tt=et+"--clone",nt="splide__arrows",it="splide__arrow",rt=it+"--prev",ot=it+"--next",st="splide__pagination",at="is-active",ct="is-prev",ut="is-next",lt="is-visible",dt="is-loading",ht="is-focus-in",ft="is-overflow",pt=[at,lt,ct,ut,dt,ht,ft],gt={slide:et,clone:tt,arrows:nt,arrow:it,prev:rt,next:ot,pagination:st,page:"splide__pagination__page",spinner:"splide__spinner"},mt="touchmove mousemove",vt="touchend touchcancel mouseup click",yt="slide",wt="loop",bt="fade";var _t={passive:!1,capture:!0},Et={Spacebar:" ",Right:Te,Left:Re,Up:Me,Down:Oe};function xt(e){return e=g(e)?e:e.key,Et[e]||e}var St="keydown",Ct="data-splide-lazy",Pt="data-splide-lazy-srcset",kt=[" ","Enter"],Dt=Object.freeze({__proto__:null,Media:function(e,t,n){var i=e.state,o=n.breakpoints||{},s=n.reducedMotion||{},a=he(),c=[];function u(e){e&&a.destroy()}function l(e,t){var n=matchMedia(t);a.bind(n,"change",d),c.push([e,n])}function d(){var t=i.is(7),r=n.direction,o=c.reduce((function(e,t){return T(e,t[1].matches?t[0]:{})}),{});M(n),h(o),n.destroy?e.destroy("completely"===n.destroy):t?(u(!0),e.mount()):r!==n.direction&&e.refresh()}function h(t,r,o){T(n,t),r&&T(Object.getPrototypeOf(n),t),!o&&i.is(1)||e.emit(we,n)}return{setup:function(){var e="min"===n.mediaQuery;N(o).sort((function(t,n){return e?+t-+n:+n-+t})).forEach((function(t){l(o[t],"("+(e?"min":"max")+"-width:"+t+"px)")})),l(s,r),d()},destroy:u,reduce:function(e){matchMedia(r).matches&&(e?T(n,s):M(n,N(s)))},set:h}},Direction:function(e,t,n){return{resolve:function(e,t,i){var r="rtl"!==(i=i||n.direction)||t?i===Ie?0:-1:1;return qe[e]&&qe[e][r]||e.replace(/width|left|right/i,(function(e,t){var n=qe[e.toLowerCase()][r]||e;return t>0?n.charAt(0).toUpperCase()+n.slice(1):n}))},orient:function(e){return e*("rtl"===n.direction?1:-1)}}},Elements:function(e,t,n){var i,r,s,a=Ne(e),c=a.on,u=a.bind,l=e.root,d=n.i18n,h={},f=[],g=[],m=[];function v(){var e,t,o;i=b("."+Ze),r=L(i,".splide__list"),Z(i&&r,"A track/list element is missing."),E(f,D(r,".splide__slide:not(."+tt+")")),A({arrows:nt,pagination:st,prev:rt,next:ot,bar:"splide__progress__bar",toggle:"splide__toggle"},(function(e,t){h[t]=b("."+e)})),R(h,{root:l,track:i,list:r,slides:f}),t=l.id||""+(e=Q)+le(de[e]=(de[e]||0)+1),o=n.role,l.id=t,i.id=i.id||t+"-track",r.id=r.id||t+"-list",!z(l,Be)&&"SECTION"!==l.tagName&&o&&I(l,Be,o),I(l,Ke,d.carousel),I(r,Be,"presentation"),w()}function y(e){var t=Ye.concat("style");o(f),J(l,g),J(i,m),O([i,r],t),O(l,e?t:["style",Ke])}function w(){J(l,g),J(i,m),g=_(Qe),m=_(Ze),S(l,g),S(i,m),I(l,Ue,n.label),I(l,He,n.labelledby)}function b(e){var t=K(l,e);return t&&function(e,t){if(p(e.closest))return e.closest(t);for(var n=e;n&&1===n.nodeType&&!k(n,t);)n=n.parentElement;return n}(t,".splide")===l?t:void 0}function _(e){return[e+"--"+n.type,e+"--"+n.direction,n.drag&&e+"--draggable",n.isNavigation&&e+"--nav",e===Qe&&at]}return R(h,{setup:v,mount:function(){c(ye,y),c(ye,v),c(we,w),u(document,"touchstart mousedown keydown",(function(e){s="keydown"===e.type}),{capture:!0}),u(l,"focusin",(function(){x(l,ht,!!s)}))},destroy:y})},Slides:function(e,t,n){var i=Ne(e),r=i.on,s=i.emit,c=i.bind,u=t.Elements,l=u.slides,d=u.list,h=[];function f(){l.forEach((function(e,t){v(e,t,-1)}))}function m(){D((function(e){e.destroy()})),o(h)}function v(t,n,i){var r=function(e,t,n,i){var r,o=Ne(e),s=o.on,c=o.emit,u=o.bind,l=e.Components,d=e.root,h=e.options,f=h.isNavigation,p=h.updateOnMove,g=h.i18n,m=h.pagination,v=h.slideFocus,y=l.Direction.resolve,w=z(i,"style"),b=z(i,Ue),_=n>-1,E=L(i,".splide__slide__container");function S(){var r=e.splides.map((function(e){var n=e.splide.Components.Slides.getAt(t);return n?n.slide.id:""})).join(" ");I(i,Ue,ue(g.slideX,(_?n:t)+1)),I(i,je,r),I(i,Be,v?"button":""),v&&O(i,Ke)}function C(){r||P()}function P(){if(!r){var n=e.index;(o=k())!==W(i,at)&&(x(i,at,o),I(i,ze,f&&o||""),c(o?"active":"inactive",D)),function(){var t=function(){if(e.is(bt))return k();var t=U(l.Elements.track),n=U(i),r=y("left",!0),o=y("right",!0);return ne(t[r])<=ie(n[r])&&ne(n[o])<=ie(t[o])}(),n=!t&&(!k()||_);if(e.state.is([4,5])||I(i,Ge,n||""),I($(i,h.focusableNodes||""),Fe,n?-1:""),v&&I(i,Fe,n?-1:0),t!==W(i,lt)&&(x(i,lt,t),c(t?"visible":"hidden",D)),!t&&document.activeElement===i){var r=l.Slides.getAt(e.index);r&&j(r.slide)}}(),x(i,ct,t===n-1),x(i,ut,t===n+1)}var o}function k(){var i=e.index;return i===t||h.cloneStatus&&i===n}var D={index:t,slideIndex:n,slide:i,container:E,isClone:_,mount:function(){_||(i.id=d.id+"-slide"+le(t+1),I(i,Be,m?"tabpanel":"group"),I(i,Ke,g.slide),I(i,Ue,b||ue(g.slideLabel,[t+1,e.length]))),u(i,"click",a(c,ve,D)),u(i,"keydown",a(c,"sk",D)),s([me,"sh",xe],P),s(Ce,S),p&&s(ge,C)},destroy:function(){r=!0,o.destroy(),J(i,pt),O(i,Ye),I(i,"style",w),I(i,Ue,b||"")},update:P,style:function(e,t,n){B(n&&E||i,e,t)},isWithin:function(n,i){var r=re(n-t);return _||!h.rewind&&!e.is(wt)||(r=ee(r,e.length-r)),r<=i}};return D}(e,n,i,t);r.mount(),h.push(r),h.sort((function(e,t){return e.index-t.index}))}function E(e){return e?N((function(e){return!e.isClone})):h}function D(e,t){E(t).forEach(e)}function N(e){return h.filter(p(e)?e:function(t){return g(e)?k(t.slide,e):_(w(e),t.index)})}return{mount:function(){f(),r(ye,m),r(ye,f)},destroy:m,update:function(){D((function(e){e.update()}))},register:v,get:E,getIn:function(e){var i=t.Controller,r=i.toIndex(e),o=i.hasFocus()?1:n.perPage;return N((function(e){return se(e.index,r,r+o-1)}))},getAt:function(e){return N(e)[0]},add:function(e,t){b(e,(function(e){if(g(e)&&(e=G(e)),y(e)){var i=l[t];i?P(e,i):C(d,e),S(e,n.classes.slide),r=e,o=a(s,be),u=$(r,"img"),(h=u.length)?u.forEach((function(e){c(e,"load error",(function(){--h||o()}))})):o()}var r,o,u,h})),s(ye)},remove:function(e){H(N(e).map((function(e){return e.slide}))),s(ye)},forEach:D,filter:N,style:function(e,t,n){D((function(i){i.style(e,t,n)}))},getLength:function(e){return e?l.length:h.length},isEnough:function(){return h.length>n.perPage}}},Layout:function(e,t,n){var i,r,o,s=Ne(e),c=s.on,u=s.bind,l=s.emit,d=t.Slides,f=t.Direction.resolve,p=t.Elements,g=p.root,m=p.track,v=p.list,y=d.getAt,w=d.style;function b(){i=n.direction===Ie,B(g,"maxWidth",Y(n.width)),B(m,f("paddingLeft"),E(!1)),B(m,f("paddingRight"),E(!0)),_(!0)}function _(e){var t,s=U(g);(e||r.width!==s.width||r.height!==s.height)&&(B(m,"height",(t="",i&&(Z(t=S(),"height or heightRatio is missing."),t="calc("+t+" - "+E(!1)+" - "+E(!0)+")"),t)),w(f("marginRight"),Y(n.gap)),w("width",n.autoWidth?null:Y(n.fixedWidth)||(i?"":C())),w("height",Y(n.fixedHeight)||(i?n.autoHeight?null:C():S()),!0),r=s,l(_e),o!==(o=A())&&(x(g,ft,o),l("overflow",o)))}function E(e){var t=n.padding,i=f(e?"right":"left");return t&&Y(t[i]||(h(t)?0:t))||"0px"}function S(){return Y(n.height||U(v).width*n.heightRatio)}function C(){var e=Y(n.gap);return"calc((100%"+(e&&" + "+e)+")/"+(n.perPage||1)+(e&&" - "+e)+")"}function P(){return U(v)[f("width")]}function k(e,t){var n=y(e||0);return n?U(n.slide)[f("width")]+(t?0:N()):0}function D(e,t){var n=y(e);if(n){var i=U(n.slide)[f("right")],r=U(v)[f("left")];return re(i-r)+(t?0:N())}return 0}function L(t){return D(e.length-1)-D(0)+k(0,t)}function N(){var e=y(0);return e&&parseFloat(B(e.slide,f("marginRight")))||0}function A(){return e.is(bt)||L(!0)>P()}return{mount:function(){var e,t;b(),u(window,"resize load",(e=a(l,be),t=Ae(0,e,null,1),function(){t.isPaused()&&t.start()})),c([we,ye],b),c(be,_)},resize:_,listSize:P,slideSize:k,sliderSize:L,totalSize:D,getPadding:function(e){return parseFloat(B(m,f("padding"+(e?"Right":"Left"))))||0},isOverflow:A}},Clones:function(e,t,n){var i,r=Ne(e),s=r.on,a=t.Elements,c=t.Slides,u=t.Direction.resolve,l=[];function d(){s(ye,h),s([we,be],p),(i=g())&&(function(t){var i=c.get().slice(),r=i.length;if(r){for(;i.length<t;)E(i,i);E(i.slice(-t),i.slice(0,t)).forEach((function(o,s){var u=s<t,d=function(t,i){var r=t.cloneNode(!0);return S(r,n.classes.clone),r.id=e.root.id+"-clone"+le(i+1),r}(o.slide,s);u?P(d,i[0].slide):C(a.list,d),E(l,d),c.register(d,s-t+(u?0:r),o.index)}))}}(i),t.Layout.resize(!0))}function h(){f(),d()}function f(){H(l),o(l),r.destroy()}function p(){var e=g();i!==e&&(i<e||!e)&&r.emit(ye)}function g(){var i=n.clones;if(e.is(wt)){if(m(i)){var r=n[u("fixedWidth")]&&t.Layout.slideSize(0);i=r&&ie(U(a.track)[u("width")]/r)||n[u("autoWidth")]&&e.length||2*n.perPage}}else i=0;return i}return{mount:d,destroy:f}},Move:function(e,t,n){var i,r=Ne(e),o=r.on,s=r.emit,a=e.state.set,c=t.Layout,u=c.slideSize,l=c.getPadding,d=c.totalSize,h=c.listSize,f=c.sliderSize,p=t.Direction,g=p.resolve,v=p.orient,y=t.Elements,w=y.list,b=y.track;function _(){t.Controller.isBusy()||(t.Scroll.cancel(),E(e.index),t.Slides.update())}function E(e){x(k(e,!0))}function x(n,i){if(!e.is(bt)){var r=i?n:function(n){if(e.is(wt)){var i=P(n),r=i>t.Controller.getEnd();(i<0||r)&&(n=S(n,r))}return n}(n);B(w,"transform","translate"+g("X")+"("+r+"px)"),n!==r&&s("sh")}}function S(e,t){var n=e-L(t),i=f();return e-v(i*(ie(re(n)/i)||1))*(t?1:-1)}function C(){x(D(),!0),i.cancel()}function P(e){for(var n=t.Slides.get(),i=0,r=1/0,o=0;o<n.length;o++){var s=n[o].index,a=re(k(s,!0)-e);if(!(a<=r))break;r=a,i=s}return i}function k(t,i){var r=v(d(t-1)-function(e){var t=n.focus;return"center"===t?(h()-u(e,!0))/2:+t*u(e)||0}(t));return i?function(t){return n.trimSpace&&e.is(yt)&&(t=ae(t,0,v(f(!0)-h()))),t}(r):r}function D(){var e=g("left");return U(w)[e]-U(b)[e]+v(l(!1))}function L(e){return k(e?t.Controller.getEnd():0,!!n.trimSpace)}return{mount:function(){i=t.Transition,o([fe,_e,we,ye],_)},move:function(e,t,n,r){var o,c;e!==t&&(o=e>n,c=v(S(D(),o)),o?c>=0:c<=w[g("scrollWidth")]-U(b)[g("width")])&&(C(),x(S(D(),e>n),!0)),a(4),s(ge,t,n,e),i.start(t,(function(){a(3),s(me,t,n,e),r&&r()}))},jump:E,translate:x,shift:S,cancel:C,toIndex:P,toPosition:k,getPosition:D,getLimit:L,exceededLimit:function(e,t){t=m(t)?D():t;var n=!0!==e&&v(t)<v(L(!1)),i=!1!==e&&v(t)>v(L(!0));return n||i},reposition:_}},Controller:function(e,t,n){var i,r,o,s,c=Ne(e),u=c.on,l=c.emit,d=t.Move,h=d.getPosition,f=d.getLimit,p=d.toPosition,v=t.Slides,y=v.isEnough,w=v.getLength,b=n.omitEnd,_=e.is(wt),E=e.is(yt),x=a(L,!1),S=a(L,!0),C=n.start||0,P=C;function k(){r=w(!0),o=n.perMove,s=n.perPage,i=R();var e=ae(C,0,b?i:r-1);e!==C&&(C=e,d.reposition())}function D(){i!==R()&&l(Le)}function L(e,t){var n=o||(I()?1:s),r=N(C+n*(e?-1:1),C,!(o||I()));return-1===r&&E&&!oe(h(),f(!e),1)?e?0:i:t?r:A(r)}function N(t,a,c){if(y()||I()){var u=function(t){if(E&&"move"===n.trimSpace&&t!==C)for(var i=h();i===p(t,!0)&&se(t,0,e.length-1,!n.rewind);)t<C?--t:++t;return t}(t);u!==t&&(a=t,t=u,c=!1),t<0||t>i?t=o||!se(0,t,a,!0)&&!se(i,a,t,!0)?_?c?t<0?-(r%s||s):r:t:n.rewind?t<0?i:0:-1:T(M(t)):c&&t!==a&&(t=T(M(a)+(t<a?-1:1)))}else t=-1;return t}function A(e){return _?(e+r)%r||0:e}function R(){for(var e=r-(I()||_&&o?1:s);b&&e-- >0;)if(p(r-1,!0)!==p(e,!0)){e++;break}return ae(e,0,r-1)}function T(e){return ae(I()?e:s*e,0,i)}function M(e){return I()?ee(e,i):ne((e>=i?r-1:e)/s)}function O(e){e!==C&&(P=C,C=e)}function I(){return!m(n.focus)||n.isNavigation}function q(){return e.state.is([4,5])&&!!n.waitForTransition}return{mount:function(){k(),u([we,ye,Le],k),u(_e,D)},go:function(e,t,n){if(!q()){var r=function(e){var t=C;if(g(e)){var n=e.match(/([+\-<>])(\d+)?/)||[],r=n[1],o=n[2];"+"===r||"-"===r?t=N(C+ +(""+r+(+o||1)),C):">"===r?t=o?T(+o):x(!0):"<"===r&&(t=S(!0))}else t=_?e:ae(e,0,i);return t}(e),o=A(r);o>-1&&(t||o!==C)&&(O(o),d.move(r,o,P,n))}},scroll:function(e,n,r,o){t.Scroll.scroll(e,n,r,(function(){var e=A(d.toIndex(h()));O(b?ee(e,i):e),o&&o()}))},getNext:x,getPrev:S,getAdjacent:L,getEnd:R,setIndex:O,getIndex:function(e){return e?P:C},toIndex:T,toPage:M,toDest:function(e){var t=d.toIndex(e);return E?ae(t,0,i):t},hasFocus:I,isBusy:q}},Arrows:function(e,t,n){var i,r,o=Ne(e),s=o.on,c=o.bind,u=o.emit,l=n.classes,d=n.i18n,h=t.Elements,f=t.Controller,p=h.arrows,g=h.track,m=p,v=h.prev,y=h.next,w={};function b(){var e;!(e=n.arrows)||v&&y||(m=p||q("div",l.arrows),v=k(!0),y=k(!1),i=!0,C(m,[v,y]),!p&&P(m,g)),v&&y&&(R(w,{prev:v,next:y}),F(m,e?"":"none"),S(m,r=nt+"--"+n.direction),e&&(s([fe,me,ye,xe,Le],D),c(y,"click",a(x,">")),c(v,"click",a(x,"<")),D(),I([v,y],je,g.id),u("arrows:mounted",v,y))),s(we,_)}function _(){E(),b()}function E(){o.destroy(),J(m,r),i?(H(p?[v,y]:m),v=y=null):O([v,y],Ye)}function x(e){f.go(e,!0)}function k(e){return G('<button class="'+l.arrow+" "+(e?l.prev:l.next)+'" type="button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40" width="40" height="40" focusable="false"><path d="'+(n.arrowPath||"m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z")+'" />')}function D(){if(v&&y){var t=e.index,n=f.getPrev(),i=f.getNext(),r=n>-1&&t<n?d.last:d.prev,o=i>-1&&t>i?d.first:d.next;v.disabled=n<0,y.disabled=i<0,I(v,Ue,r),I(y,Ue,o),u("arrows:updated",v,y,n,i)}}return{arrows:w,mount:b,destroy:E,update:D}},Autoplay:function(e,t,n){var i,r,o=Ne(e),s=o.on,a=o.bind,c=o.emit,u=Ae(n.interval,e.go.bind(e,">"),(function(e){var t=d.bar;t&&B(t,"width",100*e+"%"),c("autoplay:playing",e)})),l=u.isPaused,d=t.Elements,h=t.Elements,f=h.root,p=h.toggle,g=n.autoplay,m="pause"===g;function v(){l()&&t.Slides.isEnough()&&(u.start(!n.resetProgress),r=i=m=!1,b(),c(Pe))}function y(e){void 0===e&&(e=!0),m=!!e,b(),l()||(u.pause(),c(ke))}function w(){m||(i||r?y(!1):v())}function b(){p&&(x(p,at,!m),I(p,Ue,n.i18n[m?"play":"pause"]))}function _(e){var i=t.Slides.getAt(e);u.set(i&&+z(i.slide,"data-splide-interval")||n.interval)}return{mount:function(){g&&(n.pauseOnHover&&a(f,"mouseenter mouseleave",(function(e){i="mouseenter"===e.type,w()})),n.pauseOnFocus&&a(f,"focusin focusout",(function(e){r="focusin"===e.type,w()})),p&&a(p,"click",(function(){m?v():y(!0)})),s([ge,Ee,ye],u.rewind),s(ge,_),p&&I(p,je,d.track.id),m||v(),b())},destroy:u.cancel,play:v,pause:y,isPaused:l}},Cover:function(e,t,n){var i=Ne(e).on;function r(e){t.Slides.forEach((function(t){var n=L(t.container||t.slide,"img");n&&n.src&&o(e,n,t)}))}function o(e,t,n){n.style("background",e?'center/cover no-repeat url("'+t.src+'")':"",!0),F(t,e?"none":"")}return{mount:function(){n.cover&&(i(De,a(o,!0)),i([fe,we,ye],a(r,!0)))},destroy:a(r,!1)}},Scroll:function(e,t,n){var i,r,o=Ne(e),s=o.on,c=o.emit,u=e.state.set,l=t.Move,d=l.getPosition,h=l.getLimit,f=l.exceededLimit,p=l.translate,g=e.is(yt),m=1;function v(e,n,o,s,h){var p=d();if(b(),o&&(!g||!f())){var v=t.Layout.sliderSize(),_=ce(e)*v*ne(re(e)/v)||0;e=l.toPosition(t.Controller.toDest(e%v))+_}var E=oe(p,e,1);m=1,n=E?0:n||te(re(e-p)/1.5,800),r=s,i=Ae(n,y,a(w,p,e,h),1),u(5),c(Ee),i.start()}function y(){u(3),r&&r(),c(xe)}function w(e,t,i,o){var s,a,c=d(),u=(e+(t-e)*(s=o,(a=n.easingFunc)?a(s):1-Math.pow(1-s,4))-c)*m;p(c+u),g&&!i&&f()&&(m*=.6,re(u)<10&&v(h(f(!0)),600,!1,r,!0))}function b(){i&&i.cancel()}function _(){i&&!i.isPaused()&&(b(),y())}return{mount:function(){s(ge,b),s([we,ye],_)},destroy:b,scroll:v,cancel:_}},Drag:function(e,t,n){var i,r,o,s,a,c,l,d,f=Ne(e),p=f.on,g=f.emit,m=f.bind,v=f.unbind,y=e.state,w=t.Move,b=t.Scroll,_=t.Controller,E=t.Elements.track,x=t.Media.reduce,S=t.Direction,C=S.resolve,P=S.orient,D=w.getPosition,L=w.exceededLimit,N=!1;function A(){var e=n.drag;W(!e),s="free"===e}function R(e){if(c=!1,!l){var t=z(e);i=e.target,r=n.noDrag,k(i,".splide__pagination__page, ."+it)||r&&k(i,r)||!t&&e.button||(_.isBusy()?X(e,!0):(d=t?E:window,a=y.is([4,5]),o=null,m(d,mt,T,_t),m(d,vt,M,_t),w.cancel(),b.cancel(),I(e)))}var i,r}function T(t){if(y.is(6)||(y.set(6),g("drag")),t.cancelable)if(a){w.translate(i+q(t)/(N&&e.is(yt)?5:1));var r=B(t)>200,o=N!==(N=L());(r||o)&&I(t),c=!0,g("dragging"),X(t)}else(function(e){return re(q(e))>re(q(e,!0))})(t)&&(a=function(e){var t=n.dragMinThreshold,i=h(t),r=i&&t.mouse||0,o=(i?t.touch:+t)||10;return re(q(e))>(z(e)?o:r)}(t),X(t))}function M(i){y.is(6)&&(y.set(3),g("dragged")),a&&(function(i){var r=function(t){if(e.is(wt)||!N){var n=B(t);if(n&&n<200)return q(t)/n}return 0}(i),o=function(e){return D()+ce(e)*ee(re(e)*(n.flickPower||600),s?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}(r),a=n.rewind&&n.rewindByDrag;x(!1),s?_.scroll(o,0,n.snap):e.is(bt)?_.go(P(ce(r))<0?a?"<":"-":a?">":"+"):e.is(yt)&&N&&a?_.go(L(!0)?">":"<"):_.go(_.toDest(o),!0),x(!0)}(i),X(i)),v(d,mt,T),v(d,vt,M),a=!1}function O(e){!l&&c&&X(e,!0)}function I(e){o=r,r=e,i=D()}function q(e,t){return j(e,t)-j(F(e),t)}function B(e){return V(e)-V(F(e))}function F(e){return r===e&&o||r}function j(e,t){return(z(e)?e.changedTouches[0]:e)["page"+C(t?"Y":"X")]}function z(e){return"undefined"!=typeof TouchEvent&&e instanceof TouchEvent}function W(e){l=e}return{mount:function(){m(E,mt,u,_t),m(E,vt,u,_t),m(E,"touchstart mousedown",R,_t),m(E,"click",O,{capture:!0}),m(E,"dragstart",X),p([fe,we],A)},disable:W,isDragging:function(){return a}}},Keyboard:function(e,t,n){var i,r,o=Ne(e),s=o.on,a=o.bind,u=o.unbind,l=e.root,d=t.Direction.resolve;function h(){var e=n.keyboard;e&&(i="global"===e?window:l,a(i,St,g))}function f(){u(i,St)}function p(){var e=r;r=!0,c((function(){r=e}))}function g(t){if(!r){var n=xt(t);n===d(Re)?e.go("<"):n===d(Te)&&e.go(">")}}return{mount:function(){h(),s(we,f),s(we,h),s(ge,p)},destroy:f,disable:function(e){r=e}}},LazyLoad:function(e,t,n){var i=Ne(e),r=i.on,s=i.off,c=i.bind,u=i.emit,l="sequential"===n.lazyLoad,d=[me,xe],h=[];function f(){o(h),t.Slides.forEach((function(e){$(e.slide,"[data-splide-lazy], [data-splide-lazy-srcset]").forEach((function(t){var i=z(t,Ct),r=z(t,Pt);if(i!==t.src||r!==t.srcset){var o=n.classes.spinner,s=t.parentElement,a=L(s,"."+o)||q("span",o,s);h.push([t,e,a]),t.src||F(t,"none")}}))})),l?v():(s(d),r(d,p),p())}function p(){(h=h.filter((function(t){var i=n.perPage*((n.preloadPages||1)+1)-1;return!t[1].isWithin(e.index,i)||g(t)}))).length||s(d)}function g(e){var t=e[0];S(e[1].slide,dt),c(t,"load error",a(m,e)),I(t,"src",z(t,Ct)),I(t,"srcset",z(t,Pt)),O(t,Ct),O(t,Pt)}function m(e,t){var n=e[0],i=e[1];J(i.slide,dt),"error"!==t.type&&(H(e[2]),F(n,""),u(De,n,i),u(be)),l&&v()}function v(){h.length&&g(h.shift())}return{mount:function(){n.lazyLoad&&(f(),r(ye,f))},destroy:a(o,h),check:p}},Pagination:function(e,t,n){var i,r,c=Ne(e),u=c.on,l=c.emit,d=c.bind,h=t.Slides,f=t.Elements,p=t.Controller,g=p.hasFocus,m=p.getIndex,v=p.go,y=t.Direction.resolve,w=f.pagination,b=[];function _(){i&&(H(w?s(i.children):i),J(i,r),o(b),i=null),c.destroy()}function E(e){v(">"+e,!0)}function x(e,t){var n=b.length,i=xt(t),r=C(),o=-1;i===y(Te,!1,r)?o=++e%n:i===y(Re,!1,r)?o=(--e+n)%n:"Home"===i?o=0:"End"===i&&(o=n-1);var s=b[o];s&&(j(s.button),v(">"+o),X(t,!0))}function C(){return n.paginationDirection||n.direction}function P(e){return b[p.toPage(e)]}function k(){var e=P(m(!0)),t=P(m());if(e){var n=e.button;J(n,at),O(n,We),I(n,Fe,-1)}if(t){var r=t.button;S(r,at),I(r,We,!0),I(r,Fe,"")}l("pagination:updated",{list:i,items:b},e,t)}return{items:b,mount:function t(){_(),u([we,ye,Le],t);var o=n.pagination;w&&F(w,o?"":"none"),o&&(u([ge,Ee,xe],k),function(){var t=e.length,o=n.classes,s=n.i18n,c=n.perPage,u=g()?p.getEnd()+1:ie(t/c);S(i=w||q("ul",o.pagination,f.track.parentElement),r=st+"--"+C()),I(i,Be,"tablist"),I(i,Ue,s.select),I(i,Xe,C()===Ie?"vertical":"");for(var l=0;l<u;l++){var m=q("li",null,i),v=q("button",{class:o.page,type:"button"},m),y=h.getIn(l).map((function(e){return e.slide.id})),_=!g()&&c>1?s.pageX:s.slideX;d(v,"click",a(E,l)),n.paginationKeyboard&&d(v,"keydown",a(x,l)),I(m,Be,"presentation"),I(v,Be,"tab"),I(v,je,y.join(" ")),I(v,Ue,ue(_,l+1)),I(v,Fe,-1),b.push({li:m,button:v,page:l})}}(),k(),l("pagination:mounted",{list:i,items:b},P(e.index)))},destroy:_,getAt:P,update:k}},Sync:function(e,t,n){var i=n.isNavigation,r=n.slideFocus,s=[];function c(){var t,n;e.splides.forEach((function(t){t.isParent||(l(e,t.splide),l(t.splide,e))})),i&&((n=(t=Ne(e)).on)(ve,h),n("sk",f),n([fe,we],d),s.push(t),t.emit(Ce,e.splides))}function u(){s.forEach((function(e){e.destroy()})),o(s)}function l(e,t){var n=Ne(e);n.on(ge,(function(e,n,i){t.go(t.is(wt)?i:e)})),s.push(n)}function d(){I(t.Elements.list,Xe,n.direction===Ie?"vertical":"")}function h(t){e.go(t.index)}function f(e,t){_(kt,xt(t))&&(h(e),X(t))}return{setup:a(t.Media.set,{slideFocus:m(r)?i:r},!0),mount:c,destroy:u,remount:function(){u(),c()}}},Wheel:function(e,t,n){var i=Ne(e).bind,r=0;function o(i){if(i.cancelable){var o=i.deltaY,s=o<0,a=V(i),c=n.wheelMinThreshold||0,u=n.wheelSleep||0;re(o)>c&&a-r>u&&(e.go(s?"<":">"),r=a),function(i){return!n.releaseWheel||e.state.is(4)||-1!==t.Controller.getAdjacent(i)}(s)&&X(i)}}return{mount:function(){n.wheel&&i(t.Elements.track,"wheel",o,_t)}}},Live:function(e,t,n){var i=Ne(e).on,r=t.Elements.track,o=n.live&&!n.isNavigation,s=q("span","splide__sr"),c=Ae(90,a(u,!1));function u(e){I(r,Je,e),e?(C(r,s),c.start()):(H(s),c.cancel())}function l(e){o&&I(r,$e,e?"off":"polite")}return{mount:function(){o&&(l(!t.Autoplay.isPaused()),I(r,Ve,!0),s.textContent="â€¦",i(Pe,a(l,!0)),i(ke,a(l,!1)),i([me,xe],a(u,!0)))},disable:l,destroy:function(){O(r,[$e,Ve,Je]),H(s)}}}}),Lt={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:gt,i18n:{prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Nt(e,t,n){var i=t.Slides;function r(){i.forEach((function(e){e.style("transform","translateX(-"+100*e.index+"%)")}))}return{mount:function(){Ne(e).on([fe,ye],r)},start:function(e,t){i.style("transition","opacity "+n.speed+"ms "+n.easing),c(t)},cancel:u}}function At(e,t,n){var i,r=t.Move,o=t.Controller,s=t.Scroll,c=t.Elements.list,u=a(B,c,"transition");function l(){u(""),s.cancel()}return{mount:function(){Ne(e).bind(c,"transitionend",(function(e){e.target===c&&i&&(l(),i())}))},start:function(t,a){var c=r.toPosition(t,!0),l=r.getPosition(),d=function(t){var i=n.rewindSpeed;if(e.is(yt)&&i){var r=o.getIndex(!0),s=o.getEnd();if(0===r&&t>=s||r>=s&&0===t)return i}return n.speed}(t);re(c-l)>=1&&d>=1?n.useScroll?s.scroll(c,d,!1,a):(u("transform "+d+"ms "+n.easing),r.translate(c,!0),i=a):(r.jump(t),a())},cancel:l}}var Rt=function(){function e(t,n){var i;this.event=Ne(),this.Components={},this.state=(i=1,{set:function(e){i=e},is:function(e){return _(w(e),i)}}),this.splides=[],this._o={},this._E={};var r=g(t)?K(document,t):t;Z(r,r+" is invalid."),this.root=r,n=T({label:z(r,Ue)||"",labelledby:z(r,He)||""},Lt,e.defaults,n||{});try{T(n,JSON.parse(z(r,"data-splide")))}catch(e){Z(!1,"Invalid JSON")}this._o=Object.create(T({},n))}var t,n,r=e.prototype;return r.mount=function(e,t){var n=this,i=this.state,r=this.Components;return Z(i.is([1,7]),"Already mounted!"),i.set(1),this._C=r,this._T=t||this._T||(this.is(bt)?Nt:At),this._E=e||this._E,A(R({},Dt,this._E,{Transition:this._T}),(function(e,t){var i=e(n,r,n._o);r[t]=i,i.setup&&i.setup()})),A(r,(function(e){e.mount&&e.mount()})),this.emit(fe),S(this.root,"is-initialized"),i.set(3),this.emit(pe),this},r.sync=function(e){return this.splides.push({splide:e}),e.splides.push({splide:this,isParent:!0}),this.state.is(3)&&(this._C.Sync.remount(),e.Components.Sync.remount()),this},r.go=function(e){return this._C.Controller.go(e),this},r.on=function(e,t){return this.event.on(e,t),this},r.off=function(e){return this.event.off(e),this},r.emit=function(e){var t;return(t=this.event).emit.apply(t,[e].concat(s(arguments,1))),this},r.add=function(e,t){return this._C.Slides.add(e,t),this},r.remove=function(e){return this._C.Slides.remove(e),this},r.is=function(e){return this._o.type===e},r.refresh=function(){return this.emit(ye),this},r.destroy=function(e){void 0===e&&(e=!0);var t=this.event,n=this.state;return n.is(1)?Ne(this).on(pe,this.destroy.bind(this,e)):(A(this._C,(function(t){t.destroy&&t.destroy(e)}),!0),t.emit(Se),t.destroy(),e&&o(this.splides),n.set(7)),this},t=e,(n=[{key:"options",get:function(){return this._o},set:function(e){this._C.Media.set(e,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Rt.defaults={},Rt.STATES={CREATED:1,MOUNTED:2,IDLE:3,MOVING:4,SCROLLING:5,DRAGGING:6,DESTROYED:7};class Tt{constructor(e,t){this.emptyGlowImageTag="empty_glow_image",this.imagesPath=e,this.audioPath=t,this.currentPage=0,this.splideHandle=new Rt(".splide").mount()}initializeBook(e){this.numberOfPages=e.pages.length;for(let t=0;t<e.pages.length;t++){const n=document.createElement("li");n.classList.add("splide__slide");for(let i=0;i<e.pages[t].visualElements.length;i++){let r=e.pages[t].visualElements[i];if("text"==r.type){let e=r,t=document.createElement("div");t.classList.add("cr-text"),t.style.position="absolute",t.style.webkitTextStroke="thick #303030",t.style.textShadow="0.1rem 0.15rem 0.1rem #303030",t.style.fontFamily="Quicksand",t.style.fontWeight="800",t.style.fontSize="1.7em",t.style.top=e.positionY+"%",t.style.left=e.positionX+"%",t.style.width=e.width+"%",t.style.height=e.height+"%",t.innerHTML=e.textContentAsHTML,n.appendChild(t)}else if("image"==r.type){let e=r;if(e.imageSource===this.emptyGlowImageTag)continue;let t=document.createElement("div");t.classList.add("cr-image"),t.style.position="absolute",t.style.top=e.positionY+"%",t.style.left=e.positionX+"%",t.style.width=e.width+"%",t.style.height=e.height+"%";let i=document.createElement("img");i.src=this.imagesPath+e.imageSource.replace("images/",""),i.style.width="100%",i.style.height="100%",t.appendChild(i),n.appendChild(t)}this.splideHandle.add(n)}}}goToNextPage(){this.transitioningToPage||(this.currentPage<this.numberOfPages&&this.currentPage++,this.transitionToPage(this.currentPage))}goToPreviousPage(){this.transitioningToPage||(this.currentPage>0&&this.currentPage--,this.transitionToPage(this.currentPage))}transitionToPage(e){this.transitioningToPage=!0}}n(913);class Mt extends Error{constructor(e,t){super(((e,...t)=>{let n=e;return t.length>0&&(n+=` :: ${JSON.stringify(t)}`),n})(e,t)),this.name=e,this.details=t}}const Ot=new Set,It={googleAnalytics:"googleAnalytics",precache:"precache-v2",prefix:"workbox",runtime:"runtime",suffix:"undefined"!=typeof registration?registration.scope:""},qt=e=>{return e||(t=It.runtime,[It.prefix,t,It.suffix].filter((e=>e&&e.length>0)).join("-"));var t};function Bt(e,t){const n=new URL(e);for(const e of t)n.searchParams.delete(e);return n.href}function Ft(e){e.then((()=>{}))}class jt{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}n(80);const zt=e=>e&&"object"==typeof e?e:{handle:e};class Wt{constructor(e,t,n="GET"){this.handler=zt(t),this.match=e,this.method=n}setCatchHandler(e){this.catchHandler=zt(e)}}class Ut extends Wt{constructor(e,t,n){super((({url:t})=>{const n=e.exec(t.href);if(n&&(t.origin===location.origin||0===n.index))return n.slice(1)}),t,n)}}class Ht{constructor(){this._routes=new Map,this._defaultHandlerMap=new Map}get routes(){return this._routes}addFetchListener(){self.addEventListener("fetch",(e=>{const{request:t}=e,n=this.handleRequest({request:t,event:e});n&&e.respondWith(n)}))}addCacheListener(){self.addEventListener("message",(e=>{if(e.data&&"CACHE_URLS"===e.data.type){const{payload:t}=e.data,n=Promise.all(t.urlsToCache.map((t=>{"string"==typeof t&&(t=[t]);const n=new Request(...t);return this.handleRequest({request:n,event:e})})));e.waitUntil(n),e.ports&&e.ports[0]&&n.then((()=>e.ports[0].postMessage(!0)))}}))}handleRequest({request:e,event:t}){const n=new URL(e.url,location.href);if(!n.protocol.startsWith("http"))return;const i=n.origin===location.origin,{params:r,route:o}=this.findMatchingRoute({event:t,request:e,sameOrigin:i,url:n});let s=o&&o.handler;const a=e.method;if(!s&&this._defaultHandlerMap.has(a)&&(s=this._defaultHandlerMap.get(a)),!s)return;let c;try{c=s.handle({url:n,request:e,event:t,params:r})}catch(e){c=Promise.reject(e)}const u=o&&o.catchHandler;return c instanceof Promise&&(this._catchHandler||u)&&(c=c.catch((async i=>{if(u)try{return await u.handle({url:n,request:e,event:t,params:r})}catch(e){e instanceof Error&&(i=e)}if(this._catchHandler)return this._catchHandler.handle({url:n,request:e,event:t});throw i}))),c}findMatchingRoute({url:e,sameOrigin:t,request:n,event:i}){const r=this._routes.get(n.method)||[];for(const o of r){let r;const s=o.match({url:e,sameOrigin:t,request:n,event:i});if(s)return r=s,(Array.isArray(r)&&0===r.length||s.constructor===Object&&0===Object.keys(s).length||"boolean"==typeof s)&&(r=void 0),{route:o,params:r}}return{}}setDefaultHandler(e,t="GET"){this._defaultHandlerMap.set(t,zt(e))}setCatchHandler(e){this._catchHandler=zt(e)}registerRoute(e){this._routes.has(e.method)||this._routes.set(e.method,[]),this._routes.get(e.method).push(e)}unregisterRoute(e){if(!this._routes.has(e.method))throw new Mt("unregister-route-but-not-found-with-method",{method:e.method});const t=this._routes.get(e.method).indexOf(e);if(!(t>-1))throw new Mt("unregister-route-route-not-registered");this._routes.get(e.method).splice(t,1)}}let Gt,Xt,Kt;function $t(e){return"string"==typeof e?new Request(e):e}n(873);class Jt{constructor(e,t){this._cacheKeys={},Object.assign(this,t),this.event=t.event,this._strategy=e,this._handlerDeferred=new jt,this._extendLifetimePromises=[],this._plugins=[...e.plugins],this._pluginStateMap=new Map;for(const e of this._plugins)this._pluginStateMap.set(e,{});this.event.waitUntil(this._handlerDeferred.promise)}async fetch(e){const{event:t}=this;let n=$t(e);if("navigate"===n.mode&&t instanceof FetchEvent&&t.preloadResponse){const e=await t.preloadResponse;if(e)return e}const i=this.hasCallback("fetchDidFail")?n.clone():null;try{for(const e of this.iterateCallbacks("requestWillFetch"))n=await e({request:n.clone(),event:t})}catch(e){if(e instanceof Error)throw new Mt("plugin-error-request-will-fetch",{thrownErrorMessage:e.message})}const r=n.clone();try{let e;e=await fetch(n,"navigate"===n.mode?void 0:this._strategy.fetchOptions);for(const n of this.iterateCallbacks("fetchDidSucceed"))e=await n({event:t,request:r,response:e});return e}catch(e){throw i&&await this.runCallbacks("fetchDidFail",{error:e,event:t,originalRequest:i.clone(),request:r.clone()}),e}}async fetchAndCachePut(e){const t=await this.fetch(e),n=t.clone();return this.waitUntil(this.cachePut(e,n)),t}async cacheMatch(e){const t=$t(e);let n;const{cacheName:i,matchOptions:r}=this._strategy,o=await this.getCacheKey(t,"read"),s=Object.assign(Object.assign({},r),{cacheName:i});n=await caches.match(o,s);for(const e of this.iterateCallbacks("cachedResponseWillBeUsed"))n=await e({cacheName:i,matchOptions:r,cachedResponse:n,request:o,event:this.event})||void 0;return n}async cachePut(e,t){const n=$t(e);await(0,new Promise((e=>setTimeout(e,0))));const i=await this.getCacheKey(n,"write");if(!t)throw new Mt("cache-put-with-no-response",{url:(r=i.url,new URL(String(r),location.href).href.replace(new RegExp(`^${location.origin}`),""))});var r;const o=await this._ensureResponseSafeToCache(t);if(!o)return!1;const{cacheName:s,matchOptions:a}=this._strategy,c=await self.caches.open(s),u=this.hasCallback("cacheDidUpdate"),l=u?await async function(e,t,n,i){const r=Bt(t.url,n);if(t.url===r)return e.match(t,i);const o=Object.assign(Object.assign({},i),{ignoreSearch:!0}),s=await e.keys(t,o);for(const t of s)if(r===Bt(t.url,n))return e.match(t,i)}(c,i.clone(),["__WB_REVISION__"],a):null;try{await c.put(i,u?o.clone():o)}catch(e){if(e instanceof Error)throw"QuotaExceededError"===e.name&&await async function(){for(const e of Ot)await e()}(),e}for(const e of this.iterateCallbacks("cacheDidUpdate"))await e({cacheName:s,oldResponse:l,newResponse:o.clone(),request:i,event:this.event});return!0}async getCacheKey(e,t){const n=`${e.url} | ${t}`;if(!this._cacheKeys[n]){let i=e;for(const e of this.iterateCallbacks("cacheKeyWillBeUsed"))i=$t(await e({mode:t,request:i,event:this.event,params:this.params}));this._cacheKeys[n]=i}return this._cacheKeys[n]}hasCallback(e){for(const t of this._strategy.plugins)if(e in t)return!0;return!1}async runCallbacks(e,t){for(const n of this.iterateCallbacks(e))await n(t)}*iterateCallbacks(e){for(const t of this._strategy.plugins)if("function"==typeof t[e]){const n=this._pluginStateMap.get(t),i=i=>{const r=Object.assign(Object.assign({},i),{state:n});return t[e](r)};yield i}}waitUntil(e){return this._extendLifetimePromises.push(e),e}async doneWaiting(){let e;for(;e=this._extendLifetimePromises.shift();)await e}destroy(){this._handlerDeferred.resolve(null)}async _ensureResponseSafeToCache(e){let t=e,n=!1;for(const e of this.iterateCallbacks("cacheWillUpdate"))if(t=await e({request:this.request,response:t,event:this.event})||void 0,n=!0,!t)break;return n||t&&200!==t.status&&(t=void 0),t}}class Vt extends class{constructor(e={}){this.cacheName=qt(e.cacheName),this.plugins=e.plugins||[],this.fetchOptions=e.fetchOptions,this.matchOptions=e.matchOptions}handle(e){const[t]=this.handleAll(e);return t}handleAll(e){e instanceof FetchEvent&&(e={event:e,request:e.request});const t=e.event,n="string"==typeof e.request?new Request(e.request):e.request,i="params"in e?e.params:void 0,r=new Jt(this,{event:t,request:n,params:i}),o=this._getResponse(r,n,t);return[o,this._awaitComplete(o,r,n,t)]}async _getResponse(e,t,n){let i;await e.runCallbacks("handlerWillStart",{event:n,request:t});try{if(i=await this._handle(t,e),!i||"error"===i.type)throw new Mt("no-response",{url:t.url})}catch(r){if(r instanceof Error)for(const o of e.iterateCallbacks("handlerDidError"))if(i=await o({error:r,event:n,request:t}),i)break;if(!i)throw r}for(const r of e.iterateCallbacks("handlerWillRespond"))i=await r({event:n,request:t,response:i});return i}async _awaitComplete(e,t,n,i){let r,o;try{r=await e}catch(o){}try{await t.runCallbacks("handlerDidRespond",{event:i,request:n,response:r}),await t.doneWaiting()}catch(e){e instanceof Error&&(o=e)}if(await t.runCallbacks("handlerDidComplete",{event:i,request:n,response:r,error:o}),t.destroy(),o)throw o}}{async _handle(e,t){let n,i=await t.cacheMatch(e);if(i);else try{i=await t.fetchAndCachePut(e)}catch(e){e instanceof Error&&(n=e)}if(!i)throw new Mt("no-response",{url:e.url,error:n});return i}}const Yt=new WeakMap,Qt=new WeakMap,Zt=new WeakMap,en=new WeakMap,tn=new WeakMap;let nn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Zt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function rn(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Kt||(Kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(sn(this),e),on(Yt.get(this))}:function(...e){return on(t.apply(sn(this),e))}:function(e,...n){const i=t.call(sn(this),e,...n);return Zt.set(i,e.sort?e.sort():[e]),on(i)}:(e instanceof IDBTransaction&&function(e){if(Qt.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{t(),i()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)}));Qt.set(e,t)}(e),n=e,(Xt||(Xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,nn):e);var t,n}function on(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{t(on(e.result)),i()},o=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&Yt.set(t,e)})).catch((()=>{})),tn.set(t,e),t}(e);if(en.has(e))return en.get(e);const t=rn(e);return t!==e&&(en.set(e,t),tn.set(t,e)),t}const sn=e=>tn.get(e),an=["get","getKey","getAll","getAllKeys","count"],cn=["put","add","delete","clear"],un=new Map;function ln(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(un.get(t))return un.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=cn.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!an.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,r?"readwrite":"readonly");let s=o.store;return i&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),r&&o.done]))[0]};return un.set(t,o),o}var dn;dn=nn,nn={...dn,get:(e,t,n)=>ln(e,t)||dn.get(e,t,n),has:(e,t)=>!!ln(e,t)||dn.has(e,t)},n(550);const hn="cache-entries",fn=e=>{const t=new URL(e,location.href);return t.hash="",t.href};class pn{constructor(e){this._db=null,this._cacheName=e}_upgradeDb(e){const t=e.createObjectStore(hn,{keyPath:"id"});t.createIndex("cacheName","cacheName",{unique:!1}),t.createIndex("timestamp","timestamp",{unique:!1})}_upgradeDbAndDeleteOldDbs(e){this._upgradeDb(e),this._cacheName&&function(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),on(n).then((()=>{}))}(this._cacheName)}async setTimestamp(e,t){const n={url:e=fn(e),timestamp:t,cacheName:this._cacheName,id:this._getId(e)},i=(await this.getDb()).transaction(hn,"readwrite",{durability:"relaxed"});await i.store.put(n),await i.done}async getTimestamp(e){const t=await this.getDb(),n=await t.get(hn,this._getId(e));return null==n?void 0:n.timestamp}async expireEntries(e,t){const n=await this.getDb();let i=await n.transaction(hn).store.index("timestamp").openCursor(null,"prev");const r=[];let o=0;for(;i;){const n=i.value;n.cacheName===this._cacheName&&(e&&n.timestamp<e||t&&o>=t?r.push(i.value):o++),i=await i.continue()}const s=[];for(const e of r)await n.delete(hn,e.id),s.push(e.url);return s}_getId(e){return this._cacheName+"|"+fn(e)}async getDb(){return this._db||(this._db=await function(e,t,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(e,t),a=on(s);return i&&s.addEventListener("upgradeneeded",(e=>{i(on(s.result),e.oldVersion,e.newVersion,on(s.transaction),e)})),n&&s.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{o&&e.addEventListener("close",(()=>o())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}("workbox-expiration",1,{upgrade:this._upgradeDbAndDeleteOldDbs.bind(this)})),this._db}}class gn{constructor(e,t={}){this._isRunning=!1,this._rerunRequested=!1,this._maxEntries=t.maxEntries,this._maxAgeSeconds=t.maxAgeSeconds,this._matchOptions=t.matchOptions,this._cacheName=e,this._timestampModel=new pn(e)}async expireEntries(){if(this._isRunning)return void(this._rerunRequested=!0);this._isRunning=!0;const e=this._maxAgeSeconds?Date.now()-1e3*this._maxAgeSeconds:0,t=await this._timestampModel.expireEntries(e,this._maxEntries),n=await self.caches.open(this._cacheName);for(const e of t)await n.delete(e,this._matchOptions);this._isRunning=!1,this._rerunRequested&&(this._rerunRequested=!1,Ft(this.expireEntries()))}async updateTimestamp(e){await this._timestampModel.setTimestamp(e,Date.now())}async isURLExpired(e){if(this._maxAgeSeconds){const t=await this._timestampModel.getTimestamp(e),n=Date.now()-1e3*this._maxAgeSeconds;return void 0===t||t<n}return!1}async delete(){this._rerunRequested=!1,await this._timestampModel.expireEntries(1/0)}}class mn{constructor(e={}){var t;this.cachedResponseWillBeUsed=async({event:e,request:t,cacheName:n,cachedResponse:i})=>{if(!i)return null;const r=this._isResponseDateFresh(i),o=this._getCacheExpiration(n);Ft(o.expireEntries());const s=o.updateTimestamp(t.url);if(e)try{e.waitUntil(s)}catch(e){}return r?i:null},this.cacheDidUpdate=async({cacheName:e,request:t})=>{const n=this._getCacheExpiration(e);await n.updateTimestamp(t.url),await n.expireEntries()},this._config=e,this._maxAgeSeconds=e.maxAgeSeconds,this._cacheExpirations=new Map,e.purgeOnQuotaError&&(t=()=>this.deleteCacheAndMetadata(),Ot.add(t))}_getCacheExpiration(e){if(e===qt())throw new Mt("expire-custom-caches-only");let t=this._cacheExpirations.get(e);return t||(t=new gn(e,this._config),this._cacheExpirations.set(e,t)),t}_isResponseDateFresh(e){if(!this._maxAgeSeconds)return!0;const t=this._getDateHeaderTimestamp(e);return null===t||t>=Date.now()-1e3*this._maxAgeSeconds}_getDateHeaderTimestamp(e){if(!e.headers.has("date"))return null;const t=e.headers.get("date"),n=new Date(t).getTime();return isNaN(n)?null:n}async deleteCacheAndMetadata(){for(const[e,t]of this._cacheExpirations)await self.caches.delete(e),await t.delete();this._cacheExpirations=new Map}}class vn{constructor(){this.cacheNameTag="CRCache",this.version="v0.0.1",this.imagesCacheName=`${this.cacheNameTag}-${this.version}-images`,this.fontsCacheName=`${this.cacheNameTag}-${this.version}-fonts`,this.stylesScriptsCacheName=`${this.cacheNameTag}-${this.version}-stylesScripts`,this.documentCacheName=`${this.cacheNameTag}-${this.version}-document`,this.stylesScriptsExpirationPlugin=new mn({maxEntries:20,maxAgeSeconds:1296e3,purgeOnQuotaError:!0}),this.fontsExpirationPlugin=new mn({maxEntries:5,maxAgeSeconds:15552e3}),this.imagesExpirationPlugin=new mn({maxEntries:150,maxAgeSeconds:5184e3}),this.documentExpirationPlugin=new mn({maxEntries:50,maxAgeSeconds:5184e3})}InitializeAndRegister(){"serviceWorker"in navigator&&window.addEventListener("load",(()=>{navigator.serviceWorker.register("/sw.js").then((e=>{console.log("ServiceWorker registration successful with scope: ",e.scope)}),(e=>{console.log("ServiceWorker registration failed: ",e)})),this.registerCacheFirstRouteUsing("image",this.imagesCacheName,this.imagesExpirationPlugin),this.registerCacheFirstRouteUsing("font",this.fontsCacheName,this.fontsExpirationPlugin),this.registerCacheFirstRouteUsing("script",this.stylesScriptsCacheName,this.stylesScriptsExpirationPlugin),this.registerCacheFirstRouteUsing("style",this.stylesScriptsCacheName,this.stylesScriptsExpirationPlugin),this.registerCacheFirstRouteUsing("document",this.documentCacheName,this.documentExpirationPlugin),self.addEventListener("install",(e=>{console.log("ServiceWorker installed!"),e.waitUntil(Promise.all([caches.delete(this.imagesCacheName),caches.delete(this.fontsCacheName),caches.delete(this.stylesScriptsCacheName),caches.delete(this.documentCacheName)]))})),self.addEventListener("activate",(e=>{console.log("ServiceWorker activated!"),self.addEventListener("activate",(()=>self.clients.claim()))})),self.addEventListener("fetch",(e=>{console.log("ServiceWorker fetch: ",e)}))}))}registerCacheFirstRouteUsing(e,t,n){!function(e,t,n){let i;i=e instanceof RegExp?new Ut(e,t,n):new Wt(e,t,n),(Gt||(Gt=new Ht,Gt.addFetchListener(),Gt.addCacheListener()),Gt).registerRoute(i)}((({request:t})=>t.destination===e),new Vt({cacheName:t,plugins:[n]}))}}new class{constructor(e,n,i){this.contentFilePath=e,this.imagesPath=n,this.audioPath=i,this.contentParser=new t(e),this.playBackEngine=new Tt(n,i),this.serviceWorker=new vn,this.serviceWorker.InitializeAndRegister()}initialize(){return e=this,t=void 0,i=function*(){let e=yield this.contentParser.parseBook();console.log("Dev App initialized!"),console.log(e),this.playBackEngine.initializeBook(e)},new((n=void 0)||(n=Promise))((function(r,o){function s(e){try{c(i.next(e))}catch(e){o(e)}}function a(e){try{c(i.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}));var e,t,n,i}}("/BookContent/LetsFlyLevel2En/content/content.json","/BookContent/LetsFlyLevel2En/content/images/","/BookContent/LetsFlyLevel2En/content/audio/").initialize()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUt5aUMsZUFBaUIsSUFBSWxULEdBQWVDLEVBQVlDLEdBQ3JEenZCLEtBQUttaUMsY0FBZ0IsSUFBSVosR0FDekJ2aEMsS0FBS21pQyxjQUFjRix1QkFDdkIsQ0FFTVMsa0RBQ0YsSUFBSWhpQyxRQUFtQlYsS0FBS3dpQyxjQUFjdmlDLFlBRTFDTyxRQUFRQyxJQUFJLHdCQUNaRCxRQUFRQyxJQUFJQyxHQUVaVixLQUFLeWlDLGVBQWU3UyxlQUFlbHZCLEVBQ3ZDLG1TQUttQixvREFDbkIsK0NBQ0EsK0NBR0FnaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1jb3JlL192ZXJzaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93b3JrYm94LWV4cGlyYXRpb24vX3ZlcnNpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtcm91dGluZy9fdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1zdHJhdGVnaWVzL192ZXJzaW9uLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly8vLi9QYXJzZXIvQ29udGVudFBhcnNlci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNwbGlkZWpzL3NwbGlkZS9kaXN0L2pzL3NwbGlkZS5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vUGxheUJhY2tFbmdpbmUvUGxheUJhY2tFbmdpbmUudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtY29yZS9fcHJpdmF0ZS9Xb3JrYm94RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtY29yZS9tb2RlbHMvbWVzc2FnZXMvbWVzc2FnZUdlbmVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1jb3JlL19wcml2YXRlL2Fzc2VydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1jb3JlL21vZGVscy9xdW90YUVycm9yQ2FsbGJhY2tzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93b3JrYm94LWNvcmUvX3ByaXZhdGUvY2FjaGVOYW1lcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1jb3JlL19wcml2YXRlL2NhY2hlTWF0Y2hJZ25vcmVQYXJhbXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtY29yZS9fcHJpdmF0ZS9kb250V2FpdEZvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1jb3JlL19wcml2YXRlL0RlZmVycmVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93b3JrYm94LXJvdXRpbmcvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93b3JrYm94LXJvdXRpbmcvdXRpbHMvbm9ybWFsaXplSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1yb3V0aW5nL1JvdXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93b3JrYm94LXJvdXRpbmcvUmVnRXhwUm91dGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtcm91dGluZy9Sb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtcm91dGluZy91dGlscy9nZXRPckNyZWF0ZURlZmF1bHRSb3V0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2lkYi9idWlsZC93cmFwLWlkYi12YWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1zdHJhdGVnaWVzL1N0cmF0ZWd5SGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1jb3JlL19wcml2YXRlL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtY29yZS9fcHJpdmF0ZS9nZXRGcmllbmRseVVSTC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1jb3JlL19wcml2YXRlL2V4ZWN1dGVRdW90YUVycm9yQ2FsbGJhY2tzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93b3JrYm94LXN0cmF0ZWdpZXMvQ2FjaGVGaXJzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd29ya2JveC1zdHJhdGVnaWVzL1N0cmF0ZWd5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtZXhwaXJhdGlvbi9tb2RlbHMvQ2FjaGVUaW1lc3RhbXBzTW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtZXhwaXJhdGlvbi9DYWNoZUV4cGlyYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtZXhwaXJhdGlvbi9FeHBpcmF0aW9uUGx1Z2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy93b3JrYm94LWNvcmUvcmVnaXN0ZXJRdW90YUVycm9yQ2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vLy4vSGVscGVycy9TZXJ2aWNlV29ya2VyL1NlcnZpY2VXb3JrZXIudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtY29yZS9jbGllbnRzQ2xhaW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3dvcmtib3gtcm91dGluZy9yZWdpc3RlclJvdXRlLmpzIiwid2VicGFjazovLy8uL0FwcC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8vIEB0cy1pZ25vcmVcbnRyeSB7XG4gICAgc2VsZlsnd29ya2JveDpjb3JlOjYuNS4zJ10gJiYgXygpO1xufVxuY2F0Y2ggKGUpIHsgfVxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBAdHMtaWdub3JlXG50cnkge1xuICAgIHNlbGZbJ3dvcmtib3g6ZXhwaXJhdGlvbjo2LjUuMyddICYmIF8oKTtcbn1cbmNhdGNoIChlKSB7IH1cbiIsIlwidXNlIHN0cmljdFwiO1xuLy8gQHRzLWlnbm9yZVxudHJ5IHtcbiAgICBzZWxmWyd3b3JrYm94OnJvdXRpbmc6Ni41LjMnXSAmJiBfKCk7XG59XG5jYXRjaCAoZSkgeyB9XG4iLCJcInVzZSBzdHJpY3RcIjtcbi8vIEB0cy1pZ25vcmVcbnRyeSB7XG4gICAgc2VsZlsnd29ya2JveDpzdHJhdGVnaWVzOjYuNS4zJ10gJiYgXygpO1xufVxuY2F0Y2ggKGUpIHsgfVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsImltcG9ydCB7IEJvb2ssIFBhZ2UsIFRleHRFbGVtZW50LCBJbWFnZUVsZW1lbnQsIEF1ZGlvRWxlbWVudCB9IGZyb20gXCIuLi9Nb2RlbHMvTW9kZWxzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29udGVudFBhcnNlciB7XHJcblxyXG4gICAgaW1hZ2VzUGF0aDogc3RyaW5nO1xyXG4gICAgYXVkaW9QYXRoOiBzdHJpbmc7XHJcbiAgICBjb250ZW50RmlsZVBhdGg6IHN0cmluZztcclxuXHJcbiAgICBjb250ZW50SlNPTjogYW55O1xyXG5cclxuICAgIGVtcHR5R2xvd0ltYWdlVGFnOiBzdHJpbmcgPSBcImVtcHR5X2dsb3dfaW1hZ2VcIjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50RmlsZVBhdGg6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY29udGVudEZpbGVQYXRoID0gY29udGVudEZpbGVQYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHBhcnNlQm9vayAoKTogUHJvbWlzZTxCb29rPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5wYXJzZUNvbnRlbnRKU09ORmlsZSgpLnRoZW4oKGNvbnRlbnRKU09OKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRKU09OID0gY29udGVudEpTT047XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkNvbnRlbnQgSlNPTiBmaWxlIHBhcnNlZCFcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbnRlbnRKU09OKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYm9vazogQm9vayA9IHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlczogW10sXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgYm9vay5wYWdlcyA9IHRoaXMucGFyc2VQYWdlcygpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShib29rKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZVBhZ2VzKCk6IFBhZ2VbXSB7XHJcbiAgICAgICAgbGV0IHBhZ2VzOiBQYWdlW10gPSBbXTtcclxuICAgICAgICBsZXQgcGFnZXNKU09OID0gdGhpcy5jb250ZW50SlNPTltcInByZXNlbnRhdGlvblwiXVtcInNsaWRlc1wiXTtcclxuICAgICAgICBsZXQgZ2xvYmFsRmlsbENvbG9yID0gdGhpcy5jb250ZW50SlNPTltcInByZXNlbnRhdGlvblwiXVtcImdsb2JhbEJhY2tncm91bmRTZWxlY3RvclwiXVtcImZpbGxHbG9iYWxCYWNrZ3JvdW5kXCJdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXNKU09OLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCBwYWdlSlNPTiA9IHBhZ2VzSlNPTltpXTtcclxuICAgICAgICAgICAgbGV0IHBhZ2U6IFBhZ2UgPSB7XHJcbiAgICAgICAgICAgICAgICB2aXN1YWxFbGVtZW50czogW10sXHJcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGdsb2JhbEZpbGxDb2xvcixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcGFnZS52aXN1YWxFbGVtZW50cyA9IHRoaXMucGFyc2VQYWdlKHBhZ2VKU09OKTtcclxuICAgICAgICAgICAgcGFnZXMucHVzaChwYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlUGFnZShwYWdlSlNPTjogYW55KTogYW55W10ge1xyXG4gICAgICAgIGxldCB2aXN1YWxFbGVtZW50czogYW55W10gPSBbXTtcclxuICAgICAgICBsZXQgZWxlbWVudHNKU09OID0gcGFnZUpTT05bXCJlbGVtZW50c1wiXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGVsZW1lbnRzSlNPTi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgbGlicmFyeVN0cmluZzogc3RyaW5nID0gZWxlbWVudHNKU09OW2ldW1wiYWN0aW9uXCJdW1wibGlicmFyeVwiXTtcclxuICAgICAgICAgICAgaWYgKGxpYnJhcnlTdHJpbmcuaW5jbHVkZXMoXCJBZHZhbmNlZFRleHRcIikpIHtcclxuICAgICAgICAgICAgICAgIGxldCB0ZXh0RWxlbWVudDogVGV4dEVsZW1lbnQgPSB0aGlzLnBhcnNlVGV4dEVsZW1lbnQoZWxlbWVudHNKU09OW2ldKTtcclxuICAgICAgICAgICAgICAgIHZpc3VhbEVsZW1lbnRzLnB1c2godGV4dEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpYnJhcnlTdHJpbmcuaW5jbHVkZXMoXCJJbWFnZVwiKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGltYWdlRWxlbWVudDogSW1hZ2VFbGVtZW50ID0gdGhpcy5wYXJzZUltYWdlRWxlbWVudChlbGVtZW50c0pTT05baV0pO1xyXG4gICAgICAgICAgICAgICAgdmlzdWFsRWxlbWVudHMucHVzaChpbWFnZUVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGVsc2UgaWYgKGxpYnJhcnlTdHJpbmcuaW5jbHVkZXMoXCJBdWRpb1wiKSkge1xyXG4gICAgICAgICAgICAvLyAgICAgbGV0IGF1ZGlvRWxlbWVudDogQXVkaW9FbGVtZW50ID0gdGhpcy5wYXJzZUF1ZGlvRWxlbWVudChlbGVtZW50c0pTT05baV0pO1xyXG4gICAgICAgICAgICAvLyAgICAgdmlzdWFsRWxlbWVudHMucHVzaChhdWRpb0VsZW1lbnQpO1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmlzdWFsRWxlbWVudHM7XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VUZXh0RWxlbWVudChlbGVtZW50SlNPTjogYW55KTogVGV4dEVsZW1lbnQge1xyXG4gICAgICAgIGxldCB0ZXh0RWxlbWVudDogVGV4dEVsZW1lbnQgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICBwb3NpdGlvblg6IGVsZW1lbnRKU09OW1wieFwiXSxcclxuICAgICAgICAgICAgcG9zaXRpb25ZOiBlbGVtZW50SlNPTltcInlcIl0sXHJcbiAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50SlNPTltcIndpZHRoXCJdLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IGVsZW1lbnRKU09OW1wiaGVpZ2h0XCJdLFxyXG4gICAgICAgICAgICB0ZXh0Q29udGVudEFzSFRNTDogZWxlbWVudEpTT05bXCJhY3Rpb25cIl1bXCJwYXJhbXNcIl1bXCJ0ZXh0XCJdLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB0ZXh0RWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZUltYWdlRWxlbWVudChlbGVtZW50SlNPTjogYW55KTogSW1hZ2VFbGVtZW50IHtcclxuICAgICAgICBsZXQgcGF0aDogc3RyaW5nID0gXCJcIjsgO1xyXG4gICAgICAgIGlmIChlbGVtZW50SlNPTltcImFjdGlvblwiXVtcInBhcmFtc1wiXVtcImZpbGVcIl0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBwYXRoID0gdGhpcy5lbXB0eUdsb3dJbWFnZVRhZztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXRoID0gZWxlbWVudEpTT05bXCJhY3Rpb25cIl1bXCJwYXJhbXNcIl1bXCJmaWxlXCJdW1wicGF0aFwiXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGltYWdlRWxlbWVudDogSW1hZ2VFbGVtZW50ID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBcImltYWdlXCIsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uWDogZWxlbWVudEpTT05bXCJ4XCJdLFxyXG4gICAgICAgICAgICBwb3NpdGlvblk6IGVsZW1lbnRKU09OW1wieVwiXSxcclxuICAgICAgICAgICAgd2lkdGg6IGVsZW1lbnRKU09OW1wid2lkdGhcIl0sXHJcbiAgICAgICAgICAgIGhlaWdodDogZWxlbWVudEpTT05bXCJoZWlnaHRcIl0sXHJcbiAgICAgICAgICAgIGltYWdlU291cmNlOiBwYXRoLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBpbWFnZUVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VBdWRpb0VsZW1lbnQoZWxlbWVudEpTT046IGFueSk6IEF1ZGlvRWxlbWVudCB7XHJcbiAgICAgICAgbGV0IGF1ZGlvRWxlbWVudDogQXVkaW9FbGVtZW50ID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBcImF1ZGlvXCIsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uWDogZWxlbWVudEpTT05bXCJwb3NpdGlvblwiXVtcInhcIl0sXHJcbiAgICAgICAgICAgIHBvc2l0aW9uWTogZWxlbWVudEpTT05bXCJwb3NpdGlvblwiXVtcInlcIl0sXHJcbiAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50SlNPTltcInNpemVcIl1bXCJ3aWR0aFwiXSxcclxuICAgICAgICAgICAgaGVpZ2h0OiBlbGVtZW50SlNPTltcInNpemVcIl1bXCJoZWlnaHRcIl0sXHJcbiAgICAgICAgICAgIGF1ZGlvU3JjOiBlbGVtZW50SlNPTltcImFjdGlvblwiXVtcImF1ZGlvU3JjXCJdLFxyXG4gICAgICAgICAgICBzdHlsZXM6IGVsZW1lbnRKU09OW1wic3R5bGVzXCJdLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBhdWRpb0VsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgcGFyc2VDb250ZW50SlNPTkZpbGUoKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB0aGlzLmNvbnRlbnRGaWxlUGF0aCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XHJcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhdHVzID0geGhyLnN0YXR1cztcclxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25zZSA9IHhoci5yZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzcG9uc2VbXCJsMTBuXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXNwb25zZVtcIm92ZXJyaWRlXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZWplY3QoeGhyLnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuIiwiZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfVxuXG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb25zdHJ1Y3RvciwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogZmFsc2UgfSk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfVxuXG4vKiFcbiAqIFNwbGlkZS5qc1xuICogVmVyc2lvbiAgOiA0LjEuNFxuICogTGljZW5zZSAgOiBNSVRcbiAqIENvcHlyaWdodDogMjAyMiBOYW90b3NoaSBGdWppdGFcbiAqL1xudmFyIE1FRElBX1BSRUZFUlNfUkVEVUNFRF9NT1RJT04gPSBcIihwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpXCI7XG52YXIgQ1JFQVRFRCA9IDE7XG52YXIgTU9VTlRFRCA9IDI7XG52YXIgSURMRSA9IDM7XG52YXIgTU9WSU5HID0gNDtcbnZhciBTQ1JPTExJTkcgPSA1O1xudmFyIERSQUdHSU5HID0gNjtcbnZhciBERVNUUk9ZRUQgPSA3O1xudmFyIFNUQVRFUyA9IHtcbiAgQ1JFQVRFRDogQ1JFQVRFRCxcbiAgTU9VTlRFRDogTU9VTlRFRCxcbiAgSURMRTogSURMRSxcbiAgTU9WSU5HOiBNT1ZJTkcsXG4gIFNDUk9MTElORzogU0NST0xMSU5HLFxuICBEUkFHR0lORzogRFJBR0dJTkcsXG4gIERFU1RST1lFRDogREVTVFJPWUVEXG59O1xuXG5mdW5jdGlvbiBlbXB0eShhcnJheSkge1xuICBhcnJheS5sZW5ndGggPSAwO1xufVxuXG5mdW5jdGlvbiBzbGljZShhcnJheUxpa2UsIHN0YXJ0LCBlbmQpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFycmF5TGlrZSwgc3RhcnQsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5KGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmMuYmluZC5hcHBseShmdW5jLCBbbnVsbF0uY29uY2F0KHNsaWNlKGFyZ3VtZW50cywgMSkpKTtcbn1cblxudmFyIG5leHRUaWNrID0gc2V0VGltZW91dDtcblxudmFyIG5vb3AgPSBmdW5jdGlvbiBub29wKCkge307XG5cbmZ1bmN0aW9uIHJhZihmdW5jKSB7XG4gIHJldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuYyk7XG59XG5cbmZ1bmN0aW9uIHR5cGVPZih0eXBlLCBzdWJqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygc3ViamVjdCA9PT0gdHlwZTtcbn1cblxuZnVuY3Rpb24gaXNPYmplY3Qoc3ViamVjdCkge1xuICByZXR1cm4gIWlzTnVsbChzdWJqZWN0KSAmJiB0eXBlT2YoXCJvYmplY3RcIiwgc3ViamVjdCk7XG59XG5cbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBpc0Z1bmN0aW9uID0gYXBwbHkodHlwZU9mLCBcImZ1bmN0aW9uXCIpO1xudmFyIGlzU3RyaW5nID0gYXBwbHkodHlwZU9mLCBcInN0cmluZ1wiKTtcbnZhciBpc1VuZGVmaW5lZCA9IGFwcGx5KHR5cGVPZiwgXCJ1bmRlZmluZWRcIik7XG5cbmZ1bmN0aW9uIGlzTnVsbChzdWJqZWN0KSB7XG4gIHJldHVybiBzdWJqZWN0ID09PSBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0hUTUxFbGVtZW50KHN1YmplY3QpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gc3ViamVjdCBpbnN0YW5jZW9mIChzdWJqZWN0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93KS5IVE1MRWxlbWVudDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b0FycmF5KHZhbHVlKSB7XG4gIHJldHVybiBpc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbn1cblxuZnVuY3Rpb24gZm9yRWFjaCh2YWx1ZXMsIGl0ZXJhdGVlKSB7XG4gIHRvQXJyYXkodmFsdWVzKS5mb3JFYWNoKGl0ZXJhdGVlKTtcbn1cblxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIHZhbHVlKSB7XG4gIHJldHVybiBhcnJheS5pbmRleE9mKHZhbHVlKSA+IC0xO1xufVxuXG5mdW5jdGlvbiBwdXNoKGFycmF5LCBpdGVtcykge1xuICBhcnJheS5wdXNoLmFwcGx5KGFycmF5LCB0b0FycmF5KGl0ZW1zKSk7XG4gIHJldHVybiBhcnJheTtcbn1cblxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoZWxtLCBjbGFzc2VzLCBhZGQpIHtcbiAgaWYgKGVsbSkge1xuICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIGVsbS5jbGFzc0xpc3RbYWRkID8gXCJhZGRcIiA6IFwicmVtb3ZlXCJdKG5hbWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkZENsYXNzKGVsbSwgY2xhc3Nlcykge1xuICB0b2dnbGVDbGFzcyhlbG0sIGlzU3RyaW5nKGNsYXNzZXMpID8gY2xhc3Nlcy5zcGxpdChcIiBcIikgOiBjbGFzc2VzLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kKHBhcmVudCwgY2hpbGRyZW4pIHtcbiAgZm9yRWFjaChjaGlsZHJlbiwgcGFyZW50LmFwcGVuZENoaWxkLmJpbmQocGFyZW50KSk7XG59XG5cbmZ1bmN0aW9uIGJlZm9yZShub2RlcywgcmVmKSB7XG4gIGZvckVhY2gobm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgdmFyIHBhcmVudCA9IChyZWYgfHwgbm9kZSkucGFyZW50Tm9kZTtcblxuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgcmVmKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBtYXRjaGVzKGVsbSwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIGlzSFRNTEVsZW1lbnQoZWxtKSAmJiAoZWxtW1wibXNNYXRjaGVzU2VsZWN0b3JcIl0gfHwgZWxtLm1hdGNoZXMpLmNhbGwoZWxtLCBzZWxlY3Rvcik7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuKHBhcmVudCwgc2VsZWN0b3IpIHtcbiAgdmFyIGNoaWxkcmVuMiA9IHBhcmVudCA/IHNsaWNlKHBhcmVudC5jaGlsZHJlbikgOiBbXTtcbiAgcmV0dXJuIHNlbGVjdG9yID8gY2hpbGRyZW4yLmZpbHRlcihmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICByZXR1cm4gbWF0Y2hlcyhjaGlsZCwgc2VsZWN0b3IpO1xuICB9KSA6IGNoaWxkcmVuMjtcbn1cblxuZnVuY3Rpb24gY2hpbGQocGFyZW50LCBzZWxlY3Rvcikge1xuICByZXR1cm4gc2VsZWN0b3IgPyBjaGlsZHJlbihwYXJlbnQsIHNlbGVjdG9yKVswXSA6IHBhcmVudC5maXJzdEVsZW1lbnRDaGlsZDtcbn1cblxudmFyIG93bktleXMgPSBPYmplY3Qua2V5cztcblxuZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUsIHJpZ2h0KSB7XG4gIGlmIChvYmplY3QpIHtcbiAgICAocmlnaHQgPyBvd25LZXlzKG9iamVjdCkucmV2ZXJzZSgpIDogb3duS2V5cyhvYmplY3QpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGtleSAhPT0gXCJfX3Byb3RvX19cIiAmJiBpdGVyYXRlZShvYmplY3Rba2V5XSwga2V5KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIGFzc2lnbihvYmplY3QpIHtcbiAgc2xpY2UoYXJndW1lbnRzLCAxKS5mb3JFYWNoKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICBmb3JPd24oc291cmNlLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgb2JqZWN0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIG1lcmdlKG9iamVjdCkge1xuICBzbGljZShhcmd1bWVudHMsIDEpLmZvckVhY2goZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgIGZvck93bihzb3VyY2UsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZS5zbGljZSgpO1xuICAgICAgfSBlbHNlIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSBtZXJnZSh7fSwgaXNPYmplY3Qob2JqZWN0W2tleV0pID8gb2JqZWN0W2tleV0gOiB7fSwgdmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBvYmplY3Q7XG59XG5cbmZ1bmN0aW9uIG9taXQob2JqZWN0LCBrZXlzKSB7XG4gIGZvckVhY2goa2V5cyB8fCBvd25LZXlzKG9iamVjdCksIGZ1bmN0aW9uIChrZXkpIHtcbiAgICBkZWxldGUgb2JqZWN0W2tleV07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBdHRyaWJ1dGUoZWxtcywgYXR0cnMpIHtcbiAgZm9yRWFjaChlbG1zLCBmdW5jdGlvbiAoZWxtKSB7XG4gICAgZm9yRWFjaChhdHRycywgZnVuY3Rpb24gKGF0dHIpIHtcbiAgICAgIGVsbSAmJiBlbG0ucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2V0QXR0cmlidXRlKGVsbXMsIGF0dHJzLCB2YWx1ZSkge1xuICBpZiAoaXNPYmplY3QoYXR0cnMpKSB7XG4gICAgZm9yT3duKGF0dHJzLCBmdW5jdGlvbiAodmFsdWUyLCBuYW1lKSB7XG4gICAgICBzZXRBdHRyaWJ1dGUoZWxtcywgbmFtZSwgdmFsdWUyKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBmb3JFYWNoKGVsbXMsIGZ1bmN0aW9uIChlbG0pIHtcbiAgICAgIGlzTnVsbCh2YWx1ZSkgfHwgdmFsdWUgPT09IFwiXCIgPyByZW1vdmVBdHRyaWJ1dGUoZWxtLCBhdHRycykgOiBlbG0uc2V0QXR0cmlidXRlKGF0dHJzLCBTdHJpbmcodmFsdWUpKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGUodGFnLCBhdHRycywgcGFyZW50KSB7XG4gIHZhciBlbG0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG5cbiAgaWYgKGF0dHJzKSB7XG4gICAgaXNTdHJpbmcoYXR0cnMpID8gYWRkQ2xhc3MoZWxtLCBhdHRycykgOiBzZXRBdHRyaWJ1dGUoZWxtLCBhdHRycyk7XG4gIH1cblxuICBwYXJlbnQgJiYgYXBwZW5kKHBhcmVudCwgZWxtKTtcbiAgcmV0dXJuIGVsbTtcbn1cblxuZnVuY3Rpb24gc3R5bGUoZWxtLCBwcm9wLCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGUoZWxtKVtwcm9wXTtcbiAgfVxuXG4gIGlmICghaXNOdWxsKHZhbHVlKSkge1xuICAgIGVsbS5zdHlsZVtwcm9wXSA9IFwiXCIgKyB2YWx1ZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkaXNwbGF5KGVsbSwgZGlzcGxheTIpIHtcbiAgc3R5bGUoZWxtLCBcImRpc3BsYXlcIiwgZGlzcGxheTIpO1xufVxuXG5mdW5jdGlvbiBmb2N1cyhlbG0pIHtcbiAgZWxtW1wic2V0QWN0aXZlXCJdICYmIGVsbVtcInNldEFjdGl2ZVwiXSgpIHx8IGVsbS5mb2N1cyh7XG4gICAgcHJldmVudFNjcm9sbDogdHJ1ZVxuICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0QXR0cmlidXRlKGVsbSwgYXR0cikge1xuICByZXR1cm4gZWxtLmdldEF0dHJpYnV0ZShhdHRyKTtcbn1cblxuZnVuY3Rpb24gaGFzQ2xhc3MoZWxtLCBjbGFzc05hbWUpIHtcbiAgcmV0dXJuIGVsbSAmJiBlbG0uY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7XG59XG5cbmZ1bmN0aW9uIHJlY3QodGFyZ2V0KSB7XG4gIHJldHVybiB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZShub2Rlcykge1xuICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuICAgIGlmIChub2RlICYmIG5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlSHRtbChodG1sKSB7XG4gIHJldHVybiBjaGlsZChuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKGh0bWwsIFwidGV4dC9odG1sXCIpLmJvZHkpO1xufVxuXG5mdW5jdGlvbiBwcmV2ZW50KGUsIHN0b3BQcm9wYWdhdGlvbikge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBxdWVyeShwYXJlbnQsIHNlbGVjdG9yKSB7XG4gIHJldHVybiBwYXJlbnQgJiYgcGFyZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xufVxuXG5mdW5jdGlvbiBxdWVyeUFsbChwYXJlbnQsIHNlbGVjdG9yKSB7XG4gIHJldHVybiBzZWxlY3RvciA/IHNsaWNlKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSkgOiBbXTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxtLCBjbGFzc2VzKSB7XG4gIHRvZ2dsZUNsYXNzKGVsbSwgY2xhc3NlcywgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiB0aW1lT2YoZSkge1xuICByZXR1cm4gZS50aW1lU3RhbXA7XG59XG5cbmZ1bmN0aW9uIHVuaXQodmFsdWUpIHtcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlIDogdmFsdWUgPyB2YWx1ZSArIFwicHhcIiA6IFwiXCI7XG59XG5cbnZhciBQUk9KRUNUX0NPREUgPSBcInNwbGlkZVwiO1xudmFyIERBVEFfQVRUUklCVVRFID0gXCJkYXRhLVwiICsgUFJPSkVDVF9DT0RFO1xuXG5mdW5jdGlvbiBhc3NlcnQoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gIGlmICghY29uZGl0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiW1wiICsgUFJPSkVDVF9DT0RFICsgXCJdIFwiICsgKG1lc3NhZ2UgfHwgXCJcIikpO1xuICB9XG59XG5cbnZhciBtaW4gPSBNYXRoLm1pbixcbiAgICBtYXggPSBNYXRoLm1heCxcbiAgICBmbG9vciA9IE1hdGguZmxvb3IsXG4gICAgY2VpbCA9IE1hdGguY2VpbCxcbiAgICBhYnMgPSBNYXRoLmFicztcblxuZnVuY3Rpb24gYXBwcm94aW1hdGVseUVxdWFsKHgsIHksIGVwc2lsb24pIHtcbiAgcmV0dXJuIGFicyh4IC0geSkgPCBlcHNpbG9uO1xufVxuXG5mdW5jdGlvbiBiZXR3ZWVuKG51bWJlciwgeCwgeSwgZXhjbHVzaXZlKSB7XG4gIHZhciBtaW5pbXVtID0gbWluKHgsIHkpO1xuICB2YXIgbWF4aW11bSA9IG1heCh4LCB5KTtcbiAgcmV0dXJuIGV4Y2x1c2l2ZSA/IG1pbmltdW0gPCBudW1iZXIgJiYgbnVtYmVyIDwgbWF4aW11bSA6IG1pbmltdW0gPD0gbnVtYmVyICYmIG51bWJlciA8PSBtYXhpbXVtO1xufVxuXG5mdW5jdGlvbiBjbGFtcChudW1iZXIsIHgsIHkpIHtcbiAgdmFyIG1pbmltdW0gPSBtaW4oeCwgeSk7XG4gIHZhciBtYXhpbXVtID0gbWF4KHgsIHkpO1xuICByZXR1cm4gbWluKG1heChtaW5pbXVtLCBudW1iZXIpLCBtYXhpbXVtKTtcbn1cblxuZnVuY3Rpb24gc2lnbih4KSB7XG4gIHJldHVybiArKHggPiAwKSAtICsoeCA8IDApO1xufVxuXG5mdW5jdGlvbiBjYW1lbFRvS2ViYWIoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xufVxuXG5mdW5jdGlvbiBmb3JtYXQoc3RyaW5nLCByZXBsYWNlbWVudHMpIHtcbiAgZm9yRWFjaChyZXBsYWNlbWVudHMsIGZ1bmN0aW9uIChyZXBsYWNlbWVudCkge1xuICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKFwiJXNcIiwgXCJcIiArIHJlcGxhY2VtZW50KTtcbiAgfSk7XG4gIHJldHVybiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIHBhZChudW1iZXIpIHtcbiAgcmV0dXJuIG51bWJlciA8IDEwID8gXCIwXCIgKyBudW1iZXIgOiBcIlwiICsgbnVtYmVyO1xufVxuXG52YXIgaWRzID0ge307XG5cbmZ1bmN0aW9uIHVuaXF1ZUlkKHByZWZpeCkge1xuICByZXR1cm4gXCJcIiArIHByZWZpeCArIHBhZChpZHNbcHJlZml4XSA9IChpZHNbcHJlZml4XSB8fCAwKSArIDEpO1xufVxuXG5mdW5jdGlvbiBFdmVudEJpbmRlcigpIHtcbiAgdmFyIGxpc3RlbmVycyA9IFtdO1xuXG4gIGZ1bmN0aW9uIGJpbmQodGFyZ2V0cywgZXZlbnRzLCBjYWxsYmFjaywgb3B0aW9ucykge1xuICAgIGZvckVhY2hFdmVudCh0YXJnZXRzLCBldmVudHMsIGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50LCBuYW1lc3BhY2UpIHtcbiAgICAgIHZhciBpc0V2ZW50VGFyZ2V0ID0gKFwiYWRkRXZlbnRMaXN0ZW5lclwiIGluIHRhcmdldCk7XG4gICAgICB2YXIgcmVtb3ZlciA9IGlzRXZlbnRUYXJnZXQgPyB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lci5iaW5kKHRhcmdldCwgZXZlbnQsIGNhbGxiYWNrLCBvcHRpb25zKSA6IHRhcmdldFtcInJlbW92ZUxpc3RlbmVyXCJdLmJpbmQodGFyZ2V0LCBjYWxsYmFjayk7XG4gICAgICBpc0V2ZW50VGFyZ2V0ID8gdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrLCBvcHRpb25zKSA6IHRhcmdldFtcImFkZExpc3RlbmVyXCJdKGNhbGxiYWNrKTtcbiAgICAgIGxpc3RlbmVycy5wdXNoKFt0YXJnZXQsIGV2ZW50LCBuYW1lc3BhY2UsIGNhbGxiYWNrLCByZW1vdmVyXSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB1bmJpbmQodGFyZ2V0cywgZXZlbnRzLCBjYWxsYmFjaykge1xuICAgIGZvckVhY2hFdmVudCh0YXJnZXRzLCBldmVudHMsIGZ1bmN0aW9uICh0YXJnZXQsIGV2ZW50LCBuYW1lc3BhY2UpIHtcbiAgICAgIGxpc3RlbmVycyA9IGxpc3RlbmVycy5maWx0ZXIoZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChsaXN0ZW5lclswXSA9PT0gdGFyZ2V0ICYmIGxpc3RlbmVyWzFdID09PSBldmVudCAmJiBsaXN0ZW5lclsyXSA9PT0gbmFtZXNwYWNlICYmICghY2FsbGJhY2sgfHwgbGlzdGVuZXJbM10gPT09IGNhbGxiYWNrKSkge1xuICAgICAgICAgIGxpc3RlbmVyWzRdKCk7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoKHRhcmdldCwgdHlwZSwgZGV0YWlsKSB7XG4gICAgdmFyIGU7XG4gICAgdmFyIGJ1YmJsZXMgPSB0cnVlO1xuXG4gICAgaWYgKHR5cGVvZiBDdXN0b21FdmVudCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBlID0gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHtcbiAgICAgICAgYnViYmxlczogYnViYmxlcyxcbiAgICAgICAgZGV0YWlsOiBkZXRhaWxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJDdXN0b21FdmVudFwiKTtcbiAgICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGJ1YmJsZXMsIGZhbHNlLCBkZXRhaWwpO1xuICAgIH1cblxuICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGUpO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgZnVuY3Rpb24gZm9yRWFjaEV2ZW50KHRhcmdldHMsIGV2ZW50cywgaXRlcmF0ZWUpIHtcbiAgICBmb3JFYWNoKHRhcmdldHMsIGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHRhcmdldCAmJiBmb3JFYWNoKGV2ZW50cywgZnVuY3Rpb24gKGV2ZW50czIpIHtcbiAgICAgICAgZXZlbnRzMi5zcGxpdChcIiBcIikuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnROUykge1xuICAgICAgICAgIHZhciBmcmFnbWVudCA9IGV2ZW50TlMuc3BsaXQoXCIuXCIpO1xuICAgICAgICAgIGl0ZXJhdGVlKHRhcmdldCwgZnJhZ21lbnRbMF0sIGZyYWdtZW50WzFdKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgIGRhdGFbNF0oKTtcbiAgICB9KTtcbiAgICBlbXB0eShsaXN0ZW5lcnMpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBiaW5kOiBiaW5kLFxuICAgIHVuYmluZDogdW5iaW5kLFxuICAgIGRpc3BhdGNoOiBkaXNwYXRjaCxcbiAgICBkZXN0cm95OiBkZXN0cm95XG4gIH07XG59XG5cbnZhciBFVkVOVF9NT1VOVEVEID0gXCJtb3VudGVkXCI7XG52YXIgRVZFTlRfUkVBRFkgPSBcInJlYWR5XCI7XG52YXIgRVZFTlRfTU9WRSA9IFwibW92ZVwiO1xudmFyIEVWRU5UX01PVkVEID0gXCJtb3ZlZFwiO1xudmFyIEVWRU5UX0NMSUNLID0gXCJjbGlja1wiO1xudmFyIEVWRU5UX0FDVElWRSA9IFwiYWN0aXZlXCI7XG52YXIgRVZFTlRfSU5BQ1RJVkUgPSBcImluYWN0aXZlXCI7XG52YXIgRVZFTlRfVklTSUJMRSA9IFwidmlzaWJsZVwiO1xudmFyIEVWRU5UX0hJRERFTiA9IFwiaGlkZGVuXCI7XG52YXIgRVZFTlRfUkVGUkVTSCA9IFwicmVmcmVzaFwiO1xudmFyIEVWRU5UX1VQREFURUQgPSBcInVwZGF0ZWRcIjtcbnZhciBFVkVOVF9SRVNJWkUgPSBcInJlc2l6ZVwiO1xudmFyIEVWRU5UX1JFU0laRUQgPSBcInJlc2l6ZWRcIjtcbnZhciBFVkVOVF9EUkFHID0gXCJkcmFnXCI7XG52YXIgRVZFTlRfRFJBR0dJTkcgPSBcImRyYWdnaW5nXCI7XG52YXIgRVZFTlRfRFJBR0dFRCA9IFwiZHJhZ2dlZFwiO1xudmFyIEVWRU5UX1NDUk9MTCA9IFwic2Nyb2xsXCI7XG52YXIgRVZFTlRfU0NST0xMRUQgPSBcInNjcm9sbGVkXCI7XG52YXIgRVZFTlRfT1ZFUkZMT1cgPSBcIm92ZXJmbG93XCI7XG52YXIgRVZFTlRfREVTVFJPWSA9IFwiZGVzdHJveVwiO1xudmFyIEVWRU5UX0FSUk9XU19NT1VOVEVEID0gXCJhcnJvd3M6bW91bnRlZFwiO1xudmFyIEVWRU5UX0FSUk9XU19VUERBVEVEID0gXCJhcnJvd3M6dXBkYXRlZFwiO1xudmFyIEVWRU5UX1BBR0lOQVRJT05fTU9VTlRFRCA9IFwicGFnaW5hdGlvbjptb3VudGVkXCI7XG52YXIgRVZFTlRfUEFHSU5BVElPTl9VUERBVEVEID0gXCJwYWdpbmF0aW9uOnVwZGF0ZWRcIjtcbnZhciBFVkVOVF9OQVZJR0FUSU9OX01PVU5URUQgPSBcIm5hdmlnYXRpb246bW91bnRlZFwiO1xudmFyIEVWRU5UX0FVVE9QTEFZX1BMQVkgPSBcImF1dG9wbGF5OnBsYXlcIjtcbnZhciBFVkVOVF9BVVRPUExBWV9QTEFZSU5HID0gXCJhdXRvcGxheTpwbGF5aW5nXCI7XG52YXIgRVZFTlRfQVVUT1BMQVlfUEFVU0UgPSBcImF1dG9wbGF5OnBhdXNlXCI7XG52YXIgRVZFTlRfTEFaWUxPQURfTE9BREVEID0gXCJsYXp5bG9hZDpsb2FkZWRcIjtcbnZhciBFVkVOVF9TTElERV9LRVlET1dOID0gXCJza1wiO1xudmFyIEVWRU5UX1NISUZURUQgPSBcInNoXCI7XG52YXIgRVZFTlRfRU5EX0lOREVYX0NIQU5HRUQgPSBcImVpXCI7XG5cbmZ1bmN0aW9uIEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpIHtcbiAgdmFyIGJ1cyA9IFNwbGlkZTIgPyBTcGxpZGUyLmV2ZW50LmJ1cyA6IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgdmFyIGJpbmRlciA9IEV2ZW50QmluZGVyKCk7XG5cbiAgZnVuY3Rpb24gb24oZXZlbnRzLCBjYWxsYmFjaykge1xuICAgIGJpbmRlci5iaW5kKGJ1cywgdG9BcnJheShldmVudHMpLmpvaW4oXCIgXCIpLCBmdW5jdGlvbiAoZSkge1xuICAgICAgY2FsbGJhY2suYXBwbHkoY2FsbGJhY2ssIGlzQXJyYXkoZS5kZXRhaWwpID8gZS5kZXRhaWwgOiBbXSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBlbWl0KGV2ZW50KSB7XG4gICAgYmluZGVyLmRpc3BhdGNoKGJ1cywgZXZlbnQsIHNsaWNlKGFyZ3VtZW50cywgMSkpO1xuICB9XG5cbiAgaWYgKFNwbGlkZTIpIHtcbiAgICBTcGxpZGUyLmV2ZW50Lm9uKEVWRU5UX0RFU1RST1ksIGJpbmRlci5kZXN0cm95KTtcbiAgfVxuXG4gIHJldHVybiBhc3NpZ24oYmluZGVyLCB7XG4gICAgYnVzOiBidXMsXG4gICAgb246IG9uLFxuICAgIG9mZjogYXBwbHkoYmluZGVyLnVuYmluZCwgYnVzKSxcbiAgICBlbWl0OiBlbWl0XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBSZXF1ZXN0SW50ZXJ2YWwoaW50ZXJ2YWwsIG9uSW50ZXJ2YWwsIG9uVXBkYXRlLCBsaW1pdCkge1xuICB2YXIgbm93ID0gRGF0ZS5ub3c7XG4gIHZhciBzdGFydFRpbWU7XG4gIHZhciByYXRlID0gMDtcbiAgdmFyIGlkO1xuICB2YXIgcGF1c2VkID0gdHJ1ZTtcbiAgdmFyIGNvdW50ID0gMDtcblxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgaWYgKCFwYXVzZWQpIHtcbiAgICAgIHJhdGUgPSBpbnRlcnZhbCA/IG1pbigobm93KCkgLSBzdGFydFRpbWUpIC8gaW50ZXJ2YWwsIDEpIDogMTtcbiAgICAgIG9uVXBkYXRlICYmIG9uVXBkYXRlKHJhdGUpO1xuXG4gICAgICBpZiAocmF0ZSA+PSAxKSB7XG4gICAgICAgIG9uSW50ZXJ2YWwoKTtcbiAgICAgICAgc3RhcnRUaW1lID0gbm93KCk7XG5cbiAgICAgICAgaWYgKGxpbWl0ICYmICsrY291bnQgPj0gbGltaXQpIHtcbiAgICAgICAgICByZXR1cm4gcGF1c2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZCA9IHJhZih1cGRhdGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0KHJlc3VtZSkge1xuICAgIHJlc3VtZSB8fCBjYW5jZWwoKTtcbiAgICBzdGFydFRpbWUgPSBub3coKSAtIChyZXN1bWUgPyByYXRlICogaW50ZXJ2YWwgOiAwKTtcbiAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICBpZCA9IHJhZih1cGRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2UoKSB7XG4gICAgcGF1c2VkID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJld2luZCgpIHtcbiAgICBzdGFydFRpbWUgPSBub3coKTtcbiAgICByYXRlID0gMDtcblxuICAgIGlmIChvblVwZGF0ZSkge1xuICAgICAgb25VcGRhdGUocmF0ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlkICYmIGNhbmNlbEFuaW1hdGlvbkZyYW1lKGlkKTtcbiAgICByYXRlID0gMDtcbiAgICBpZCA9IDA7XG4gICAgcGF1c2VkID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldCh0aW1lKSB7XG4gICAgaW50ZXJ2YWwgPSB0aW1lO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNQYXVzZWQoKSB7XG4gICAgcmV0dXJuIHBhdXNlZDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIHJld2luZDogcmV3aW5kLFxuICAgIHBhdXNlOiBwYXVzZSxcbiAgICBjYW5jZWw6IGNhbmNlbCxcbiAgICBzZXQ6IHNldCxcbiAgICBpc1BhdXNlZDogaXNQYXVzZWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gU3RhdGUoaW5pdGlhbFN0YXRlKSB7XG4gIHZhciBzdGF0ZSA9IGluaXRpYWxTdGF0ZTtcblxuICBmdW5jdGlvbiBzZXQodmFsdWUpIHtcbiAgICBzdGF0ZSA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gaXMoc3RhdGVzKSB7XG4gICAgcmV0dXJuIGluY2x1ZGVzKHRvQXJyYXkoc3RhdGVzKSwgc3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzZXQ6IHNldCxcbiAgICBpczogaXNcbiAgfTtcbn1cblxuZnVuY3Rpb24gVGhyb3R0bGUoZnVuYywgZHVyYXRpb24pIHtcbiAgdmFyIGludGVydmFsID0gUmVxdWVzdEludGVydmFsKGR1cmF0aW9uIHx8IDAsIGZ1bmMsIG51bGwsIDEpO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGludGVydmFsLmlzUGF1c2VkKCkgJiYgaW50ZXJ2YWwuc3RhcnQoKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gTWVkaWEoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIHN0YXRlID0gU3BsaWRlMi5zdGF0ZTtcbiAgdmFyIGJyZWFrcG9pbnRzID0gb3B0aW9ucy5icmVha3BvaW50cyB8fCB7fTtcbiAgdmFyIHJlZHVjZWRNb3Rpb24gPSBvcHRpb25zLnJlZHVjZWRNb3Rpb24gfHwge307XG4gIHZhciBiaW5kZXIgPSBFdmVudEJpbmRlcigpO1xuICB2YXIgcXVlcmllcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIHZhciBpc01pbiA9IG9wdGlvbnMubWVkaWFRdWVyeSA9PT0gXCJtaW5cIjtcbiAgICBvd25LZXlzKGJyZWFrcG9pbnRzKS5zb3J0KGZ1bmN0aW9uIChuLCBtKSB7XG4gICAgICByZXR1cm4gaXNNaW4gPyArbiAtICttIDogK20gLSArbjtcbiAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHJlZ2lzdGVyKGJyZWFrcG9pbnRzW2tleV0sIFwiKFwiICsgKGlzTWluID8gXCJtaW5cIiA6IFwibWF4XCIpICsgXCItd2lkdGg6XCIgKyBrZXkgKyBcInB4KVwiKTtcbiAgICB9KTtcbiAgICByZWdpc3RlcihyZWR1Y2VkTW90aW9uLCBNRURJQV9QUkVGRVJTX1JFRFVDRURfTU9USU9OKTtcbiAgICB1cGRhdGUoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koY29tcGxldGVseSkge1xuICAgIGlmIChjb21wbGV0ZWx5KSB7XG4gICAgICBiaW5kZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyKG9wdGlvbnMyLCBxdWVyeSkge1xuICAgIHZhciBxdWVyeUxpc3QgPSBtYXRjaE1lZGlhKHF1ZXJ5KTtcbiAgICBiaW5kZXIuYmluZChxdWVyeUxpc3QsIFwiY2hhbmdlXCIsIHVwZGF0ZSk7XG4gICAgcXVlcmllcy5wdXNoKFtvcHRpb25zMiwgcXVlcnlMaXN0XSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgdmFyIGRlc3Ryb3llZCA9IHN0YXRlLmlzKERFU1RST1lFRCk7XG4gICAgdmFyIGRpcmVjdGlvbiA9IG9wdGlvbnMuZGlyZWN0aW9uO1xuICAgIHZhciBtZXJnZWQgPSBxdWVyaWVzLnJlZHVjZShmdW5jdGlvbiAobWVyZ2VkMiwgZW50cnkpIHtcbiAgICAgIHJldHVybiBtZXJnZShtZXJnZWQyLCBlbnRyeVsxXS5tYXRjaGVzID8gZW50cnlbMF0gOiB7fSk7XG4gICAgfSwge30pO1xuICAgIG9taXQob3B0aW9ucyk7XG4gICAgc2V0KG1lcmdlZCk7XG5cbiAgICBpZiAob3B0aW9ucy5kZXN0cm95KSB7XG4gICAgICBTcGxpZGUyLmRlc3Ryb3kob3B0aW9ucy5kZXN0cm95ID09PSBcImNvbXBsZXRlbHlcIik7XG4gICAgfSBlbHNlIGlmIChkZXN0cm95ZWQpIHtcbiAgICAgIGRlc3Ryb3kodHJ1ZSk7XG4gICAgICBTcGxpZGUyLm1vdW50KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRpcmVjdGlvbiAhPT0gb3B0aW9ucy5kaXJlY3Rpb24gJiYgU3BsaWRlMi5yZWZyZXNoKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVkdWNlKGVuYWJsZSkge1xuICAgIGlmIChtYXRjaE1lZGlhKE1FRElBX1BSRUZFUlNfUkVEVUNFRF9NT1RJT04pLm1hdGNoZXMpIHtcbiAgICAgIGVuYWJsZSA/IG1lcmdlKG9wdGlvbnMsIHJlZHVjZWRNb3Rpb24pIDogb21pdChvcHRpb25zLCBvd25LZXlzKHJlZHVjZWRNb3Rpb24pKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXQob3B0cywgYmFzZSwgbm90aWZ5KSB7XG4gICAgbWVyZ2Uob3B0aW9ucywgb3B0cyk7XG4gICAgYmFzZSAmJiBtZXJnZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yob3B0aW9ucyksIG9wdHMpO1xuXG4gICAgaWYgKG5vdGlmeSB8fCAhc3RhdGUuaXMoQ1JFQVRFRCkpIHtcbiAgICAgIFNwbGlkZTIuZW1pdChFVkVOVF9VUERBVEVELCBvcHRpb25zKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldHVwOiBzZXR1cCxcbiAgICBkZXN0cm95OiBkZXN0cm95LFxuICAgIHJlZHVjZTogcmVkdWNlLFxuICAgIHNldDogc2V0XG4gIH07XG59XG5cbnZhciBBUlJPVyA9IFwiQXJyb3dcIjtcbnZhciBBUlJPV19MRUZUID0gQVJST1cgKyBcIkxlZnRcIjtcbnZhciBBUlJPV19SSUdIVCA9IEFSUk9XICsgXCJSaWdodFwiO1xudmFyIEFSUk9XX1VQID0gQVJST1cgKyBcIlVwXCI7XG52YXIgQVJST1dfRE9XTiA9IEFSUk9XICsgXCJEb3duXCI7XG52YXIgTFRSID0gXCJsdHJcIjtcbnZhciBSVEwgPSBcInJ0bFwiO1xudmFyIFRUQiA9IFwidHRiXCI7XG52YXIgT1JJRU5UQVRJT05fTUFQID0ge1xuICB3aWR0aDogW1wiaGVpZ2h0XCJdLFxuICBsZWZ0OiBbXCJ0b3BcIiwgXCJyaWdodFwiXSxcbiAgcmlnaHQ6IFtcImJvdHRvbVwiLCBcImxlZnRcIl0sXG4gIHg6IFtcInlcIl0sXG4gIFg6IFtcIllcIl0sXG4gIFk6IFtcIlhcIl0sXG4gIEFycm93TGVmdDogW0FSUk9XX1VQLCBBUlJPV19SSUdIVF0sXG4gIEFycm93UmlnaHQ6IFtBUlJPV19ET1dOLCBBUlJPV19MRUZUXVxufTtcblxuZnVuY3Rpb24gRGlyZWN0aW9uKFNwbGlkZTIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIGZ1bmN0aW9uIHJlc29sdmUocHJvcCwgYXhpc09ubHksIGRpcmVjdGlvbikge1xuICAgIGRpcmVjdGlvbiA9IGRpcmVjdGlvbiB8fCBvcHRpb25zLmRpcmVjdGlvbjtcbiAgICB2YXIgaW5kZXggPSBkaXJlY3Rpb24gPT09IFJUTCAmJiAhYXhpc09ubHkgPyAxIDogZGlyZWN0aW9uID09PSBUVEIgPyAwIDogLTE7XG4gICAgcmV0dXJuIE9SSUVOVEFUSU9OX01BUFtwcm9wXSAmJiBPUklFTlRBVElPTl9NQVBbcHJvcF1baW5kZXhdIHx8IHByb3AucmVwbGFjZSgvd2lkdGh8bGVmdHxyaWdodC9pLCBmdW5jdGlvbiAobWF0Y2gsIG9mZnNldCkge1xuICAgICAgdmFyIHJlcGxhY2VtZW50ID0gT1JJRU5UQVRJT05fTUFQW21hdGNoLnRvTG93ZXJDYXNlKCldW2luZGV4XSB8fCBtYXRjaDtcbiAgICAgIHJldHVybiBvZmZzZXQgPiAwID8gcmVwbGFjZW1lbnQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyByZXBsYWNlbWVudC5zbGljZSgxKSA6IHJlcGxhY2VtZW50O1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb3JpZW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICogKG9wdGlvbnMuZGlyZWN0aW9uID09PSBSVEwgPyAxIDogLTEpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICByZXNvbHZlOiByZXNvbHZlLFxuICAgIG9yaWVudDogb3JpZW50XG4gIH07XG59XG5cbnZhciBST0xFID0gXCJyb2xlXCI7XG52YXIgVEFCX0lOREVYID0gXCJ0YWJpbmRleFwiO1xudmFyIERJU0FCTEVEID0gXCJkaXNhYmxlZFwiO1xudmFyIEFSSUFfUFJFRklYID0gXCJhcmlhLVwiO1xudmFyIEFSSUFfQ09OVFJPTFMgPSBBUklBX1BSRUZJWCArIFwiY29udHJvbHNcIjtcbnZhciBBUklBX0NVUlJFTlQgPSBBUklBX1BSRUZJWCArIFwiY3VycmVudFwiO1xudmFyIEFSSUFfU0VMRUNURUQgPSBBUklBX1BSRUZJWCArIFwic2VsZWN0ZWRcIjtcbnZhciBBUklBX0xBQkVMID0gQVJJQV9QUkVGSVggKyBcImxhYmVsXCI7XG52YXIgQVJJQV9MQUJFTExFREJZID0gQVJJQV9QUkVGSVggKyBcImxhYmVsbGVkYnlcIjtcbnZhciBBUklBX0hJRERFTiA9IEFSSUFfUFJFRklYICsgXCJoaWRkZW5cIjtcbnZhciBBUklBX09SSUVOVEFUSU9OID0gQVJJQV9QUkVGSVggKyBcIm9yaWVudGF0aW9uXCI7XG52YXIgQVJJQV9ST0xFREVTQ1JJUFRJT04gPSBBUklBX1BSRUZJWCArIFwicm9sZWRlc2NyaXB0aW9uXCI7XG52YXIgQVJJQV9MSVZFID0gQVJJQV9QUkVGSVggKyBcImxpdmVcIjtcbnZhciBBUklBX0JVU1kgPSBBUklBX1BSRUZJWCArIFwiYnVzeVwiO1xudmFyIEFSSUFfQVRPTUlDID0gQVJJQV9QUkVGSVggKyBcImF0b21pY1wiO1xudmFyIEFMTF9BVFRSSUJVVEVTID0gW1JPTEUsIFRBQl9JTkRFWCwgRElTQUJMRUQsIEFSSUFfQ09OVFJPTFMsIEFSSUFfQ1VSUkVOVCwgQVJJQV9MQUJFTCwgQVJJQV9MQUJFTExFREJZLCBBUklBX0hJRERFTiwgQVJJQV9PUklFTlRBVElPTiwgQVJJQV9ST0xFREVTQ1JJUFRJT05dO1xudmFyIENMQVNTX1BSRUZJWCA9IFBST0pFQ1RfQ09ERSArIFwiX19cIjtcbnZhciBTVEFUVVNfQ0xBU1NfUFJFRklYID0gXCJpcy1cIjtcbnZhciBDTEFTU19ST09UID0gUFJPSkVDVF9DT0RFO1xudmFyIENMQVNTX1RSQUNLID0gQ0xBU1NfUFJFRklYICsgXCJ0cmFja1wiO1xudmFyIENMQVNTX0xJU1QgPSBDTEFTU19QUkVGSVggKyBcImxpc3RcIjtcbnZhciBDTEFTU19TTElERSA9IENMQVNTX1BSRUZJWCArIFwic2xpZGVcIjtcbnZhciBDTEFTU19DTE9ORSA9IENMQVNTX1NMSURFICsgXCItLWNsb25lXCI7XG52YXIgQ0xBU1NfQ09OVEFJTkVSID0gQ0xBU1NfU0xJREUgKyBcIl9fY29udGFpbmVyXCI7XG52YXIgQ0xBU1NfQVJST1dTID0gQ0xBU1NfUFJFRklYICsgXCJhcnJvd3NcIjtcbnZhciBDTEFTU19BUlJPVyA9IENMQVNTX1BSRUZJWCArIFwiYXJyb3dcIjtcbnZhciBDTEFTU19BUlJPV19QUkVWID0gQ0xBU1NfQVJST1cgKyBcIi0tcHJldlwiO1xudmFyIENMQVNTX0FSUk9XX05FWFQgPSBDTEFTU19BUlJPVyArIFwiLS1uZXh0XCI7XG52YXIgQ0xBU1NfUEFHSU5BVElPTiA9IENMQVNTX1BSRUZJWCArIFwicGFnaW5hdGlvblwiO1xudmFyIENMQVNTX1BBR0lOQVRJT05fUEFHRSA9IENMQVNTX1BBR0lOQVRJT04gKyBcIl9fcGFnZVwiO1xudmFyIENMQVNTX1BST0dSRVNTID0gQ0xBU1NfUFJFRklYICsgXCJwcm9ncmVzc1wiO1xudmFyIENMQVNTX1BST0dSRVNTX0JBUiA9IENMQVNTX1BST0dSRVNTICsgXCJfX2JhclwiO1xudmFyIENMQVNTX1RPR0dMRSA9IENMQVNTX1BSRUZJWCArIFwidG9nZ2xlXCI7XG52YXIgQ0xBU1NfVE9HR0xFX1BMQVkgPSBDTEFTU19UT0dHTEUgKyBcIl9fcGxheVwiO1xudmFyIENMQVNTX1RPR0dMRV9QQVVTRSA9IENMQVNTX1RPR0dMRSArIFwiX19wYXVzZVwiO1xudmFyIENMQVNTX1NQSU5ORVIgPSBDTEFTU19QUkVGSVggKyBcInNwaW5uZXJcIjtcbnZhciBDTEFTU19TUiA9IENMQVNTX1BSRUZJWCArIFwic3JcIjtcbnZhciBDTEFTU19JTklUSUFMSVpFRCA9IFNUQVRVU19DTEFTU19QUkVGSVggKyBcImluaXRpYWxpemVkXCI7XG52YXIgQ0xBU1NfQUNUSVZFID0gU1RBVFVTX0NMQVNTX1BSRUZJWCArIFwiYWN0aXZlXCI7XG52YXIgQ0xBU1NfUFJFViA9IFNUQVRVU19DTEFTU19QUkVGSVggKyBcInByZXZcIjtcbnZhciBDTEFTU19ORVhUID0gU1RBVFVTX0NMQVNTX1BSRUZJWCArIFwibmV4dFwiO1xudmFyIENMQVNTX1ZJU0lCTEUgPSBTVEFUVVNfQ0xBU1NfUFJFRklYICsgXCJ2aXNpYmxlXCI7XG52YXIgQ0xBU1NfTE9BRElORyA9IFNUQVRVU19DTEFTU19QUkVGSVggKyBcImxvYWRpbmdcIjtcbnZhciBDTEFTU19GT0NVU19JTiA9IFNUQVRVU19DTEFTU19QUkVGSVggKyBcImZvY3VzLWluXCI7XG52YXIgQ0xBU1NfT1ZFUkZMT1cgPSBTVEFUVVNfQ0xBU1NfUFJFRklYICsgXCJvdmVyZmxvd1wiO1xudmFyIFNUQVRVU19DTEFTU0VTID0gW0NMQVNTX0FDVElWRSwgQ0xBU1NfVklTSUJMRSwgQ0xBU1NfUFJFViwgQ0xBU1NfTkVYVCwgQ0xBU1NfTE9BRElORywgQ0xBU1NfRk9DVVNfSU4sIENMQVNTX09WRVJGTE9XXTtcbnZhciBDTEFTU0VTID0ge1xuICBzbGlkZTogQ0xBU1NfU0xJREUsXG4gIGNsb25lOiBDTEFTU19DTE9ORSxcbiAgYXJyb3dzOiBDTEFTU19BUlJPV1MsXG4gIGFycm93OiBDTEFTU19BUlJPVyxcbiAgcHJldjogQ0xBU1NfQVJST1dfUFJFVixcbiAgbmV4dDogQ0xBU1NfQVJST1dfTkVYVCxcbiAgcGFnaW5hdGlvbjogQ0xBU1NfUEFHSU5BVElPTixcbiAgcGFnZTogQ0xBU1NfUEFHSU5BVElPTl9QQUdFLFxuICBzcGlubmVyOiBDTEFTU19TUElOTkVSXG59O1xuXG5mdW5jdGlvbiBjbG9zZXN0KGZyb20sIHNlbGVjdG9yKSB7XG4gIGlmIChpc0Z1bmN0aW9uKGZyb20uY2xvc2VzdCkpIHtcbiAgICByZXR1cm4gZnJvbS5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgfVxuXG4gIHZhciBlbG0gPSBmcm9tO1xuXG4gIHdoaWxlIChlbG0gJiYgZWxtLm5vZGVUeXBlID09PSAxKSB7XG4gICAgaWYgKG1hdGNoZXMoZWxtLCBzZWxlY3RvcikpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGVsbSA9IGVsbS5wYXJlbnRFbGVtZW50O1xuICB9XG5cbiAgcmV0dXJuIGVsbTtcbn1cblxudmFyIEZSSUNUSU9OID0gNTtcbnZhciBMT0dfSU5URVJWQUwgPSAyMDA7XG52YXIgUE9JTlRFUl9ET1dOX0VWRU5UUyA9IFwidG91Y2hzdGFydCBtb3VzZWRvd25cIjtcbnZhciBQT0lOVEVSX01PVkVfRVZFTlRTID0gXCJ0b3VjaG1vdmUgbW91c2Vtb3ZlXCI7XG52YXIgUE9JTlRFUl9VUF9FVkVOVFMgPSBcInRvdWNoZW5kIHRvdWNoY2FuY2VsIG1vdXNldXAgY2xpY2tcIjtcblxuZnVuY3Rpb24gRWxlbWVudHMoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIF9FdmVudEludGVyZmFjZSA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpLFxuICAgICAgb24gPSBfRXZlbnRJbnRlcmZhY2Uub24sXG4gICAgICBiaW5kID0gX0V2ZW50SW50ZXJmYWNlLmJpbmQ7XG5cbiAgdmFyIHJvb3QgPSBTcGxpZGUyLnJvb3Q7XG4gIHZhciBpMThuID0gb3B0aW9ucy5pMThuO1xuICB2YXIgZWxlbWVudHMgPSB7fTtcbiAgdmFyIHNsaWRlcyA9IFtdO1xuICB2YXIgcm9vdENsYXNzZXMgPSBbXTtcbiAgdmFyIHRyYWNrQ2xhc3NlcyA9IFtdO1xuICB2YXIgdHJhY2s7XG4gIHZhciBsaXN0O1xuICB2YXIgaXNVc2luZ0tleTtcblxuICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBjb2xsZWN0KCk7XG4gICAgaW5pdCgpO1xuICAgIHVwZGF0ZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgb24oRVZFTlRfUkVGUkVTSCwgZGVzdHJveSk7XG4gICAgb24oRVZFTlRfUkVGUkVTSCwgc2V0dXApO1xuICAgIG9uKEVWRU5UX1VQREFURUQsIHVwZGF0ZSk7XG4gICAgYmluZChkb2N1bWVudCwgUE9JTlRFUl9ET1dOX0VWRU5UUyArIFwiIGtleWRvd25cIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlzVXNpbmdLZXkgPSBlLnR5cGUgPT09IFwia2V5ZG93blwiO1xuICAgIH0sIHtcbiAgICAgIGNhcHR1cmU6IHRydWVcbiAgICB9KTtcbiAgICBiaW5kKHJvb3QsIFwiZm9jdXNpblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICB0b2dnbGVDbGFzcyhyb290LCBDTEFTU19GT0NVU19JTiwgISFpc1VzaW5nS2V5KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koY29tcGxldGVseSkge1xuICAgIHZhciBhdHRycyA9IEFMTF9BVFRSSUJVVEVTLmNvbmNhdChcInN0eWxlXCIpO1xuICAgIGVtcHR5KHNsaWRlcyk7XG4gICAgcmVtb3ZlQ2xhc3Mocm9vdCwgcm9vdENsYXNzZXMpO1xuICAgIHJlbW92ZUNsYXNzKHRyYWNrLCB0cmFja0NsYXNzZXMpO1xuICAgIHJlbW92ZUF0dHJpYnV0ZShbdHJhY2ssIGxpc3RdLCBhdHRycyk7XG4gICAgcmVtb3ZlQXR0cmlidXRlKHJvb3QsIGNvbXBsZXRlbHkgPyBhdHRycyA6IFtcInN0eWxlXCIsIEFSSUFfUk9MRURFU0NSSVBUSU9OXSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgcmVtb3ZlQ2xhc3Mocm9vdCwgcm9vdENsYXNzZXMpO1xuICAgIHJlbW92ZUNsYXNzKHRyYWNrLCB0cmFja0NsYXNzZXMpO1xuICAgIHJvb3RDbGFzc2VzID0gZ2V0Q2xhc3NlcyhDTEFTU19ST09UKTtcbiAgICB0cmFja0NsYXNzZXMgPSBnZXRDbGFzc2VzKENMQVNTX1RSQUNLKTtcbiAgICBhZGRDbGFzcyhyb290LCByb290Q2xhc3Nlcyk7XG4gICAgYWRkQ2xhc3ModHJhY2ssIHRyYWNrQ2xhc3Nlcyk7XG4gICAgc2V0QXR0cmlidXRlKHJvb3QsIEFSSUFfTEFCRUwsIG9wdGlvbnMubGFiZWwpO1xuICAgIHNldEF0dHJpYnV0ZShyb290LCBBUklBX0xBQkVMTEVEQlksIG9wdGlvbnMubGFiZWxsZWRieSk7XG4gIH1cblxuICBmdW5jdGlvbiBjb2xsZWN0KCkge1xuICAgIHRyYWNrID0gZmluZChcIi5cIiArIENMQVNTX1RSQUNLKTtcbiAgICBsaXN0ID0gY2hpbGQodHJhY2ssIFwiLlwiICsgQ0xBU1NfTElTVCk7XG4gICAgYXNzZXJ0KHRyYWNrICYmIGxpc3QsIFwiQSB0cmFjay9saXN0IGVsZW1lbnQgaXMgbWlzc2luZy5cIik7XG4gICAgcHVzaChzbGlkZXMsIGNoaWxkcmVuKGxpc3QsIFwiLlwiICsgQ0xBU1NfU0xJREUgKyBcIjpub3QoLlwiICsgQ0xBU1NfQ0xPTkUgKyBcIilcIikpO1xuICAgIGZvck93bih7XG4gICAgICBhcnJvd3M6IENMQVNTX0FSUk9XUyxcbiAgICAgIHBhZ2luYXRpb246IENMQVNTX1BBR0lOQVRJT04sXG4gICAgICBwcmV2OiBDTEFTU19BUlJPV19QUkVWLFxuICAgICAgbmV4dDogQ0xBU1NfQVJST1dfTkVYVCxcbiAgICAgIGJhcjogQ0xBU1NfUFJPR1JFU1NfQkFSLFxuICAgICAgdG9nZ2xlOiBDTEFTU19UT0dHTEVcbiAgICB9LCBmdW5jdGlvbiAoY2xhc3NOYW1lLCBrZXkpIHtcbiAgICAgIGVsZW1lbnRzW2tleV0gPSBmaW5kKFwiLlwiICsgY2xhc3NOYW1lKTtcbiAgICB9KTtcbiAgICBhc3NpZ24oZWxlbWVudHMsIHtcbiAgICAgIHJvb3Q6IHJvb3QsXG4gICAgICB0cmFjazogdHJhY2ssXG4gICAgICBsaXN0OiBsaXN0LFxuICAgICAgc2xpZGVzOiBzbGlkZXNcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIGlkID0gcm9vdC5pZCB8fCB1bmlxdWVJZChQUk9KRUNUX0NPREUpO1xuICAgIHZhciByb2xlID0gb3B0aW9ucy5yb2xlO1xuICAgIHJvb3QuaWQgPSBpZDtcbiAgICB0cmFjay5pZCA9IHRyYWNrLmlkIHx8IGlkICsgXCItdHJhY2tcIjtcbiAgICBsaXN0LmlkID0gbGlzdC5pZCB8fCBpZCArIFwiLWxpc3RcIjtcblxuICAgIGlmICghZ2V0QXR0cmlidXRlKHJvb3QsIFJPTEUpICYmIHJvb3QudGFnTmFtZSAhPT0gXCJTRUNUSU9OXCIgJiYgcm9sZSkge1xuICAgICAgc2V0QXR0cmlidXRlKHJvb3QsIFJPTEUsIHJvbGUpO1xuICAgIH1cblxuICAgIHNldEF0dHJpYnV0ZShyb290LCBBUklBX1JPTEVERVNDUklQVElPTiwgaTE4bi5jYXJvdXNlbCk7XG4gICAgc2V0QXR0cmlidXRlKGxpc3QsIFJPTEUsIFwicHJlc2VudGF0aW9uXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZChzZWxlY3Rvcikge1xuICAgIHZhciBlbG0gPSBxdWVyeShyb290LCBzZWxlY3Rvcik7XG4gICAgcmV0dXJuIGVsbSAmJiBjbG9zZXN0KGVsbSwgXCIuXCIgKyBDTEFTU19ST09UKSA9PT0gcm9vdCA/IGVsbSA6IHZvaWQgMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENsYXNzZXMoYmFzZSkge1xuICAgIHJldHVybiBbYmFzZSArIFwiLS1cIiArIG9wdGlvbnMudHlwZSwgYmFzZSArIFwiLS1cIiArIG9wdGlvbnMuZGlyZWN0aW9uLCBvcHRpb25zLmRyYWcgJiYgYmFzZSArIFwiLS1kcmFnZ2FibGVcIiwgb3B0aW9ucy5pc05hdmlnYXRpb24gJiYgYmFzZSArIFwiLS1uYXZcIiwgYmFzZSA9PT0gQ0xBU1NfUk9PVCAmJiBDTEFTU19BQ1RJVkVdO1xuICB9XG5cbiAgcmV0dXJuIGFzc2lnbihlbGVtZW50cywge1xuICAgIHNldHVwOiBzZXR1cCxcbiAgICBtb3VudDogbW91bnQsXG4gICAgZGVzdHJveTogZGVzdHJveVxuICB9KTtcbn1cblxudmFyIFNMSURFID0gXCJzbGlkZVwiO1xudmFyIExPT1AgPSBcImxvb3BcIjtcbnZhciBGQURFID0gXCJmYWRlXCI7XG5cbmZ1bmN0aW9uIFNsaWRlJDEoU3BsaWRlMiwgaW5kZXgsIHNsaWRlSW5kZXgsIHNsaWRlKSB7XG4gIHZhciBldmVudCA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpO1xuICB2YXIgb24gPSBldmVudC5vbixcbiAgICAgIGVtaXQgPSBldmVudC5lbWl0LFxuICAgICAgYmluZCA9IGV2ZW50LmJpbmQ7XG4gIHZhciBDb21wb25lbnRzID0gU3BsaWRlMi5Db21wb25lbnRzLFxuICAgICAgcm9vdCA9IFNwbGlkZTIucm9vdCxcbiAgICAgIG9wdGlvbnMgPSBTcGxpZGUyLm9wdGlvbnM7XG4gIHZhciBpc05hdmlnYXRpb24gPSBvcHRpb25zLmlzTmF2aWdhdGlvbixcbiAgICAgIHVwZGF0ZU9uTW92ZSA9IG9wdGlvbnMudXBkYXRlT25Nb3ZlLFxuICAgICAgaTE4biA9IG9wdGlvbnMuaTE4bixcbiAgICAgIHBhZ2luYXRpb24gPSBvcHRpb25zLnBhZ2luYXRpb24sXG4gICAgICBzbGlkZUZvY3VzID0gb3B0aW9ucy5zbGlkZUZvY3VzO1xuICB2YXIgcmVzb2x2ZSA9IENvbXBvbmVudHMuRGlyZWN0aW9uLnJlc29sdmU7XG4gIHZhciBzdHlsZXMgPSBnZXRBdHRyaWJ1dGUoc2xpZGUsIFwic3R5bGVcIik7XG4gIHZhciBsYWJlbCA9IGdldEF0dHJpYnV0ZShzbGlkZSwgQVJJQV9MQUJFTCk7XG4gIHZhciBpc0Nsb25lID0gc2xpZGVJbmRleCA+IC0xO1xuICB2YXIgY29udGFpbmVyID0gY2hpbGQoc2xpZGUsIFwiLlwiICsgQ0xBU1NfQ09OVEFJTkVSKTtcbiAgdmFyIGRlc3Ryb3llZDtcblxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpZiAoIWlzQ2xvbmUpIHtcbiAgICAgIHNsaWRlLmlkID0gcm9vdC5pZCArIFwiLXNsaWRlXCIgKyBwYWQoaW5kZXggKyAxKTtcbiAgICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgUk9MRSwgcGFnaW5hdGlvbiA/IFwidGFicGFuZWxcIiA6IFwiZ3JvdXBcIik7XG4gICAgICBzZXRBdHRyaWJ1dGUoc2xpZGUsIEFSSUFfUk9MRURFU0NSSVBUSU9OLCBpMThuLnNsaWRlKTtcbiAgICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgQVJJQV9MQUJFTCwgbGFiZWwgfHwgZm9ybWF0KGkxOG4uc2xpZGVMYWJlbCwgW2luZGV4ICsgMSwgU3BsaWRlMi5sZW5ndGhdKSk7XG4gICAgfVxuXG4gICAgbGlzdGVuKCk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4oKSB7XG4gICAgYmluZChzbGlkZSwgXCJjbGlja1wiLCBhcHBseShlbWl0LCBFVkVOVF9DTElDSywgc2VsZikpO1xuICAgIGJpbmQoc2xpZGUsIFwia2V5ZG93blwiLCBhcHBseShlbWl0LCBFVkVOVF9TTElERV9LRVlET1dOLCBzZWxmKSk7XG4gICAgb24oW0VWRU5UX01PVkVELCBFVkVOVF9TSElGVEVELCBFVkVOVF9TQ1JPTExFRF0sIHVwZGF0ZSk7XG4gICAgb24oRVZFTlRfTkFWSUdBVElPTl9NT1VOVEVELCBpbml0TmF2aWdhdGlvbik7XG5cbiAgICBpZiAodXBkYXRlT25Nb3ZlKSB7XG4gICAgICBvbihFVkVOVF9NT1ZFLCBvbk1vdmUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZGVzdHJveWVkID0gdHJ1ZTtcbiAgICBldmVudC5kZXN0cm95KCk7XG4gICAgcmVtb3ZlQ2xhc3Moc2xpZGUsIFNUQVRVU19DTEFTU0VTKTtcbiAgICByZW1vdmVBdHRyaWJ1dGUoc2xpZGUsIEFMTF9BVFRSSUJVVEVTKTtcbiAgICBzZXRBdHRyaWJ1dGUoc2xpZGUsIFwic3R5bGVcIiwgc3R5bGVzKTtcbiAgICBzZXRBdHRyaWJ1dGUoc2xpZGUsIEFSSUFfTEFCRUwsIGxhYmVsIHx8IFwiXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdE5hdmlnYXRpb24oKSB7XG4gICAgdmFyIGNvbnRyb2xzID0gU3BsaWRlMi5zcGxpZGVzLm1hcChmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB2YXIgU2xpZGUyID0gdGFyZ2V0LnNwbGlkZS5Db21wb25lbnRzLlNsaWRlcy5nZXRBdChpbmRleCk7XG4gICAgICByZXR1cm4gU2xpZGUyID8gU2xpZGUyLnNsaWRlLmlkIDogXCJcIjtcbiAgICB9KS5qb2luKFwiIFwiKTtcbiAgICBzZXRBdHRyaWJ1dGUoc2xpZGUsIEFSSUFfTEFCRUwsIGZvcm1hdChpMThuLnNsaWRlWCwgKGlzQ2xvbmUgPyBzbGlkZUluZGV4IDogaW5kZXgpICsgMSkpO1xuICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgQVJJQV9DT05UUk9MUywgY29udHJvbHMpO1xuICAgIHNldEF0dHJpYnV0ZShzbGlkZSwgUk9MRSwgc2xpZGVGb2N1cyA/IFwiYnV0dG9uXCIgOiBcIlwiKTtcbiAgICBzbGlkZUZvY3VzICYmIHJlbW92ZUF0dHJpYnV0ZShzbGlkZSwgQVJJQV9ST0xFREVTQ1JJUFRJT04pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Nb3ZlKCkge1xuICAgIGlmICghZGVzdHJveWVkKSB7XG4gICAgICB1cGRhdGUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgaWYgKCFkZXN0cm95ZWQpIHtcbiAgICAgIHZhciBjdXJyID0gU3BsaWRlMi5pbmRleDtcbiAgICAgIHVwZGF0ZUFjdGl2aXR5KCk7XG4gICAgICB1cGRhdGVWaXNpYmlsaXR5KCk7XG4gICAgICB0b2dnbGVDbGFzcyhzbGlkZSwgQ0xBU1NfUFJFViwgaW5kZXggPT09IGN1cnIgLSAxKTtcbiAgICAgIHRvZ2dsZUNsYXNzKHNsaWRlLCBDTEFTU19ORVhULCBpbmRleCA9PT0gY3VyciArIDEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUFjdGl2aXR5KCkge1xuICAgIHZhciBhY3RpdmUgPSBpc0FjdGl2ZSgpO1xuXG4gICAgaWYgKGFjdGl2ZSAhPT0gaGFzQ2xhc3Moc2xpZGUsIENMQVNTX0FDVElWRSkpIHtcbiAgICAgIHRvZ2dsZUNsYXNzKHNsaWRlLCBDTEFTU19BQ1RJVkUsIGFjdGl2ZSk7XG4gICAgICBzZXRBdHRyaWJ1dGUoc2xpZGUsIEFSSUFfQ1VSUkVOVCwgaXNOYXZpZ2F0aW9uICYmIGFjdGl2ZSB8fCBcIlwiKTtcbiAgICAgIGVtaXQoYWN0aXZlID8gRVZFTlRfQUNUSVZFIDogRVZFTlRfSU5BQ1RJVkUsIHNlbGYpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpc2liaWxpdHkoKSB7XG4gICAgdmFyIHZpc2libGUgPSBpc1Zpc2libGUoKTtcbiAgICB2YXIgaGlkZGVuID0gIXZpc2libGUgJiYgKCFpc0FjdGl2ZSgpIHx8IGlzQ2xvbmUpO1xuXG4gICAgaWYgKCFTcGxpZGUyLnN0YXRlLmlzKFtNT1ZJTkcsIFNDUk9MTElOR10pKSB7XG4gICAgICBzZXRBdHRyaWJ1dGUoc2xpZGUsIEFSSUFfSElEREVOLCBoaWRkZW4gfHwgXCJcIik7XG4gICAgfVxuXG4gICAgc2V0QXR0cmlidXRlKHF1ZXJ5QWxsKHNsaWRlLCBvcHRpb25zLmZvY3VzYWJsZU5vZGVzIHx8IFwiXCIpLCBUQUJfSU5ERVgsIGhpZGRlbiA/IC0xIDogXCJcIik7XG5cbiAgICBpZiAoc2xpZGVGb2N1cykge1xuICAgICAgc2V0QXR0cmlidXRlKHNsaWRlLCBUQUJfSU5ERVgsIGhpZGRlbiA/IC0xIDogMCk7XG4gICAgfVxuXG4gICAgaWYgKHZpc2libGUgIT09IGhhc0NsYXNzKHNsaWRlLCBDTEFTU19WSVNJQkxFKSkge1xuICAgICAgdG9nZ2xlQ2xhc3Moc2xpZGUsIENMQVNTX1ZJU0lCTEUsIHZpc2libGUpO1xuICAgICAgZW1pdCh2aXNpYmxlID8gRVZFTlRfVklTSUJMRSA6IEVWRU5UX0hJRERFTiwgc2VsZik7XG4gICAgfVxuXG4gICAgaWYgKCF2aXNpYmxlICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHNsaWRlKSB7XG4gICAgICB2YXIgU2xpZGUyID0gQ29tcG9uZW50cy5TbGlkZXMuZ2V0QXQoU3BsaWRlMi5pbmRleCk7XG4gICAgICBTbGlkZTIgJiYgZm9jdXMoU2xpZGUyLnNsaWRlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzdHlsZSQxKHByb3AsIHZhbHVlLCB1c2VDb250YWluZXIpIHtcbiAgICBzdHlsZSh1c2VDb250YWluZXIgJiYgY29udGFpbmVyIHx8IHNsaWRlLCBwcm9wLCB2YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0FjdGl2ZSgpIHtcbiAgICB2YXIgY3VyciA9IFNwbGlkZTIuaW5kZXg7XG4gICAgcmV0dXJuIGN1cnIgPT09IGluZGV4IHx8IG9wdGlvbnMuY2xvbmVTdGF0dXMgJiYgY3VyciA9PT0gc2xpZGVJbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVmlzaWJsZSgpIHtcbiAgICBpZiAoU3BsaWRlMi5pcyhGQURFKSkge1xuICAgICAgcmV0dXJuIGlzQWN0aXZlKCk7XG4gICAgfVxuXG4gICAgdmFyIHRyYWNrUmVjdCA9IHJlY3QoQ29tcG9uZW50cy5FbGVtZW50cy50cmFjayk7XG4gICAgdmFyIHNsaWRlUmVjdCA9IHJlY3Qoc2xpZGUpO1xuICAgIHZhciBsZWZ0ID0gcmVzb2x2ZShcImxlZnRcIiwgdHJ1ZSk7XG4gICAgdmFyIHJpZ2h0ID0gcmVzb2x2ZShcInJpZ2h0XCIsIHRydWUpO1xuICAgIHJldHVybiBmbG9vcih0cmFja1JlY3RbbGVmdF0pIDw9IGNlaWwoc2xpZGVSZWN0W2xlZnRdKSAmJiBmbG9vcihzbGlkZVJlY3RbcmlnaHRdKSA8PSBjZWlsKHRyYWNrUmVjdFtyaWdodF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNXaXRoaW4oZnJvbSwgZGlzdGFuY2UpIHtcbiAgICB2YXIgZGlmZiA9IGFicyhmcm9tIC0gaW5kZXgpO1xuXG4gICAgaWYgKCFpc0Nsb25lICYmIChvcHRpb25zLnJld2luZCB8fCBTcGxpZGUyLmlzKExPT1ApKSkge1xuICAgICAgZGlmZiA9IG1pbihkaWZmLCBTcGxpZGUyLmxlbmd0aCAtIGRpZmYpO1xuICAgIH1cblxuICAgIHJldHVybiBkaWZmIDw9IGRpc3RhbmNlO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB7XG4gICAgaW5kZXg6IGluZGV4LFxuICAgIHNsaWRlSW5kZXg6IHNsaWRlSW5kZXgsXG4gICAgc2xpZGU6IHNsaWRlLFxuICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgIGlzQ2xvbmU6IGlzQ2xvbmUsXG4gICAgbW91bnQ6IG1vdW50LFxuICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgdXBkYXRlOiB1cGRhdGUsXG4gICAgc3R5bGU6IHN0eWxlJDEsXG4gICAgaXNXaXRoaW46IGlzV2l0aGluXG4gIH07XG4gIHJldHVybiBzZWxmO1xufVxuXG5mdW5jdGlvbiBTbGlkZXMoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIF9FdmVudEludGVyZmFjZTIgPSBFdmVudEludGVyZmFjZShTcGxpZGUyKSxcbiAgICAgIG9uID0gX0V2ZW50SW50ZXJmYWNlMi5vbixcbiAgICAgIGVtaXQgPSBfRXZlbnRJbnRlcmZhY2UyLmVtaXQsXG4gICAgICBiaW5kID0gX0V2ZW50SW50ZXJmYWNlMi5iaW5kO1xuXG4gIHZhciBfQ29tcG9uZW50czIkRWxlbWVudHMgPSBDb21wb25lbnRzMi5FbGVtZW50cyxcbiAgICAgIHNsaWRlcyA9IF9Db21wb25lbnRzMiRFbGVtZW50cy5zbGlkZXMsXG4gICAgICBsaXN0ID0gX0NvbXBvbmVudHMyJEVsZW1lbnRzLmxpc3Q7XG4gIHZhciBTbGlkZXMyID0gW107XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgaW5pdCgpO1xuICAgIG9uKEVWRU5UX1JFRlJFU0gsIGRlc3Ryb3kpO1xuICAgIG9uKEVWRU5UX1JFRlJFU0gsIGluaXQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBzbGlkZXMuZm9yRWFjaChmdW5jdGlvbiAoc2xpZGUsIGluZGV4KSB7XG4gICAgICByZWdpc3RlcihzbGlkZSwgaW5kZXgsIC0xKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZm9yRWFjaCQxKGZ1bmN0aW9uIChTbGlkZTIpIHtcbiAgICAgIFNsaWRlMi5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgZW1wdHkoU2xpZGVzMik7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgZm9yRWFjaCQxKGZ1bmN0aW9uIChTbGlkZTIpIHtcbiAgICAgIFNsaWRlMi51cGRhdGUoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZ2lzdGVyKHNsaWRlLCBpbmRleCwgc2xpZGVJbmRleCkge1xuICAgIHZhciBvYmplY3QgPSBTbGlkZSQxKFNwbGlkZTIsIGluZGV4LCBzbGlkZUluZGV4LCBzbGlkZSk7XG4gICAgb2JqZWN0Lm1vdW50KCk7XG4gICAgU2xpZGVzMi5wdXNoKG9iamVjdCk7XG4gICAgU2xpZGVzMi5zb3J0KGZ1bmN0aW9uIChTbGlkZTEsIFNsaWRlMikge1xuICAgICAgcmV0dXJuIFNsaWRlMS5pbmRleCAtIFNsaWRlMi5pbmRleDtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldChleGNsdWRlQ2xvbmVzKSB7XG4gICAgcmV0dXJuIGV4Y2x1ZGVDbG9uZXMgPyBmaWx0ZXIoZnVuY3Rpb24gKFNsaWRlMikge1xuICAgICAgcmV0dXJuICFTbGlkZTIuaXNDbG9uZTtcbiAgICB9KSA6IFNsaWRlczI7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbihwYWdlKSB7XG4gICAgdmFyIENvbnRyb2xsZXIgPSBDb21wb25lbnRzMi5Db250cm9sbGVyO1xuICAgIHZhciBpbmRleCA9IENvbnRyb2xsZXIudG9JbmRleChwYWdlKTtcbiAgICB2YXIgbWF4ID0gQ29udHJvbGxlci5oYXNGb2N1cygpID8gMSA6IG9wdGlvbnMucGVyUGFnZTtcbiAgICByZXR1cm4gZmlsdGVyKGZ1bmN0aW9uIChTbGlkZTIpIHtcbiAgICAgIHJldHVybiBiZXR3ZWVuKFNsaWRlMi5pbmRleCwgaW5kZXgsIGluZGV4ICsgbWF4IC0gMSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBdChpbmRleCkge1xuICAgIHJldHVybiBmaWx0ZXIoaW5kZXgpWzBdO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkKGl0ZW1zLCBpbmRleCkge1xuICAgIGZvckVhY2goaXRlbXMsIGZ1bmN0aW9uIChzbGlkZSkge1xuICAgICAgaWYgKGlzU3RyaW5nKHNsaWRlKSkge1xuICAgICAgICBzbGlkZSA9IHBhcnNlSHRtbChzbGlkZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0hUTUxFbGVtZW50KHNsaWRlKSkge1xuICAgICAgICB2YXIgcmVmID0gc2xpZGVzW2luZGV4XTtcbiAgICAgICAgcmVmID8gYmVmb3JlKHNsaWRlLCByZWYpIDogYXBwZW5kKGxpc3QsIHNsaWRlKTtcbiAgICAgICAgYWRkQ2xhc3Moc2xpZGUsIG9wdGlvbnMuY2xhc3Nlcy5zbGlkZSk7XG4gICAgICAgIG9ic2VydmVJbWFnZXMoc2xpZGUsIGFwcGx5KGVtaXQsIEVWRU5UX1JFU0laRSkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGVtaXQoRVZFTlRfUkVGUkVTSCk7XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmUkMShtYXRjaGVyKSB7XG4gICAgcmVtb3ZlKGZpbHRlcihtYXRjaGVyKS5tYXAoZnVuY3Rpb24gKFNsaWRlMikge1xuICAgICAgcmV0dXJuIFNsaWRlMi5zbGlkZTtcbiAgICB9KSk7XG4gICAgZW1pdChFVkVOVF9SRUZSRVNIKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZvckVhY2gkMShpdGVyYXRlZSwgZXhjbHVkZUNsb25lcykge1xuICAgIGdldChleGNsdWRlQ2xvbmVzKS5mb3JFYWNoKGl0ZXJhdGVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbHRlcihtYXRjaGVyKSB7XG4gICAgcmV0dXJuIFNsaWRlczIuZmlsdGVyKGlzRnVuY3Rpb24obWF0Y2hlcikgPyBtYXRjaGVyIDogZnVuY3Rpb24gKFNsaWRlMikge1xuICAgICAgcmV0dXJuIGlzU3RyaW5nKG1hdGNoZXIpID8gbWF0Y2hlcyhTbGlkZTIuc2xpZGUsIG1hdGNoZXIpIDogaW5jbHVkZXModG9BcnJheShtYXRjaGVyKSwgU2xpZGUyLmluZGV4KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0eWxlKHByb3AsIHZhbHVlLCB1c2VDb250YWluZXIpIHtcbiAgICBmb3JFYWNoJDEoZnVuY3Rpb24gKFNsaWRlMikge1xuICAgICAgU2xpZGUyLnN0eWxlKHByb3AsIHZhbHVlLCB1c2VDb250YWluZXIpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb2JzZXJ2ZUltYWdlcyhlbG0sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGltYWdlcyA9IHF1ZXJ5QWxsKGVsbSwgXCJpbWdcIik7XG4gICAgdmFyIGxlbmd0aCA9IGltYWdlcy5sZW5ndGg7XG5cbiAgICBpZiAobGVuZ3RoKSB7XG4gICAgICBpbWFnZXMuZm9yRWFjaChmdW5jdGlvbiAoaW1nKSB7XG4gICAgICAgIGJpbmQoaW1nLCBcImxvYWQgZXJyb3JcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghIC0tbGVuZ3RoKSB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMZW5ndGgoZXhjbHVkZUNsb25lcykge1xuICAgIHJldHVybiBleGNsdWRlQ2xvbmVzID8gc2xpZGVzLmxlbmd0aCA6IFNsaWRlczIubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNFbm91Z2goKSB7XG4gICAgcmV0dXJuIFNsaWRlczIubGVuZ3RoID4gb3B0aW9ucy5wZXJQYWdlO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtb3VudDogbW91bnQsXG4gICAgZGVzdHJveTogZGVzdHJveSxcbiAgICB1cGRhdGU6IHVwZGF0ZSxcbiAgICByZWdpc3RlcjogcmVnaXN0ZXIsXG4gICAgZ2V0OiBnZXQsXG4gICAgZ2V0SW46IGdldEluLFxuICAgIGdldEF0OiBnZXRBdCxcbiAgICBhZGQ6IGFkZCxcbiAgICByZW1vdmU6IHJlbW92ZSQxLFxuICAgIGZvckVhY2g6IGZvckVhY2gkMSxcbiAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICBzdHlsZTogc3R5bGUsXG4gICAgZ2V0TGVuZ3RoOiBnZXRMZW5ndGgsXG4gICAgaXNFbm91Z2g6IGlzRW5vdWdoXG4gIH07XG59XG5cbmZ1bmN0aW9uIExheW91dChTcGxpZGUyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgX0V2ZW50SW50ZXJmYWNlMyA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpLFxuICAgICAgb24gPSBfRXZlbnRJbnRlcmZhY2UzLm9uLFxuICAgICAgYmluZCA9IF9FdmVudEludGVyZmFjZTMuYmluZCxcbiAgICAgIGVtaXQgPSBfRXZlbnRJbnRlcmZhY2UzLmVtaXQ7XG5cbiAgdmFyIFNsaWRlcyA9IENvbXBvbmVudHMyLlNsaWRlcztcbiAgdmFyIHJlc29sdmUgPSBDb21wb25lbnRzMi5EaXJlY3Rpb24ucmVzb2x2ZTtcbiAgdmFyIF9Db21wb25lbnRzMiRFbGVtZW50czIgPSBDb21wb25lbnRzMi5FbGVtZW50cyxcbiAgICAgIHJvb3QgPSBfQ29tcG9uZW50czIkRWxlbWVudHMyLnJvb3QsXG4gICAgICB0cmFjayA9IF9Db21wb25lbnRzMiRFbGVtZW50czIudHJhY2ssXG4gICAgICBsaXN0ID0gX0NvbXBvbmVudHMyJEVsZW1lbnRzMi5saXN0O1xuICB2YXIgZ2V0QXQgPSBTbGlkZXMuZ2V0QXQsXG4gICAgICBzdHlsZVNsaWRlcyA9IFNsaWRlcy5zdHlsZTtcbiAgdmFyIHZlcnRpY2FsO1xuICB2YXIgcm9vdFJlY3Q7XG4gIHZhciBvdmVyZmxvdztcblxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpbml0KCk7XG4gICAgYmluZCh3aW5kb3csIFwicmVzaXplIGxvYWRcIiwgVGhyb3R0bGUoYXBwbHkoZW1pdCwgRVZFTlRfUkVTSVpFKSkpO1xuICAgIG9uKFtFVkVOVF9VUERBVEVELCBFVkVOVF9SRUZSRVNIXSwgaW5pdCk7XG4gICAgb24oRVZFTlRfUkVTSVpFLCByZXNpemUpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB2ZXJ0aWNhbCA9IG9wdGlvbnMuZGlyZWN0aW9uID09PSBUVEI7XG4gICAgc3R5bGUocm9vdCwgXCJtYXhXaWR0aFwiLCB1bml0KG9wdGlvbnMud2lkdGgpKTtcbiAgICBzdHlsZSh0cmFjaywgcmVzb2x2ZShcInBhZGRpbmdMZWZ0XCIpLCBjc3NQYWRkaW5nKGZhbHNlKSk7XG4gICAgc3R5bGUodHJhY2ssIHJlc29sdmUoXCJwYWRkaW5nUmlnaHRcIiksIGNzc1BhZGRpbmcodHJ1ZSkpO1xuICAgIHJlc2l6ZSh0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2l6ZShmb3JjZSkge1xuICAgIHZhciBuZXdSZWN0ID0gcmVjdChyb290KTtcblxuICAgIGlmIChmb3JjZSB8fCByb290UmVjdC53aWR0aCAhPT0gbmV3UmVjdC53aWR0aCB8fCByb290UmVjdC5oZWlnaHQgIT09IG5ld1JlY3QuaGVpZ2h0KSB7XG4gICAgICBzdHlsZSh0cmFjaywgXCJoZWlnaHRcIiwgY3NzVHJhY2tIZWlnaHQoKSk7XG4gICAgICBzdHlsZVNsaWRlcyhyZXNvbHZlKFwibWFyZ2luUmlnaHRcIiksIHVuaXQob3B0aW9ucy5nYXApKTtcbiAgICAgIHN0eWxlU2xpZGVzKFwid2lkdGhcIiwgY3NzU2xpZGVXaWR0aCgpKTtcbiAgICAgIHN0eWxlU2xpZGVzKFwiaGVpZ2h0XCIsIGNzc1NsaWRlSGVpZ2h0KCksIHRydWUpO1xuICAgICAgcm9vdFJlY3QgPSBuZXdSZWN0O1xuICAgICAgZW1pdChFVkVOVF9SRVNJWkVEKTtcblxuICAgICAgaWYgKG92ZXJmbG93ICE9PSAob3ZlcmZsb3cgPSBpc092ZXJmbG93KCkpKSB7XG4gICAgICAgIHRvZ2dsZUNsYXNzKHJvb3QsIENMQVNTX09WRVJGTE9XLCBvdmVyZmxvdyk7XG4gICAgICAgIGVtaXQoRVZFTlRfT1ZFUkZMT1csIG92ZXJmbG93KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjc3NQYWRkaW5nKHJpZ2h0KSB7XG4gICAgdmFyIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgdmFyIHByb3AgPSByZXNvbHZlKHJpZ2h0ID8gXCJyaWdodFwiIDogXCJsZWZ0XCIpO1xuICAgIHJldHVybiBwYWRkaW5nICYmIHVuaXQocGFkZGluZ1twcm9wXSB8fCAoaXNPYmplY3QocGFkZGluZykgPyAwIDogcGFkZGluZykpIHx8IFwiMHB4XCI7XG4gIH1cblxuICBmdW5jdGlvbiBjc3NUcmFja0hlaWdodCgpIHtcbiAgICB2YXIgaGVpZ2h0ID0gXCJcIjtcblxuICAgIGlmICh2ZXJ0aWNhbCkge1xuICAgICAgaGVpZ2h0ID0gY3NzSGVpZ2h0KCk7XG4gICAgICBhc3NlcnQoaGVpZ2h0LCBcImhlaWdodCBvciBoZWlnaHRSYXRpbyBpcyBtaXNzaW5nLlwiKTtcbiAgICAgIGhlaWdodCA9IFwiY2FsYyhcIiArIGhlaWdodCArIFwiIC0gXCIgKyBjc3NQYWRkaW5nKGZhbHNlKSArIFwiIC0gXCIgKyBjc3NQYWRkaW5nKHRydWUpICsgXCIpXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhlaWdodDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNzc0hlaWdodCgpIHtcbiAgICByZXR1cm4gdW5pdChvcHRpb25zLmhlaWdodCB8fCByZWN0KGxpc3QpLndpZHRoICogb3B0aW9ucy5oZWlnaHRSYXRpbyk7XG4gIH1cblxuICBmdW5jdGlvbiBjc3NTbGlkZVdpZHRoKCkge1xuICAgIHJldHVybiBvcHRpb25zLmF1dG9XaWR0aCA/IG51bGwgOiB1bml0KG9wdGlvbnMuZml4ZWRXaWR0aCkgfHwgKHZlcnRpY2FsID8gXCJcIiA6IGNzc1NsaWRlU2l6ZSgpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNzc1NsaWRlSGVpZ2h0KCkge1xuICAgIHJldHVybiB1bml0KG9wdGlvbnMuZml4ZWRIZWlnaHQpIHx8ICh2ZXJ0aWNhbCA/IG9wdGlvbnMuYXV0b0hlaWdodCA/IG51bGwgOiBjc3NTbGlkZVNpemUoKSA6IGNzc0hlaWdodCgpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNzc1NsaWRlU2l6ZSgpIHtcbiAgICB2YXIgZ2FwID0gdW5pdChvcHRpb25zLmdhcCk7XG4gICAgcmV0dXJuIFwiY2FsYygoMTAwJVwiICsgKGdhcCAmJiBcIiArIFwiICsgZ2FwKSArIFwiKS9cIiArIChvcHRpb25zLnBlclBhZ2UgfHwgMSkgKyAoZ2FwICYmIFwiIC0gXCIgKyBnYXApICsgXCIpXCI7XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0U2l6ZSgpIHtcbiAgICByZXR1cm4gcmVjdChsaXN0KVtyZXNvbHZlKFwid2lkdGhcIildO1xuICB9XG5cbiAgZnVuY3Rpb24gc2xpZGVTaXplKGluZGV4LCB3aXRob3V0R2FwKSB7XG4gICAgdmFyIFNsaWRlID0gZ2V0QXQoaW5kZXggfHwgMCk7XG4gICAgcmV0dXJuIFNsaWRlID8gcmVjdChTbGlkZS5zbGlkZSlbcmVzb2x2ZShcIndpZHRoXCIpXSArICh3aXRob3V0R2FwID8gMCA6IGdldEdhcCgpKSA6IDA7XG4gIH1cblxuICBmdW5jdGlvbiB0b3RhbFNpemUoaW5kZXgsIHdpdGhvdXRHYXApIHtcbiAgICB2YXIgU2xpZGUgPSBnZXRBdChpbmRleCk7XG5cbiAgICBpZiAoU2xpZGUpIHtcbiAgICAgIHZhciByaWdodCA9IHJlY3QoU2xpZGUuc2xpZGUpW3Jlc29sdmUoXCJyaWdodFwiKV07XG4gICAgICB2YXIgbGVmdCA9IHJlY3QobGlzdClbcmVzb2x2ZShcImxlZnRcIildO1xuICAgICAgcmV0dXJuIGFicyhyaWdodCAtIGxlZnQpICsgKHdpdGhvdXRHYXAgPyAwIDogZ2V0R2FwKCkpO1xuICAgIH1cblxuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gc2xpZGVyU2l6ZSh3aXRob3V0R2FwKSB7XG4gICAgcmV0dXJuIHRvdGFsU2l6ZShTcGxpZGUyLmxlbmd0aCAtIDEpIC0gdG90YWxTaXplKDApICsgc2xpZGVTaXplKDAsIHdpdGhvdXRHYXApO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0R2FwKCkge1xuICAgIHZhciBTbGlkZSA9IGdldEF0KDApO1xuICAgIHJldHVybiBTbGlkZSAmJiBwYXJzZUZsb2F0KHN0eWxlKFNsaWRlLnNsaWRlLCByZXNvbHZlKFwibWFyZ2luUmlnaHRcIikpKSB8fCAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGFkZGluZyhyaWdodCkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHN0eWxlKHRyYWNrLCByZXNvbHZlKFwicGFkZGluZ1wiICsgKHJpZ2h0ID8gXCJSaWdodFwiIDogXCJMZWZ0XCIpKSkpIHx8IDA7XG4gIH1cblxuICBmdW5jdGlvbiBpc092ZXJmbG93KCkge1xuICAgIHJldHVybiBTcGxpZGUyLmlzKEZBREUpIHx8IHNsaWRlclNpemUodHJ1ZSkgPiBsaXN0U2l6ZSgpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtb3VudDogbW91bnQsXG4gICAgcmVzaXplOiByZXNpemUsXG4gICAgbGlzdFNpemU6IGxpc3RTaXplLFxuICAgIHNsaWRlU2l6ZTogc2xpZGVTaXplLFxuICAgIHNsaWRlclNpemU6IHNsaWRlclNpemUsXG4gICAgdG90YWxTaXplOiB0b3RhbFNpemUsXG4gICAgZ2V0UGFkZGluZzogZ2V0UGFkZGluZyxcbiAgICBpc092ZXJmbG93OiBpc092ZXJmbG93XG4gIH07XG59XG5cbnZhciBNVUxUSVBMSUVSID0gMjtcblxuZnVuY3Rpb24gQ2xvbmVzKFNwbGlkZTIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBldmVudCA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpO1xuICB2YXIgb24gPSBldmVudC5vbjtcbiAgdmFyIEVsZW1lbnRzID0gQ29tcG9uZW50czIuRWxlbWVudHMsXG4gICAgICBTbGlkZXMgPSBDb21wb25lbnRzMi5TbGlkZXM7XG4gIHZhciByZXNvbHZlID0gQ29tcG9uZW50czIuRGlyZWN0aW9uLnJlc29sdmU7XG4gIHZhciBjbG9uZXMgPSBbXTtcbiAgdmFyIGNsb25lQ291bnQ7XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgb24oRVZFTlRfUkVGUkVTSCwgcmVtb3VudCk7XG4gICAgb24oW0VWRU5UX1VQREFURUQsIEVWRU5UX1JFU0laRV0sIG9ic2VydmUpO1xuXG4gICAgaWYgKGNsb25lQ291bnQgPSBjb21wdXRlQ2xvbmVDb3VudCgpKSB7XG4gICAgICBnZW5lcmF0ZShjbG9uZUNvdW50KTtcbiAgICAgIENvbXBvbmVudHMyLkxheW91dC5yZXNpemUodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3VudCgpIHtcbiAgICBkZXN0cm95KCk7XG4gICAgbW91bnQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgcmVtb3ZlKGNsb25lcyk7XG4gICAgZW1wdHkoY2xvbmVzKTtcbiAgICBldmVudC5kZXN0cm95KCk7XG4gIH1cblxuICBmdW5jdGlvbiBvYnNlcnZlKCkge1xuICAgIHZhciBjb3VudCA9IGNvbXB1dGVDbG9uZUNvdW50KCk7XG5cbiAgICBpZiAoY2xvbmVDb3VudCAhPT0gY291bnQpIHtcbiAgICAgIGlmIChjbG9uZUNvdW50IDwgY291bnQgfHwgIWNvdW50KSB7XG4gICAgICAgIGV2ZW50LmVtaXQoRVZFTlRfUkVGUkVTSCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2VuZXJhdGUoY291bnQpIHtcbiAgICB2YXIgc2xpZGVzID0gU2xpZGVzLmdldCgpLnNsaWNlKCk7XG4gICAgdmFyIGxlbmd0aCA9IHNsaWRlcy5sZW5ndGg7XG5cbiAgICBpZiAobGVuZ3RoKSB7XG4gICAgICB3aGlsZSAoc2xpZGVzLmxlbmd0aCA8IGNvdW50KSB7XG4gICAgICAgIHB1c2goc2xpZGVzLCBzbGlkZXMpO1xuICAgICAgfVxuXG4gICAgICBwdXNoKHNsaWRlcy5zbGljZSgtY291bnQpLCBzbGlkZXMuc2xpY2UoMCwgY291bnQpKS5mb3JFYWNoKGZ1bmN0aW9uIChTbGlkZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGlzSGVhZCA9IGluZGV4IDwgY291bnQ7XG4gICAgICAgIHZhciBjbG9uZSA9IGNsb25lRGVlcChTbGlkZS5zbGlkZSwgaW5kZXgpO1xuICAgICAgICBpc0hlYWQgPyBiZWZvcmUoY2xvbmUsIHNsaWRlc1swXS5zbGlkZSkgOiBhcHBlbmQoRWxlbWVudHMubGlzdCwgY2xvbmUpO1xuICAgICAgICBwdXNoKGNsb25lcywgY2xvbmUpO1xuICAgICAgICBTbGlkZXMucmVnaXN0ZXIoY2xvbmUsIGluZGV4IC0gY291bnQgKyAoaXNIZWFkID8gMCA6IGxlbmd0aCksIFNsaWRlLmluZGV4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb25lRGVlcChlbG0sIGluZGV4KSB7XG4gICAgdmFyIGNsb25lID0gZWxtLmNsb25lTm9kZSh0cnVlKTtcbiAgICBhZGRDbGFzcyhjbG9uZSwgb3B0aW9ucy5jbGFzc2VzLmNsb25lKTtcbiAgICBjbG9uZS5pZCA9IFNwbGlkZTIucm9vdC5pZCArIFwiLWNsb25lXCIgKyBwYWQoaW5kZXggKyAxKTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlQ2xvbmVDb3VudCgpIHtcbiAgICB2YXIgY2xvbmVzMiA9IG9wdGlvbnMuY2xvbmVzO1xuXG4gICAgaWYgKCFTcGxpZGUyLmlzKExPT1ApKSB7XG4gICAgICBjbG9uZXMyID0gMDtcbiAgICB9IGVsc2UgaWYgKGlzVW5kZWZpbmVkKGNsb25lczIpKSB7XG4gICAgICB2YXIgZml4ZWRTaXplID0gb3B0aW9uc1tyZXNvbHZlKFwiZml4ZWRXaWR0aFwiKV0gJiYgQ29tcG9uZW50czIuTGF5b3V0LnNsaWRlU2l6ZSgwKTtcbiAgICAgIHZhciBmaXhlZENvdW50ID0gZml4ZWRTaXplICYmIGNlaWwocmVjdChFbGVtZW50cy50cmFjaylbcmVzb2x2ZShcIndpZHRoXCIpXSAvIGZpeGVkU2l6ZSk7XG4gICAgICBjbG9uZXMyID0gZml4ZWRDb3VudCB8fCBvcHRpb25zW3Jlc29sdmUoXCJhdXRvV2lkdGhcIildICYmIFNwbGlkZTIubGVuZ3RoIHx8IG9wdGlvbnMucGVyUGFnZSAqIE1VTFRJUExJRVI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNsb25lczI7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vdW50OiBtb3VudCxcbiAgICBkZXN0cm95OiBkZXN0cm95XG4gIH07XG59XG5cbmZ1bmN0aW9uIE1vdmUoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIF9FdmVudEludGVyZmFjZTQgPSBFdmVudEludGVyZmFjZShTcGxpZGUyKSxcbiAgICAgIG9uID0gX0V2ZW50SW50ZXJmYWNlNC5vbixcbiAgICAgIGVtaXQgPSBfRXZlbnRJbnRlcmZhY2U0LmVtaXQ7XG5cbiAgdmFyIHNldCA9IFNwbGlkZTIuc3RhdGUuc2V0O1xuICB2YXIgX0NvbXBvbmVudHMyJExheW91dCA9IENvbXBvbmVudHMyLkxheW91dCxcbiAgICAgIHNsaWRlU2l6ZSA9IF9Db21wb25lbnRzMiRMYXlvdXQuc2xpZGVTaXplLFxuICAgICAgZ2V0UGFkZGluZyA9IF9Db21wb25lbnRzMiRMYXlvdXQuZ2V0UGFkZGluZyxcbiAgICAgIHRvdGFsU2l6ZSA9IF9Db21wb25lbnRzMiRMYXlvdXQudG90YWxTaXplLFxuICAgICAgbGlzdFNpemUgPSBfQ29tcG9uZW50czIkTGF5b3V0Lmxpc3RTaXplLFxuICAgICAgc2xpZGVyU2l6ZSA9IF9Db21wb25lbnRzMiRMYXlvdXQuc2xpZGVyU2l6ZTtcbiAgdmFyIF9Db21wb25lbnRzMiREaXJlY3RpbyA9IENvbXBvbmVudHMyLkRpcmVjdGlvbixcbiAgICAgIHJlc29sdmUgPSBfQ29tcG9uZW50czIkRGlyZWN0aW8ucmVzb2x2ZSxcbiAgICAgIG9yaWVudCA9IF9Db21wb25lbnRzMiREaXJlY3Rpby5vcmllbnQ7XG4gIHZhciBfQ29tcG9uZW50czIkRWxlbWVudHMzID0gQ29tcG9uZW50czIuRWxlbWVudHMsXG4gICAgICBsaXN0ID0gX0NvbXBvbmVudHMyJEVsZW1lbnRzMy5saXN0LFxuICAgICAgdHJhY2sgPSBfQ29tcG9uZW50czIkRWxlbWVudHMzLnRyYWNrO1xuICB2YXIgVHJhbnNpdGlvbjtcblxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBUcmFuc2l0aW9uID0gQ29tcG9uZW50czIuVHJhbnNpdGlvbjtcbiAgICBvbihbRVZFTlRfTU9VTlRFRCwgRVZFTlRfUkVTSVpFRCwgRVZFTlRfVVBEQVRFRCwgRVZFTlRfUkVGUkVTSF0sIHJlcG9zaXRpb24pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwb3NpdGlvbigpIHtcbiAgICBpZiAoIUNvbXBvbmVudHMyLkNvbnRyb2xsZXIuaXNCdXN5KCkpIHtcbiAgICAgIENvbXBvbmVudHMyLlNjcm9sbC5jYW5jZWwoKTtcbiAgICAgIGp1bXAoU3BsaWRlMi5pbmRleCk7XG4gICAgICBDb21wb25lbnRzMi5TbGlkZXMudXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbW92ZShkZXN0LCBpbmRleCwgcHJldiwgY2FsbGJhY2spIHtcbiAgICBpZiAoZGVzdCAhPT0gaW5kZXggJiYgY2FuU2hpZnQoZGVzdCA+IHByZXYpKSB7XG4gICAgICBjYW5jZWwoKTtcbiAgICAgIHRyYW5zbGF0ZShzaGlmdChnZXRQb3NpdGlvbigpLCBkZXN0ID4gcHJldiksIHRydWUpO1xuICAgIH1cblxuICAgIHNldChNT1ZJTkcpO1xuICAgIGVtaXQoRVZFTlRfTU9WRSwgaW5kZXgsIHByZXYsIGRlc3QpO1xuICAgIFRyYW5zaXRpb24uc3RhcnQoaW5kZXgsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldChJRExFKTtcbiAgICAgIGVtaXQoRVZFTlRfTU9WRUQsIGluZGV4LCBwcmV2LCBkZXN0KTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBqdW1wKGluZGV4KSB7XG4gICAgdHJhbnNsYXRlKHRvUG9zaXRpb24oaW5kZXgsIHRydWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zbGF0ZShwb3NpdGlvbiwgcHJldmVudExvb3ApIHtcbiAgICBpZiAoIVNwbGlkZTIuaXMoRkFERSkpIHtcbiAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHByZXZlbnRMb29wID8gcG9zaXRpb24gOiBsb29wKHBvc2l0aW9uKTtcbiAgICAgIHN0eWxlKGxpc3QsIFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlXCIgKyByZXNvbHZlKFwiWFwiKSArIFwiKFwiICsgZGVzdGluYXRpb24gKyBcInB4KVwiKTtcbiAgICAgIHBvc2l0aW9uICE9PSBkZXN0aW5hdGlvbiAmJiBlbWl0KEVWRU5UX1NISUZURUQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxvb3AocG9zaXRpb24pIHtcbiAgICBpZiAoU3BsaWRlMi5pcyhMT09QKSkge1xuICAgICAgdmFyIGluZGV4ID0gdG9JbmRleChwb3NpdGlvbik7XG4gICAgICB2YXIgZXhjZWVkZWRNYXggPSBpbmRleCA+IENvbXBvbmVudHMyLkNvbnRyb2xsZXIuZ2V0RW5kKCk7XG4gICAgICB2YXIgZXhjZWVkZWRNaW4gPSBpbmRleCA8IDA7XG5cbiAgICAgIGlmIChleGNlZWRlZE1pbiB8fCBleGNlZWRlZE1heCkge1xuICAgICAgICBwb3NpdGlvbiA9IHNoaWZ0KHBvc2l0aW9uLCBleGNlZWRlZE1heCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hpZnQocG9zaXRpb24sIGJhY2t3YXJkcykge1xuICAgIHZhciBleGNlc3MgPSBwb3NpdGlvbiAtIGdldExpbWl0KGJhY2t3YXJkcyk7XG4gICAgdmFyIHNpemUgPSBzbGlkZXJTaXplKCk7XG4gICAgcG9zaXRpb24gLT0gb3JpZW50KHNpemUgKiAoY2VpbChhYnMoZXhjZXNzKSAvIHNpemUpIHx8IDEpKSAqIChiYWNrd2FyZHMgPyAxIDogLTEpO1xuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICB0cmFuc2xhdGUoZ2V0UG9zaXRpb24oKSwgdHJ1ZSk7XG4gICAgVHJhbnNpdGlvbi5jYW5jZWwoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvSW5kZXgocG9zaXRpb24pIHtcbiAgICB2YXIgU2xpZGVzID0gQ29tcG9uZW50czIuU2xpZGVzLmdldCgpO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIG1pbkRpc3RhbmNlID0gSW5maW5pdHk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IFNsaWRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHNsaWRlSW5kZXggPSBTbGlkZXNbaV0uaW5kZXg7XG4gICAgICB2YXIgZGlzdGFuY2UgPSBhYnModG9Qb3NpdGlvbihzbGlkZUluZGV4LCB0cnVlKSAtIHBvc2l0aW9uKTtcblxuICAgICAgaWYgKGRpc3RhbmNlIDw9IG1pbkRpc3RhbmNlKSB7XG4gICAgICAgIG1pbkRpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgIGluZGV4ID0gc2xpZGVJbmRleDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbmRleDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvUG9zaXRpb24oaW5kZXgsIHRyaW1taW5nKSB7XG4gICAgdmFyIHBvc2l0aW9uID0gb3JpZW50KHRvdGFsU2l6ZShpbmRleCAtIDEpIC0gb2Zmc2V0KGluZGV4KSk7XG4gICAgcmV0dXJuIHRyaW1taW5nID8gdHJpbShwb3NpdGlvbikgOiBwb3NpdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFBvc2l0aW9uKCkge1xuICAgIHZhciBsZWZ0ID0gcmVzb2x2ZShcImxlZnRcIik7XG4gICAgcmV0dXJuIHJlY3QobGlzdClbbGVmdF0gLSByZWN0KHRyYWNrKVtsZWZ0XSArIG9yaWVudChnZXRQYWRkaW5nKGZhbHNlKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmltKHBvc2l0aW9uKSB7XG4gICAgaWYgKG9wdGlvbnMudHJpbVNwYWNlICYmIFNwbGlkZTIuaXMoU0xJREUpKSB7XG4gICAgICBwb3NpdGlvbiA9IGNsYW1wKHBvc2l0aW9uLCAwLCBvcmllbnQoc2xpZGVyU2l6ZSh0cnVlKSAtIGxpc3RTaXplKCkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcG9zaXRpb247XG4gIH1cblxuICBmdW5jdGlvbiBvZmZzZXQoaW5kZXgpIHtcbiAgICB2YXIgZm9jdXMgPSBvcHRpb25zLmZvY3VzO1xuICAgIHJldHVybiBmb2N1cyA9PT0gXCJjZW50ZXJcIiA/IChsaXN0U2l6ZSgpIC0gc2xpZGVTaXplKGluZGV4LCB0cnVlKSkgLyAyIDogK2ZvY3VzICogc2xpZGVTaXplKGluZGV4KSB8fCAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGltaXQobWF4KSB7XG4gICAgcmV0dXJuIHRvUG9zaXRpb24obWF4ID8gQ29tcG9uZW50czIuQ29udHJvbGxlci5nZXRFbmQoKSA6IDAsICEhb3B0aW9ucy50cmltU3BhY2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuU2hpZnQoYmFja3dhcmRzKSB7XG4gICAgdmFyIHNoaWZ0ZWQgPSBvcmllbnQoc2hpZnQoZ2V0UG9zaXRpb24oKSwgYmFja3dhcmRzKSk7XG4gICAgcmV0dXJuIGJhY2t3YXJkcyA/IHNoaWZ0ZWQgPj0gMCA6IHNoaWZ0ZWQgPD0gbGlzdFtyZXNvbHZlKFwic2Nyb2xsV2lkdGhcIildIC0gcmVjdCh0cmFjaylbcmVzb2x2ZShcIndpZHRoXCIpXTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4Y2VlZGVkTGltaXQobWF4LCBwb3NpdGlvbikge1xuICAgIHBvc2l0aW9uID0gaXNVbmRlZmluZWQocG9zaXRpb24pID8gZ2V0UG9zaXRpb24oKSA6IHBvc2l0aW9uO1xuICAgIHZhciBleGNlZWRlZE1pbiA9IG1heCAhPT0gdHJ1ZSAmJiBvcmllbnQocG9zaXRpb24pIDwgb3JpZW50KGdldExpbWl0KGZhbHNlKSk7XG4gICAgdmFyIGV4Y2VlZGVkTWF4ID0gbWF4ICE9PSBmYWxzZSAmJiBvcmllbnQocG9zaXRpb24pID4gb3JpZW50KGdldExpbWl0KHRydWUpKTtcbiAgICByZXR1cm4gZXhjZWVkZWRNaW4gfHwgZXhjZWVkZWRNYXg7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vdW50OiBtb3VudCxcbiAgICBtb3ZlOiBtb3ZlLFxuICAgIGp1bXA6IGp1bXAsXG4gICAgdHJhbnNsYXRlOiB0cmFuc2xhdGUsXG4gICAgc2hpZnQ6IHNoaWZ0LFxuICAgIGNhbmNlbDogY2FuY2VsLFxuICAgIHRvSW5kZXg6IHRvSW5kZXgsXG4gICAgdG9Qb3NpdGlvbjogdG9Qb3NpdGlvbixcbiAgICBnZXRQb3NpdGlvbjogZ2V0UG9zaXRpb24sXG4gICAgZ2V0TGltaXQ6IGdldExpbWl0LFxuICAgIGV4Y2VlZGVkTGltaXQ6IGV4Y2VlZGVkTGltaXQsXG4gICAgcmVwb3NpdGlvbjogcmVwb3NpdGlvblxuICB9O1xufVxuXG5mdW5jdGlvbiBDb250cm9sbGVyKFNwbGlkZTIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2U1ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMiksXG4gICAgICBvbiA9IF9FdmVudEludGVyZmFjZTUub24sXG4gICAgICBlbWl0ID0gX0V2ZW50SW50ZXJmYWNlNS5lbWl0O1xuXG4gIHZhciBNb3ZlID0gQ29tcG9uZW50czIuTW92ZTtcbiAgdmFyIGdldFBvc2l0aW9uID0gTW92ZS5nZXRQb3NpdGlvbixcbiAgICAgIGdldExpbWl0ID0gTW92ZS5nZXRMaW1pdCxcbiAgICAgIHRvUG9zaXRpb24gPSBNb3ZlLnRvUG9zaXRpb247XG4gIHZhciBfQ29tcG9uZW50czIkU2xpZGVzID0gQ29tcG9uZW50czIuU2xpZGVzLFxuICAgICAgaXNFbm91Z2ggPSBfQ29tcG9uZW50czIkU2xpZGVzLmlzRW5vdWdoLFxuICAgICAgZ2V0TGVuZ3RoID0gX0NvbXBvbmVudHMyJFNsaWRlcy5nZXRMZW5ndGg7XG4gIHZhciBvbWl0RW5kID0gb3B0aW9ucy5vbWl0RW5kO1xuICB2YXIgaXNMb29wID0gU3BsaWRlMi5pcyhMT09QKTtcbiAgdmFyIGlzU2xpZGUgPSBTcGxpZGUyLmlzKFNMSURFKTtcbiAgdmFyIGdldE5leHQgPSBhcHBseShnZXRBZGphY2VudCwgZmFsc2UpO1xuICB2YXIgZ2V0UHJldiA9IGFwcGx5KGdldEFkamFjZW50LCB0cnVlKTtcbiAgdmFyIGN1cnJJbmRleCA9IG9wdGlvbnMuc3RhcnQgfHwgMDtcbiAgdmFyIGVuZEluZGV4O1xuICB2YXIgcHJldkluZGV4ID0gY3VyckluZGV4O1xuICB2YXIgc2xpZGVDb3VudDtcbiAgdmFyIHBlck1vdmU7XG4gIHZhciBwZXJQYWdlO1xuXG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIGluaXQoKTtcbiAgICBvbihbRVZFTlRfVVBEQVRFRCwgRVZFTlRfUkVGUkVTSCwgRVZFTlRfRU5EX0lOREVYX0NIQU5HRURdLCBpbml0KTtcbiAgICBvbihFVkVOVF9SRVNJWkVELCBvblJlc2l6ZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBzbGlkZUNvdW50ID0gZ2V0TGVuZ3RoKHRydWUpO1xuICAgIHBlck1vdmUgPSBvcHRpb25zLnBlck1vdmU7XG4gICAgcGVyUGFnZSA9IG9wdGlvbnMucGVyUGFnZTtcbiAgICBlbmRJbmRleCA9IGdldEVuZCgpO1xuICAgIHZhciBpbmRleCA9IGNsYW1wKGN1cnJJbmRleCwgMCwgb21pdEVuZCA/IGVuZEluZGV4IDogc2xpZGVDb3VudCAtIDEpO1xuXG4gICAgaWYgKGluZGV4ICE9PSBjdXJySW5kZXgpIHtcbiAgICAgIGN1cnJJbmRleCA9IGluZGV4O1xuICAgICAgTW92ZS5yZXBvc2l0aW9uKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25SZXNpemVkKCkge1xuICAgIGlmIChlbmRJbmRleCAhPT0gZ2V0RW5kKCkpIHtcbiAgICAgIGVtaXQoRVZFTlRfRU5EX0lOREVYX0NIQU5HRUQpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdvKGNvbnRyb2wsIGFsbG93U2FtZUluZGV4LCBjYWxsYmFjaykge1xuICAgIGlmICghaXNCdXN5KCkpIHtcbiAgICAgIHZhciBkZXN0ID0gcGFyc2UoY29udHJvbCk7XG4gICAgICB2YXIgaW5kZXggPSBsb29wKGRlc3QpO1xuXG4gICAgICBpZiAoaW5kZXggPiAtMSAmJiAoYWxsb3dTYW1lSW5kZXggfHwgaW5kZXggIT09IGN1cnJJbmRleCkpIHtcbiAgICAgICAgc2V0SW5kZXgoaW5kZXgpO1xuICAgICAgICBNb3ZlLm1vdmUoZGVzdCwgaW5kZXgsIHByZXZJbmRleCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbChkZXN0aW5hdGlvbiwgZHVyYXRpb24sIHNuYXAsIGNhbGxiYWNrKSB7XG4gICAgQ29tcG9uZW50czIuU2Nyb2xsLnNjcm9sbChkZXN0aW5hdGlvbiwgZHVyYXRpb24sIHNuYXAsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBpbmRleCA9IGxvb3AoTW92ZS50b0luZGV4KGdldFBvc2l0aW9uKCkpKTtcbiAgICAgIHNldEluZGV4KG9taXRFbmQgPyBtaW4oaW5kZXgsIGVuZEluZGV4KSA6IGluZGV4KTtcbiAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZShjb250cm9sKSB7XG4gICAgdmFyIGluZGV4ID0gY3VyckluZGV4O1xuXG4gICAgaWYgKGlzU3RyaW5nKGNvbnRyb2wpKSB7XG4gICAgICB2YXIgX3JlZiA9IGNvbnRyb2wubWF0Y2goLyhbK1xcLTw+XSkoXFxkKyk/LykgfHwgW10sXG4gICAgICAgICAgaW5kaWNhdG9yID0gX3JlZlsxXSxcbiAgICAgICAgICBudW1iZXIgPSBfcmVmWzJdO1xuXG4gICAgICBpZiAoaW5kaWNhdG9yID09PSBcIitcIiB8fCBpbmRpY2F0b3IgPT09IFwiLVwiKSB7XG4gICAgICAgIGluZGV4ID0gY29tcHV0ZURlc3RJbmRleChjdXJySW5kZXggKyArKFwiXCIgKyBpbmRpY2F0b3IgKyAoK251bWJlciB8fCAxKSksIGN1cnJJbmRleCk7XG4gICAgICB9IGVsc2UgaWYgKGluZGljYXRvciA9PT0gXCI+XCIpIHtcbiAgICAgICAgaW5kZXggPSBudW1iZXIgPyB0b0luZGV4KCtudW1iZXIpIDogZ2V0TmV4dCh0cnVlKTtcbiAgICAgIH0gZWxzZSBpZiAoaW5kaWNhdG9yID09PSBcIjxcIikge1xuICAgICAgICBpbmRleCA9IGdldFByZXYodHJ1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluZGV4ID0gaXNMb29wID8gY29udHJvbCA6IGNsYW1wKGNvbnRyb2wsIDAsIGVuZEluZGV4KTtcbiAgICB9XG5cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBZGphY2VudChwcmV2LCBkZXN0aW5hdGlvbikge1xuICAgIHZhciBudW1iZXIgPSBwZXJNb3ZlIHx8IChoYXNGb2N1cygpID8gMSA6IHBlclBhZ2UpO1xuICAgIHZhciBkZXN0ID0gY29tcHV0ZURlc3RJbmRleChjdXJySW5kZXggKyBudW1iZXIgKiAocHJldiA/IC0xIDogMSksIGN1cnJJbmRleCwgIShwZXJNb3ZlIHx8IGhhc0ZvY3VzKCkpKTtcblxuICAgIGlmIChkZXN0ID09PSAtMSAmJiBpc1NsaWRlKSB7XG4gICAgICBpZiAoIWFwcHJveGltYXRlbHlFcXVhbChnZXRQb3NpdGlvbigpLCBnZXRMaW1pdCghcHJldiksIDEpKSB7XG4gICAgICAgIHJldHVybiBwcmV2ID8gMCA6IGVuZEluZGV4O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZXN0aW5hdGlvbiA/IGRlc3QgOiBsb29wKGRlc3QpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZURlc3RJbmRleChkZXN0LCBmcm9tLCBzbmFwUGFnZSkge1xuICAgIGlmIChpc0Vub3VnaCgpIHx8IGhhc0ZvY3VzKCkpIHtcbiAgICAgIHZhciBpbmRleCA9IGNvbXB1dGVNb3ZhYmxlRGVzdEluZGV4KGRlc3QpO1xuXG4gICAgICBpZiAoaW5kZXggIT09IGRlc3QpIHtcbiAgICAgICAgZnJvbSA9IGRlc3Q7XG4gICAgICAgIGRlc3QgPSBpbmRleDtcbiAgICAgICAgc25hcFBhZ2UgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRlc3QgPCAwIHx8IGRlc3QgPiBlbmRJbmRleCkge1xuICAgICAgICBpZiAoIXBlck1vdmUgJiYgKGJldHdlZW4oMCwgZGVzdCwgZnJvbSwgdHJ1ZSkgfHwgYmV0d2VlbihlbmRJbmRleCwgZnJvbSwgZGVzdCwgdHJ1ZSkpKSB7XG4gICAgICAgICAgZGVzdCA9IHRvSW5kZXgodG9QYWdlKGRlc3QpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNMb29wKSB7XG4gICAgICAgICAgICBkZXN0ID0gc25hcFBhZ2UgPyBkZXN0IDwgMCA/IC0oc2xpZGVDb3VudCAlIHBlclBhZ2UgfHwgcGVyUGFnZSkgOiBzbGlkZUNvdW50IDogZGVzdDtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMucmV3aW5kKSB7XG4gICAgICAgICAgICBkZXN0ID0gZGVzdCA8IDAgPyBlbmRJbmRleCA6IDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRlc3QgPSAtMTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChzbmFwUGFnZSAmJiBkZXN0ICE9PSBmcm9tKSB7XG4gICAgICAgICAgZGVzdCA9IHRvSW5kZXgodG9QYWdlKGZyb20pICsgKGRlc3QgPCBmcm9tID8gLTEgOiAxKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGVzdCA9IC0xO1xuICAgIH1cblxuICAgIHJldHVybiBkZXN0O1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZU1vdmFibGVEZXN0SW5kZXgoZGVzdCkge1xuICAgIGlmIChpc1NsaWRlICYmIG9wdGlvbnMudHJpbVNwYWNlID09PSBcIm1vdmVcIiAmJiBkZXN0ICE9PSBjdXJySW5kZXgpIHtcbiAgICAgIHZhciBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKCk7XG5cbiAgICAgIHdoaWxlIChwb3NpdGlvbiA9PT0gdG9Qb3NpdGlvbihkZXN0LCB0cnVlKSAmJiBiZXR3ZWVuKGRlc3QsIDAsIFNwbGlkZTIubGVuZ3RoIC0gMSwgIW9wdGlvbnMucmV3aW5kKSkge1xuICAgICAgICBkZXN0IDwgY3VyckluZGV4ID8gLS1kZXN0IDogKytkZXN0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkZXN0O1xuICB9XG5cbiAgZnVuY3Rpb24gbG9vcChpbmRleCkge1xuICAgIHJldHVybiBpc0xvb3AgPyAoaW5kZXggKyBzbGlkZUNvdW50KSAlIHNsaWRlQ291bnQgfHwgMCA6IGluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RW5kKCkge1xuICAgIHZhciBlbmQgPSBzbGlkZUNvdW50IC0gKGhhc0ZvY3VzKCkgfHwgaXNMb29wICYmIHBlck1vdmUgPyAxIDogcGVyUGFnZSk7XG5cbiAgICB3aGlsZSAob21pdEVuZCAmJiBlbmQtLSA+IDApIHtcbiAgICAgIGlmICh0b1Bvc2l0aW9uKHNsaWRlQ291bnQgLSAxLCB0cnVlKSAhPT0gdG9Qb3NpdGlvbihlbmQsIHRydWUpKSB7XG4gICAgICAgIGVuZCsrO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gY2xhbXAoZW5kLCAwLCBzbGlkZUNvdW50IC0gMSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b0luZGV4KHBhZ2UpIHtcbiAgICByZXR1cm4gY2xhbXAoaGFzRm9jdXMoKSA/IHBhZ2UgOiBwZXJQYWdlICogcGFnZSwgMCwgZW5kSW5kZXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9QYWdlKGluZGV4KSB7XG4gICAgcmV0dXJuIGhhc0ZvY3VzKCkgPyBtaW4oaW5kZXgsIGVuZEluZGV4KSA6IGZsb29yKChpbmRleCA+PSBlbmRJbmRleCA/IHNsaWRlQ291bnQgLSAxIDogaW5kZXgpIC8gcGVyUGFnZSk7XG4gIH1cblxuICBmdW5jdGlvbiB0b0Rlc3QoZGVzdGluYXRpb24pIHtcbiAgICB2YXIgY2xvc2VzdCA9IE1vdmUudG9JbmRleChkZXN0aW5hdGlvbik7XG4gICAgcmV0dXJuIGlzU2xpZGUgPyBjbGFtcChjbG9zZXN0LCAwLCBlbmRJbmRleCkgOiBjbG9zZXN0O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0SW5kZXgoaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggIT09IGN1cnJJbmRleCkge1xuICAgICAgcHJldkluZGV4ID0gY3VyckluZGV4O1xuICAgICAgY3VyckluZGV4ID0gaW5kZXg7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5kZXgocHJldikge1xuICAgIHJldHVybiBwcmV2ID8gcHJldkluZGV4IDogY3VyckluZGV4O1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzRm9jdXMoKSB7XG4gICAgcmV0dXJuICFpc1VuZGVmaW5lZChvcHRpb25zLmZvY3VzKSB8fCBvcHRpb25zLmlzTmF2aWdhdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQnVzeSgpIHtcbiAgICByZXR1cm4gU3BsaWRlMi5zdGF0ZS5pcyhbTU9WSU5HLCBTQ1JPTExJTkddKSAmJiAhIW9wdGlvbnMud2FpdEZvclRyYW5zaXRpb247XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vdW50OiBtb3VudCxcbiAgICBnbzogZ28sXG4gICAgc2Nyb2xsOiBzY3JvbGwsXG4gICAgZ2V0TmV4dDogZ2V0TmV4dCxcbiAgICBnZXRQcmV2OiBnZXRQcmV2LFxuICAgIGdldEFkamFjZW50OiBnZXRBZGphY2VudCxcbiAgICBnZXRFbmQ6IGdldEVuZCxcbiAgICBzZXRJbmRleDogc2V0SW5kZXgsXG4gICAgZ2V0SW5kZXg6IGdldEluZGV4LFxuICAgIHRvSW5kZXg6IHRvSW5kZXgsXG4gICAgdG9QYWdlOiB0b1BhZ2UsXG4gICAgdG9EZXN0OiB0b0Rlc3QsXG4gICAgaGFzRm9jdXM6IGhhc0ZvY3VzLFxuICAgIGlzQnVzeTogaXNCdXN5XG4gIH07XG59XG5cbnZhciBYTUxfTkFNRV9TUEFDRSA9IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIjtcbnZhciBQQVRIID0gXCJtMTUuNSAwLjkzMi00LjMgNC4zOCAxNC41IDE0LjYtMTQuNSAxNC41IDQuMyA0LjQgMTQuNi0xNC42IDQuNC00LjMtNC40LTQuNC0xNC42LTE0LjZ6XCI7XG52YXIgU0laRSA9IDQwO1xuXG5mdW5jdGlvbiBBcnJvd3MoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIGV2ZW50ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMik7XG4gIHZhciBvbiA9IGV2ZW50Lm9uLFxuICAgICAgYmluZCA9IGV2ZW50LmJpbmQsXG4gICAgICBlbWl0ID0gZXZlbnQuZW1pdDtcbiAgdmFyIGNsYXNzZXMgPSBvcHRpb25zLmNsYXNzZXMsXG4gICAgICBpMThuID0gb3B0aW9ucy5pMThuO1xuICB2YXIgRWxlbWVudHMgPSBDb21wb25lbnRzMi5FbGVtZW50cyxcbiAgICAgIENvbnRyb2xsZXIgPSBDb21wb25lbnRzMi5Db250cm9sbGVyO1xuICB2YXIgcGxhY2Vob2xkZXIgPSBFbGVtZW50cy5hcnJvd3MsXG4gICAgICB0cmFjayA9IEVsZW1lbnRzLnRyYWNrO1xuICB2YXIgd3JhcHBlciA9IHBsYWNlaG9sZGVyO1xuICB2YXIgcHJldiA9IEVsZW1lbnRzLnByZXY7XG4gIHZhciBuZXh0ID0gRWxlbWVudHMubmV4dDtcbiAgdmFyIGNyZWF0ZWQ7XG4gIHZhciB3cmFwcGVyQ2xhc3NlcztcbiAgdmFyIGFycm93cyA9IHt9O1xuXG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIGluaXQoKTtcbiAgICBvbihFVkVOVF9VUERBVEVELCByZW1vdW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW91bnQoKSB7XG4gICAgZGVzdHJveSgpO1xuICAgIG1vdW50KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBlbmFibGVkID0gb3B0aW9ucy5hcnJvd3M7XG5cbiAgICBpZiAoZW5hYmxlZCAmJiAhKHByZXYgJiYgbmV4dCkpIHtcbiAgICAgIGNyZWF0ZUFycm93cygpO1xuICAgIH1cblxuICAgIGlmIChwcmV2ICYmIG5leHQpIHtcbiAgICAgIGFzc2lnbihhcnJvd3MsIHtcbiAgICAgICAgcHJldjogcHJldixcbiAgICAgICAgbmV4dDogbmV4dFxuICAgICAgfSk7XG4gICAgICBkaXNwbGF5KHdyYXBwZXIsIGVuYWJsZWQgPyBcIlwiIDogXCJub25lXCIpO1xuICAgICAgYWRkQ2xhc3Mod3JhcHBlciwgd3JhcHBlckNsYXNzZXMgPSBDTEFTU19BUlJPV1MgKyBcIi0tXCIgKyBvcHRpb25zLmRpcmVjdGlvbik7XG5cbiAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgIGxpc3RlbigpO1xuICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgc2V0QXR0cmlidXRlKFtwcmV2LCBuZXh0XSwgQVJJQV9DT05UUk9MUywgdHJhY2suaWQpO1xuICAgICAgICBlbWl0KEVWRU5UX0FSUk9XU19NT1VOVEVELCBwcmV2LCBuZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIGV2ZW50LmRlc3Ryb3koKTtcbiAgICByZW1vdmVDbGFzcyh3cmFwcGVyLCB3cmFwcGVyQ2xhc3Nlcyk7XG5cbiAgICBpZiAoY3JlYXRlZCkge1xuICAgICAgcmVtb3ZlKHBsYWNlaG9sZGVyID8gW3ByZXYsIG5leHRdIDogd3JhcHBlcik7XG4gICAgICBwcmV2ID0gbmV4dCA9IG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZUF0dHJpYnV0ZShbcHJldiwgbmV4dF0sIEFMTF9BVFRSSUJVVEVTKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsaXN0ZW4oKSB7XG4gICAgb24oW0VWRU5UX01PVU5URUQsIEVWRU5UX01PVkVELCBFVkVOVF9SRUZSRVNILCBFVkVOVF9TQ1JPTExFRCwgRVZFTlRfRU5EX0lOREVYX0NIQU5HRURdLCB1cGRhdGUpO1xuICAgIGJpbmQobmV4dCwgXCJjbGlja1wiLCBhcHBseShnbywgXCI+XCIpKTtcbiAgICBiaW5kKHByZXYsIFwiY2xpY2tcIiwgYXBwbHkoZ28sIFwiPFwiKSk7XG4gIH1cblxuICBmdW5jdGlvbiBnbyhjb250cm9sKSB7XG4gICAgQ29udHJvbGxlci5nbyhjb250cm9sLCB0cnVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFycm93cygpIHtcbiAgICB3cmFwcGVyID0gcGxhY2Vob2xkZXIgfHwgY3JlYXRlKFwiZGl2XCIsIGNsYXNzZXMuYXJyb3dzKTtcbiAgICBwcmV2ID0gY3JlYXRlQXJyb3codHJ1ZSk7XG4gICAgbmV4dCA9IGNyZWF0ZUFycm93KGZhbHNlKTtcbiAgICBjcmVhdGVkID0gdHJ1ZTtcbiAgICBhcHBlbmQod3JhcHBlciwgW3ByZXYsIG5leHRdKTtcbiAgICAhcGxhY2Vob2xkZXIgJiYgYmVmb3JlKHdyYXBwZXIsIHRyYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUFycm93KHByZXYyKSB7XG4gICAgdmFyIGFycm93ID0gXCI8YnV0dG9uIGNsYXNzPVxcXCJcIiArIGNsYXNzZXMuYXJyb3cgKyBcIiBcIiArIChwcmV2MiA/IGNsYXNzZXMucHJldiA6IGNsYXNzZXMubmV4dCkgKyBcIlxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIj48c3ZnIHhtbG5zPVxcXCJcIiArIFhNTF9OQU1FX1NQQUNFICsgXCJcXFwiIHZpZXdCb3g9XFxcIjAgMCBcIiArIFNJWkUgKyBcIiBcIiArIFNJWkUgKyBcIlxcXCIgd2lkdGg9XFxcIlwiICsgU0laRSArIFwiXFxcIiBoZWlnaHQ9XFxcIlwiICsgU0laRSArIFwiXFxcIiBmb2N1c2FibGU9XFxcImZhbHNlXFxcIj48cGF0aCBkPVxcXCJcIiArIChvcHRpb25zLmFycm93UGF0aCB8fCBQQVRIKSArIFwiXFxcIiAvPlwiO1xuICAgIHJldHVybiBwYXJzZUh0bWwoYXJyb3cpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIGlmIChwcmV2ICYmIG5leHQpIHtcbiAgICAgIHZhciBpbmRleCA9IFNwbGlkZTIuaW5kZXg7XG4gICAgICB2YXIgcHJldkluZGV4ID0gQ29udHJvbGxlci5nZXRQcmV2KCk7XG4gICAgICB2YXIgbmV4dEluZGV4ID0gQ29udHJvbGxlci5nZXROZXh0KCk7XG4gICAgICB2YXIgcHJldkxhYmVsID0gcHJldkluZGV4ID4gLTEgJiYgaW5kZXggPCBwcmV2SW5kZXggPyBpMThuLmxhc3QgOiBpMThuLnByZXY7XG4gICAgICB2YXIgbmV4dExhYmVsID0gbmV4dEluZGV4ID4gLTEgJiYgaW5kZXggPiBuZXh0SW5kZXggPyBpMThuLmZpcnN0IDogaTE4bi5uZXh0O1xuICAgICAgcHJldi5kaXNhYmxlZCA9IHByZXZJbmRleCA8IDA7XG4gICAgICBuZXh0LmRpc2FibGVkID0gbmV4dEluZGV4IDwgMDtcbiAgICAgIHNldEF0dHJpYnV0ZShwcmV2LCBBUklBX0xBQkVMLCBwcmV2TGFiZWwpO1xuICAgICAgc2V0QXR0cmlidXRlKG5leHQsIEFSSUFfTEFCRUwsIG5leHRMYWJlbCk7XG4gICAgICBlbWl0KEVWRU5UX0FSUk9XU19VUERBVEVELCBwcmV2LCBuZXh0LCBwcmV2SW5kZXgsIG5leHRJbmRleCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBhcnJvd3M6IGFycm93cyxcbiAgICBtb3VudDogbW91bnQsXG4gICAgZGVzdHJveTogZGVzdHJveSxcbiAgICB1cGRhdGU6IHVwZGF0ZVxuICB9O1xufVxuXG52YXIgSU5URVJWQUxfREFUQV9BVFRSSUJVVEUgPSBEQVRBX0FUVFJJQlVURSArIFwiLWludGVydmFsXCI7XG5cbmZ1bmN0aW9uIEF1dG9wbGF5KFNwbGlkZTIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2U2ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMiksXG4gICAgICBvbiA9IF9FdmVudEludGVyZmFjZTYub24sXG4gICAgICBiaW5kID0gX0V2ZW50SW50ZXJmYWNlNi5iaW5kLFxuICAgICAgZW1pdCA9IF9FdmVudEludGVyZmFjZTYuZW1pdDtcblxuICB2YXIgaW50ZXJ2YWwgPSBSZXF1ZXN0SW50ZXJ2YWwob3B0aW9ucy5pbnRlcnZhbCwgU3BsaWRlMi5nby5iaW5kKFNwbGlkZTIsIFwiPlwiKSwgb25BbmltYXRpb25GcmFtZSk7XG4gIHZhciBpc1BhdXNlZCA9IGludGVydmFsLmlzUGF1c2VkO1xuICB2YXIgRWxlbWVudHMgPSBDb21wb25lbnRzMi5FbGVtZW50cyxcbiAgICAgIF9Db21wb25lbnRzMiRFbGVtZW50czQgPSBDb21wb25lbnRzMi5FbGVtZW50cyxcbiAgICAgIHJvb3QgPSBfQ29tcG9uZW50czIkRWxlbWVudHM0LnJvb3QsXG4gICAgICB0b2dnbGUgPSBfQ29tcG9uZW50czIkRWxlbWVudHM0LnRvZ2dsZTtcbiAgdmFyIGF1dG9wbGF5ID0gb3B0aW9ucy5hdXRvcGxheTtcbiAgdmFyIGhvdmVyZWQ7XG4gIHZhciBmb2N1c2VkO1xuICB2YXIgc3RvcHBlZCA9IGF1dG9wbGF5ID09PSBcInBhdXNlXCI7XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgaWYgKGF1dG9wbGF5KSB7XG4gICAgICBsaXN0ZW4oKTtcbiAgICAgIHRvZ2dsZSAmJiBzZXRBdHRyaWJ1dGUodG9nZ2xlLCBBUklBX0NPTlRST0xTLCBFbGVtZW50cy50cmFjay5pZCk7XG4gICAgICBzdG9wcGVkIHx8IHBsYXkoKTtcbiAgICAgIHVwZGF0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGxpc3RlbigpIHtcbiAgICBpZiAob3B0aW9ucy5wYXVzZU9uSG92ZXIpIHtcbiAgICAgIGJpbmQocm9vdCwgXCJtb3VzZWVudGVyIG1vdXNlbGVhdmVcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaG92ZXJlZCA9IGUudHlwZSA9PT0gXCJtb3VzZWVudGVyXCI7XG4gICAgICAgIGF1dG9Ub2dnbGUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChvcHRpb25zLnBhdXNlT25Gb2N1cykge1xuICAgICAgYmluZChyb290LCBcImZvY3VzaW4gZm9jdXNvdXRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZm9jdXNlZCA9IGUudHlwZSA9PT0gXCJmb2N1c2luXCI7XG4gICAgICAgIGF1dG9Ub2dnbGUoKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmICh0b2dnbGUpIHtcbiAgICAgIGJpbmQodG9nZ2xlLCBcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc3RvcHBlZCA/IHBsYXkoKSA6IHBhdXNlKHRydWUpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgb24oW0VWRU5UX01PVkUsIEVWRU5UX1NDUk9MTCwgRVZFTlRfUkVGUkVTSF0sIGludGVydmFsLnJld2luZCk7XG4gICAgb24oRVZFTlRfTU9WRSwgb25Nb3ZlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBsYXkoKSB7XG4gICAgaWYgKGlzUGF1c2VkKCkgJiYgQ29tcG9uZW50czIuU2xpZGVzLmlzRW5vdWdoKCkpIHtcbiAgICAgIGludGVydmFsLnN0YXJ0KCFvcHRpb25zLnJlc2V0UHJvZ3Jlc3MpO1xuICAgICAgZm9jdXNlZCA9IGhvdmVyZWQgPSBzdG9wcGVkID0gZmFsc2U7XG4gICAgICB1cGRhdGUoKTtcbiAgICAgIGVtaXQoRVZFTlRfQVVUT1BMQVlfUExBWSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcGF1c2Uoc3RvcCkge1xuICAgIGlmIChzdG9wID09PSB2b2lkIDApIHtcbiAgICAgIHN0b3AgPSB0cnVlO1xuICAgIH1cblxuICAgIHN0b3BwZWQgPSAhIXN0b3A7XG4gICAgdXBkYXRlKCk7XG5cbiAgICBpZiAoIWlzUGF1c2VkKCkpIHtcbiAgICAgIGludGVydmFsLnBhdXNlKCk7XG4gICAgICBlbWl0KEVWRU5UX0FVVE9QTEFZX1BBVVNFKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhdXRvVG9nZ2xlKCkge1xuICAgIGlmICghc3RvcHBlZCkge1xuICAgICAgaG92ZXJlZCB8fCBmb2N1c2VkID8gcGF1c2UoZmFsc2UpIDogcGxheSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICBpZiAodG9nZ2xlKSB7XG4gICAgICB0b2dnbGVDbGFzcyh0b2dnbGUsIENMQVNTX0FDVElWRSwgIXN0b3BwZWQpO1xuICAgICAgc2V0QXR0cmlidXRlKHRvZ2dsZSwgQVJJQV9MQUJFTCwgb3B0aW9ucy5pMThuW3N0b3BwZWQgPyBcInBsYXlcIiA6IFwicGF1c2VcIl0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQW5pbWF0aW9uRnJhbWUocmF0ZSkge1xuICAgIHZhciBiYXIgPSBFbGVtZW50cy5iYXI7XG4gICAgYmFyICYmIHN0eWxlKGJhciwgXCJ3aWR0aFwiLCByYXRlICogMTAwICsgXCIlXCIpO1xuICAgIGVtaXQoRVZFTlRfQVVUT1BMQVlfUExBWUlORywgcmF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbk1vdmUoaW5kZXgpIHtcbiAgICB2YXIgU2xpZGUgPSBDb21wb25lbnRzMi5TbGlkZXMuZ2V0QXQoaW5kZXgpO1xuICAgIGludGVydmFsLnNldChTbGlkZSAmJiArZ2V0QXR0cmlidXRlKFNsaWRlLnNsaWRlLCBJTlRFUlZBTF9EQVRBX0FUVFJJQlVURSkgfHwgb3B0aW9ucy5pbnRlcnZhbCk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vdW50OiBtb3VudCxcbiAgICBkZXN0cm95OiBpbnRlcnZhbC5jYW5jZWwsXG4gICAgcGxheTogcGxheSxcbiAgICBwYXVzZTogcGF1c2UsXG4gICAgaXNQYXVzZWQ6IGlzUGF1c2VkXG4gIH07XG59XG5cbmZ1bmN0aW9uIENvdmVyKFNwbGlkZTIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2U3ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMiksXG4gICAgICBvbiA9IF9FdmVudEludGVyZmFjZTcub247XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgaWYgKG9wdGlvbnMuY292ZXIpIHtcbiAgICAgIG9uKEVWRU5UX0xBWllMT0FEX0xPQURFRCwgYXBwbHkodG9nZ2xlLCB0cnVlKSk7XG4gICAgICBvbihbRVZFTlRfTU9VTlRFRCwgRVZFTlRfVVBEQVRFRCwgRVZFTlRfUkVGUkVTSF0sIGFwcGx5KGNvdmVyLCB0cnVlKSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY292ZXIoY292ZXIyKSB7XG4gICAgQ29tcG9uZW50czIuU2xpZGVzLmZvckVhY2goZnVuY3Rpb24gKFNsaWRlKSB7XG4gICAgICB2YXIgaW1nID0gY2hpbGQoU2xpZGUuY29udGFpbmVyIHx8IFNsaWRlLnNsaWRlLCBcImltZ1wiKTtcblxuICAgICAgaWYgKGltZyAmJiBpbWcuc3JjKSB7XG4gICAgICAgIHRvZ2dsZShjb3ZlcjIsIGltZywgU2xpZGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9nZ2xlKGNvdmVyMiwgaW1nLCBTbGlkZSkge1xuICAgIFNsaWRlLnN0eWxlKFwiYmFja2dyb3VuZFwiLCBjb3ZlcjIgPyBcImNlbnRlci9jb3ZlciBuby1yZXBlYXQgdXJsKFxcXCJcIiArIGltZy5zcmMgKyBcIlxcXCIpXCIgOiBcIlwiLCB0cnVlKTtcbiAgICBkaXNwbGF5KGltZywgY292ZXIyID8gXCJub25lXCIgOiBcIlwiKTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbW91bnQ6IG1vdW50LFxuICAgIGRlc3Ryb3k6IGFwcGx5KGNvdmVyLCBmYWxzZSlcbiAgfTtcbn1cblxudmFyIEJPVU5DRV9ESUZGX1RIUkVTSE9MRCA9IDEwO1xudmFyIEJPVU5DRV9EVVJBVElPTiA9IDYwMDtcbnZhciBGUklDVElPTl9GQUNUT1IgPSAwLjY7XG52YXIgQkFTRV9WRUxPQ0lUWSA9IDEuNTtcbnZhciBNSU5fRFVSQVRJT04gPSA4MDA7XG5cbmZ1bmN0aW9uIFNjcm9sbChTcGxpZGUyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgX0V2ZW50SW50ZXJmYWNlOCA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpLFxuICAgICAgb24gPSBfRXZlbnRJbnRlcmZhY2U4Lm9uLFxuICAgICAgZW1pdCA9IF9FdmVudEludGVyZmFjZTguZW1pdDtcblxuICB2YXIgc2V0ID0gU3BsaWRlMi5zdGF0ZS5zZXQ7XG4gIHZhciBNb3ZlID0gQ29tcG9uZW50czIuTW92ZTtcbiAgdmFyIGdldFBvc2l0aW9uID0gTW92ZS5nZXRQb3NpdGlvbixcbiAgICAgIGdldExpbWl0ID0gTW92ZS5nZXRMaW1pdCxcbiAgICAgIGV4Y2VlZGVkTGltaXQgPSBNb3ZlLmV4Y2VlZGVkTGltaXQsXG4gICAgICB0cmFuc2xhdGUgPSBNb3ZlLnRyYW5zbGF0ZTtcbiAgdmFyIGlzU2xpZGUgPSBTcGxpZGUyLmlzKFNMSURFKTtcbiAgdmFyIGludGVydmFsO1xuICB2YXIgY2FsbGJhY2s7XG4gIHZhciBmcmljdGlvbiA9IDE7XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgb24oRVZFTlRfTU9WRSwgY2xlYXIpO1xuICAgIG9uKFtFVkVOVF9VUERBVEVELCBFVkVOVF9SRUZSRVNIXSwgY2FuY2VsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbChkZXN0aW5hdGlvbiwgZHVyYXRpb24sIHNuYXAsIG9uU2Nyb2xsZWQsIG5vQ29uc3RyYWluKSB7XG4gICAgdmFyIGZyb20gPSBnZXRQb3NpdGlvbigpO1xuICAgIGNsZWFyKCk7XG5cbiAgICBpZiAoc25hcCAmJiAoIWlzU2xpZGUgfHwgIWV4Y2VlZGVkTGltaXQoKSkpIHtcbiAgICAgIHZhciBzaXplID0gQ29tcG9uZW50czIuTGF5b3V0LnNsaWRlclNpemUoKTtcbiAgICAgIHZhciBvZmZzZXQgPSBzaWduKGRlc3RpbmF0aW9uKSAqIHNpemUgKiBmbG9vcihhYnMoZGVzdGluYXRpb24pIC8gc2l6ZSkgfHwgMDtcbiAgICAgIGRlc3RpbmF0aW9uID0gTW92ZS50b1Bvc2l0aW9uKENvbXBvbmVudHMyLkNvbnRyb2xsZXIudG9EZXN0KGRlc3RpbmF0aW9uICUgc2l6ZSkpICsgb2Zmc2V0O1xuICAgIH1cblxuICAgIHZhciBub0Rpc3RhbmNlID0gYXBwcm94aW1hdGVseUVxdWFsKGZyb20sIGRlc3RpbmF0aW9uLCAxKTtcbiAgICBmcmljdGlvbiA9IDE7XG4gICAgZHVyYXRpb24gPSBub0Rpc3RhbmNlID8gMCA6IGR1cmF0aW9uIHx8IG1heChhYnMoZGVzdGluYXRpb24gLSBmcm9tKSAvIEJBU0VfVkVMT0NJVFksIE1JTl9EVVJBVElPTik7XG4gICAgY2FsbGJhY2sgPSBvblNjcm9sbGVkO1xuICAgIGludGVydmFsID0gUmVxdWVzdEludGVydmFsKGR1cmF0aW9uLCBvbkVuZCwgYXBwbHkodXBkYXRlLCBmcm9tLCBkZXN0aW5hdGlvbiwgbm9Db25zdHJhaW4pLCAxKTtcbiAgICBzZXQoU0NST0xMSU5HKTtcbiAgICBlbWl0KEVWRU5UX1NDUk9MTCk7XG4gICAgaW50ZXJ2YWwuc3RhcnQoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uRW5kKCkge1xuICAgIHNldChJRExFKTtcbiAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpO1xuICAgIGVtaXQoRVZFTlRfU0NST0xMRUQpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKGZyb20sIHRvLCBub0NvbnN0cmFpbiwgcmF0ZSkge1xuICAgIHZhciBwb3NpdGlvbiA9IGdldFBvc2l0aW9uKCk7XG4gICAgdmFyIHRhcmdldCA9IGZyb20gKyAodG8gLSBmcm9tKSAqIGVhc2luZyhyYXRlKTtcbiAgICB2YXIgZGlmZiA9ICh0YXJnZXQgLSBwb3NpdGlvbikgKiBmcmljdGlvbjtcbiAgICB0cmFuc2xhdGUocG9zaXRpb24gKyBkaWZmKTtcblxuICAgIGlmIChpc1NsaWRlICYmICFub0NvbnN0cmFpbiAmJiBleGNlZWRlZExpbWl0KCkpIHtcbiAgICAgIGZyaWN0aW9uICo9IEZSSUNUSU9OX0ZBQ1RPUjtcblxuICAgICAgaWYgKGFicyhkaWZmKSA8IEJPVU5DRV9ESUZGX1RIUkVTSE9MRCkge1xuICAgICAgICBzY3JvbGwoZ2V0TGltaXQoZXhjZWVkZWRMaW1pdCh0cnVlKSksIEJPVU5DRV9EVVJBVElPTiwgZmFsc2UsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICBpZiAoaW50ZXJ2YWwpIHtcbiAgICAgIGludGVydmFsLmNhbmNlbCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNhbmNlbCgpIHtcbiAgICBpZiAoaW50ZXJ2YWwgJiYgIWludGVydmFsLmlzUGF1c2VkKCkpIHtcbiAgICAgIGNsZWFyKCk7XG4gICAgICBvbkVuZCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVhc2luZyh0KSB7XG4gICAgdmFyIGVhc2luZ0Z1bmMgPSBvcHRpb25zLmVhc2luZ0Z1bmM7XG4gICAgcmV0dXJuIGVhc2luZ0Z1bmMgPyBlYXNpbmdGdW5jKHQpIDogMSAtIE1hdGgucG93KDEgLSB0LCA0KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbW91bnQ6IG1vdW50LFxuICAgIGRlc3Ryb3k6IGNsZWFyLFxuICAgIHNjcm9sbDogc2Nyb2xsLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59XG5cbnZhciBTQ1JPTExfTElTVEVORVJfT1BUSU9OUyA9IHtcbiAgcGFzc2l2ZTogZmFsc2UsXG4gIGNhcHR1cmU6IHRydWVcbn07XG5cbmZ1bmN0aW9uIERyYWcoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIF9FdmVudEludGVyZmFjZTkgPSBFdmVudEludGVyZmFjZShTcGxpZGUyKSxcbiAgICAgIG9uID0gX0V2ZW50SW50ZXJmYWNlOS5vbixcbiAgICAgIGVtaXQgPSBfRXZlbnRJbnRlcmZhY2U5LmVtaXQsXG4gICAgICBiaW5kID0gX0V2ZW50SW50ZXJmYWNlOS5iaW5kLFxuICAgICAgdW5iaW5kID0gX0V2ZW50SW50ZXJmYWNlOS51bmJpbmQ7XG5cbiAgdmFyIHN0YXRlID0gU3BsaWRlMi5zdGF0ZTtcbiAgdmFyIE1vdmUgPSBDb21wb25lbnRzMi5Nb3ZlLFxuICAgICAgU2Nyb2xsID0gQ29tcG9uZW50czIuU2Nyb2xsLFxuICAgICAgQ29udHJvbGxlciA9IENvbXBvbmVudHMyLkNvbnRyb2xsZXIsXG4gICAgICB0cmFjayA9IENvbXBvbmVudHMyLkVsZW1lbnRzLnRyYWNrLFxuICAgICAgcmVkdWNlID0gQ29tcG9uZW50czIuTWVkaWEucmVkdWNlO1xuICB2YXIgX0NvbXBvbmVudHMyJERpcmVjdGlvMiA9IENvbXBvbmVudHMyLkRpcmVjdGlvbixcbiAgICAgIHJlc29sdmUgPSBfQ29tcG9uZW50czIkRGlyZWN0aW8yLnJlc29sdmUsXG4gICAgICBvcmllbnQgPSBfQ29tcG9uZW50czIkRGlyZWN0aW8yLm9yaWVudDtcbiAgdmFyIGdldFBvc2l0aW9uID0gTW92ZS5nZXRQb3NpdGlvbixcbiAgICAgIGV4Y2VlZGVkTGltaXQgPSBNb3ZlLmV4Y2VlZGVkTGltaXQ7XG4gIHZhciBiYXNlUG9zaXRpb247XG4gIHZhciBiYXNlRXZlbnQ7XG4gIHZhciBwcmV2QmFzZUV2ZW50O1xuICB2YXIgaXNGcmVlO1xuICB2YXIgZHJhZ2dpbmc7XG4gIHZhciBleGNlZWRlZCA9IGZhbHNlO1xuICB2YXIgY2xpY2tQcmV2ZW50ZWQ7XG4gIHZhciBkaXNhYmxlZDtcbiAgdmFyIHRhcmdldDtcblxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBiaW5kKHRyYWNrLCBQT0lOVEVSX01PVkVfRVZFTlRTLCBub29wLCBTQ1JPTExfTElTVEVORVJfT1BUSU9OUyk7XG4gICAgYmluZCh0cmFjaywgUE9JTlRFUl9VUF9FVkVOVFMsIG5vb3AsIFNDUk9MTF9MSVNURU5FUl9PUFRJT05TKTtcbiAgICBiaW5kKHRyYWNrLCBQT0lOVEVSX0RPV05fRVZFTlRTLCBvblBvaW50ZXJEb3duLCBTQ1JPTExfTElTVEVORVJfT1BUSU9OUyk7XG4gICAgYmluZCh0cmFjaywgXCJjbGlja1wiLCBvbkNsaWNrLCB7XG4gICAgICBjYXB0dXJlOiB0cnVlXG4gICAgfSk7XG4gICAgYmluZCh0cmFjaywgXCJkcmFnc3RhcnRcIiwgcHJldmVudCk7XG4gICAgb24oW0VWRU5UX01PVU5URUQsIEVWRU5UX1VQREFURURdLCBpbml0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgdmFyIGRyYWcgPSBvcHRpb25zLmRyYWc7XG4gICAgZGlzYWJsZSghZHJhZyk7XG4gICAgaXNGcmVlID0gZHJhZyA9PT0gXCJmcmVlXCI7XG4gIH1cblxuICBmdW5jdGlvbiBvblBvaW50ZXJEb3duKGUpIHtcbiAgICBjbGlja1ByZXZlbnRlZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFkaXNhYmxlZCkge1xuICAgICAgdmFyIGlzVG91Y2ggPSBpc1RvdWNoRXZlbnQoZSk7XG5cbiAgICAgIGlmIChpc0RyYWdnYWJsZShlLnRhcmdldCkgJiYgKGlzVG91Y2ggfHwgIWUuYnV0dG9uKSkge1xuICAgICAgICBpZiAoIUNvbnRyb2xsZXIuaXNCdXN5KCkpIHtcbiAgICAgICAgICB0YXJnZXQgPSBpc1RvdWNoID8gdHJhY2sgOiB3aW5kb3c7XG4gICAgICAgICAgZHJhZ2dpbmcgPSBzdGF0ZS5pcyhbTU9WSU5HLCBTQ1JPTExJTkddKTtcbiAgICAgICAgICBwcmV2QmFzZUV2ZW50ID0gbnVsbDtcbiAgICAgICAgICBiaW5kKHRhcmdldCwgUE9JTlRFUl9NT1ZFX0VWRU5UUywgb25Qb2ludGVyTW92ZSwgU0NST0xMX0xJU1RFTkVSX09QVElPTlMpO1xuICAgICAgICAgIGJpbmQodGFyZ2V0LCBQT0lOVEVSX1VQX0VWRU5UUywgb25Qb2ludGVyVXAsIFNDUk9MTF9MSVNURU5FUl9PUFRJT05TKTtcbiAgICAgICAgICBNb3ZlLmNhbmNlbCgpO1xuICAgICAgICAgIFNjcm9sbC5jYW5jZWwoKTtcbiAgICAgICAgICBzYXZlKGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZXZlbnQoZSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblBvaW50ZXJNb3ZlKGUpIHtcbiAgICBpZiAoIXN0YXRlLmlzKERSQUdHSU5HKSkge1xuICAgICAgc3RhdGUuc2V0KERSQUdHSU5HKTtcbiAgICAgIGVtaXQoRVZFTlRfRFJBRyk7XG4gICAgfVxuXG4gICAgaWYgKGUuY2FuY2VsYWJsZSkge1xuICAgICAgaWYgKGRyYWdnaW5nKSB7XG4gICAgICAgIE1vdmUudHJhbnNsYXRlKGJhc2VQb3NpdGlvbiArIGNvbnN0cmFpbihkaWZmQ29vcmQoZSkpKTtcbiAgICAgICAgdmFyIGV4cGlyZWQgPSBkaWZmVGltZShlKSA+IExPR19JTlRFUlZBTDtcbiAgICAgICAgdmFyIGhhc0V4Y2VlZGVkID0gZXhjZWVkZWQgIT09IChleGNlZWRlZCA9IGV4Y2VlZGVkTGltaXQoKSk7XG5cbiAgICAgICAgaWYgKGV4cGlyZWQgfHwgaGFzRXhjZWVkZWQpIHtcbiAgICAgICAgICBzYXZlKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xpY2tQcmV2ZW50ZWQgPSB0cnVlO1xuICAgICAgICBlbWl0KEVWRU5UX0RSQUdHSU5HKTtcbiAgICAgICAgcHJldmVudChlKTtcbiAgICAgIH0gZWxzZSBpZiAoaXNTbGlkZXJEaXJlY3Rpb24oZSkpIHtcbiAgICAgICAgZHJhZ2dpbmcgPSBzaG91bGRTdGFydChlKTtcbiAgICAgICAgcHJldmVudChlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblBvaW50ZXJVcChlKSB7XG4gICAgaWYgKHN0YXRlLmlzKERSQUdHSU5HKSkge1xuICAgICAgc3RhdGUuc2V0KElETEUpO1xuICAgICAgZW1pdChFVkVOVF9EUkFHR0VEKTtcbiAgICB9XG5cbiAgICBpZiAoZHJhZ2dpbmcpIHtcbiAgICAgIG1vdmUoZSk7XG4gICAgICBwcmV2ZW50KGUpO1xuICAgIH1cblxuICAgIHVuYmluZCh0YXJnZXQsIFBPSU5URVJfTU9WRV9FVkVOVFMsIG9uUG9pbnRlck1vdmUpO1xuICAgIHVuYmluZCh0YXJnZXQsIFBPSU5URVJfVVBfRVZFTlRTLCBvblBvaW50ZXJVcCk7XG4gICAgZHJhZ2dpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgIGlmICghZGlzYWJsZWQgJiYgY2xpY2tQcmV2ZW50ZWQpIHtcbiAgICAgIHByZXZlbnQoZSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZShlKSB7XG4gICAgcHJldkJhc2VFdmVudCA9IGJhc2VFdmVudDtcbiAgICBiYXNlRXZlbnQgPSBlO1xuICAgIGJhc2VQb3NpdGlvbiA9IGdldFBvc2l0aW9uKCk7XG4gIH1cblxuICBmdW5jdGlvbiBtb3ZlKGUpIHtcbiAgICB2YXIgdmVsb2NpdHkgPSBjb21wdXRlVmVsb2NpdHkoZSk7XG4gICAgdmFyIGRlc3RpbmF0aW9uID0gY29tcHV0ZURlc3RpbmF0aW9uKHZlbG9jaXR5KTtcbiAgICB2YXIgcmV3aW5kID0gb3B0aW9ucy5yZXdpbmQgJiYgb3B0aW9ucy5yZXdpbmRCeURyYWc7XG4gICAgcmVkdWNlKGZhbHNlKTtcblxuICAgIGlmIChpc0ZyZWUpIHtcbiAgICAgIENvbnRyb2xsZXIuc2Nyb2xsKGRlc3RpbmF0aW9uLCAwLCBvcHRpb25zLnNuYXApO1xuICAgIH0gZWxzZSBpZiAoU3BsaWRlMi5pcyhGQURFKSkge1xuICAgICAgQ29udHJvbGxlci5nbyhvcmllbnQoc2lnbih2ZWxvY2l0eSkpIDwgMCA/IHJld2luZCA/IFwiPFwiIDogXCItXCIgOiByZXdpbmQgPyBcIj5cIiA6IFwiK1wiKTtcbiAgICB9IGVsc2UgaWYgKFNwbGlkZTIuaXMoU0xJREUpICYmIGV4Y2VlZGVkICYmIHJld2luZCkge1xuICAgICAgQ29udHJvbGxlci5nbyhleGNlZWRlZExpbWl0KHRydWUpID8gXCI+XCIgOiBcIjxcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIENvbnRyb2xsZXIuZ28oQ29udHJvbGxlci50b0Rlc3QoZGVzdGluYXRpb24pLCB0cnVlKTtcbiAgICB9XG5cbiAgICByZWR1Y2UodHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRTdGFydChlKSB7XG4gICAgdmFyIHRocmVzaG9sZHMgPSBvcHRpb25zLmRyYWdNaW5UaHJlc2hvbGQ7XG4gICAgdmFyIGlzT2JqID0gaXNPYmplY3QodGhyZXNob2xkcyk7XG4gICAgdmFyIG1vdXNlID0gaXNPYmogJiYgdGhyZXNob2xkcy5tb3VzZSB8fCAwO1xuICAgIHZhciB0b3VjaCA9IChpc09iaiA/IHRocmVzaG9sZHMudG91Y2ggOiArdGhyZXNob2xkcykgfHwgMTA7XG4gICAgcmV0dXJuIGFicyhkaWZmQ29vcmQoZSkpID4gKGlzVG91Y2hFdmVudChlKSA/IHRvdWNoIDogbW91c2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNTbGlkZXJEaXJlY3Rpb24oZSkge1xuICAgIHJldHVybiBhYnMoZGlmZkNvb3JkKGUpKSA+IGFicyhkaWZmQ29vcmQoZSwgdHJ1ZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcHV0ZVZlbG9jaXR5KGUpIHtcbiAgICBpZiAoU3BsaWRlMi5pcyhMT09QKSB8fCAhZXhjZWVkZWQpIHtcbiAgICAgIHZhciB0aW1lID0gZGlmZlRpbWUoZSk7XG5cbiAgICAgIGlmICh0aW1lICYmIHRpbWUgPCBMT0dfSU5URVJWQUwpIHtcbiAgICAgICAgcmV0dXJuIGRpZmZDb29yZChlKSAvIHRpbWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlRGVzdGluYXRpb24odmVsb2NpdHkpIHtcbiAgICByZXR1cm4gZ2V0UG9zaXRpb24oKSArIHNpZ24odmVsb2NpdHkpICogbWluKGFicyh2ZWxvY2l0eSkgKiAob3B0aW9ucy5mbGlja1Bvd2VyIHx8IDYwMCksIGlzRnJlZSA/IEluZmluaXR5IDogQ29tcG9uZW50czIuTGF5b3V0Lmxpc3RTaXplKCkgKiAob3B0aW9ucy5mbGlja01heFBhZ2VzIHx8IDEpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpZmZDb29yZChlLCBvcnRob2dvbmFsKSB7XG4gICAgcmV0dXJuIGNvb3JkT2YoZSwgb3J0aG9nb25hbCkgLSBjb29yZE9mKGdldEJhc2VFdmVudChlKSwgb3J0aG9nb25hbCk7XG4gIH1cblxuICBmdW5jdGlvbiBkaWZmVGltZShlKSB7XG4gICAgcmV0dXJuIHRpbWVPZihlKSAtIHRpbWVPZihnZXRCYXNlRXZlbnQoZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmFzZUV2ZW50KGUpIHtcbiAgICByZXR1cm4gYmFzZUV2ZW50ID09PSBlICYmIHByZXZCYXNlRXZlbnQgfHwgYmFzZUV2ZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gY29vcmRPZihlLCBvcnRob2dvbmFsKSB7XG4gICAgcmV0dXJuIChpc1RvdWNoRXZlbnQoZSkgPyBlLmNoYW5nZWRUb3VjaGVzWzBdIDogZSlbXCJwYWdlXCIgKyByZXNvbHZlKG9ydGhvZ29uYWwgPyBcIllcIiA6IFwiWFwiKV07XG4gIH1cblxuICBmdW5jdGlvbiBjb25zdHJhaW4oZGlmZikge1xuICAgIHJldHVybiBkaWZmIC8gKGV4Y2VlZGVkICYmIFNwbGlkZTIuaXMoU0xJREUpID8gRlJJQ1RJT04gOiAxKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRHJhZ2dhYmxlKHRhcmdldDIpIHtcbiAgICB2YXIgbm9EcmFnID0gb3B0aW9ucy5ub0RyYWc7XG4gICAgcmV0dXJuICFtYXRjaGVzKHRhcmdldDIsIFwiLlwiICsgQ0xBU1NfUEFHSU5BVElPTl9QQUdFICsgXCIsIC5cIiArIENMQVNTX0FSUk9XKSAmJiAoIW5vRHJhZyB8fCAhbWF0Y2hlcyh0YXJnZXQyLCBub0RyYWcpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzVG91Y2hFdmVudChlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBUb3VjaEV2ZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIGUgaW5zdGFuY2VvZiBUb3VjaEV2ZW50O1xuICB9XG5cbiAgZnVuY3Rpb24gaXNEcmFnZ2luZygpIHtcbiAgICByZXR1cm4gZHJhZ2dpbmc7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhYmxlKHZhbHVlKSB7XG4gICAgZGlzYWJsZWQgPSB2YWx1ZTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbW91bnQ6IG1vdW50LFxuICAgIGRpc2FibGU6IGRpc2FibGUsXG4gICAgaXNEcmFnZ2luZzogaXNEcmFnZ2luZ1xuICB9O1xufVxuXG52YXIgTk9STUFMSVpBVElPTl9NQVAgPSB7XG4gIFNwYWNlYmFyOiBcIiBcIixcbiAgUmlnaHQ6IEFSUk9XX1JJR0hULFxuICBMZWZ0OiBBUlJPV19MRUZULFxuICBVcDogQVJST1dfVVAsXG4gIERvd246IEFSUk9XX0RPV05cbn07XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcbiAga2V5ID0gaXNTdHJpbmcoa2V5KSA/IGtleSA6IGtleS5rZXk7XG4gIHJldHVybiBOT1JNQUxJWkFUSU9OX01BUFtrZXldIHx8IGtleTtcbn1cblxudmFyIEtFWUJPQVJEX0VWRU5UID0gXCJrZXlkb3duXCI7XG5cbmZ1bmN0aW9uIEtleWJvYXJkKFNwbGlkZTIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2UxMCA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpLFxuICAgICAgb24gPSBfRXZlbnRJbnRlcmZhY2UxMC5vbixcbiAgICAgIGJpbmQgPSBfRXZlbnRJbnRlcmZhY2UxMC5iaW5kLFxuICAgICAgdW5iaW5kID0gX0V2ZW50SW50ZXJmYWNlMTAudW5iaW5kO1xuXG4gIHZhciByb290ID0gU3BsaWRlMi5yb290O1xuICB2YXIgcmVzb2x2ZSA9IENvbXBvbmVudHMyLkRpcmVjdGlvbi5yZXNvbHZlO1xuICB2YXIgdGFyZ2V0O1xuICB2YXIgZGlzYWJsZWQ7XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgaW5pdCgpO1xuICAgIG9uKEVWRU5UX1VQREFURUQsIGRlc3Ryb3kpO1xuICAgIG9uKEVWRU5UX1VQREFURUQsIGluaXQpO1xuICAgIG9uKEVWRU5UX01PVkUsIG9uTW92ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0KCkge1xuICAgIHZhciBrZXlib2FyZCA9IG9wdGlvbnMua2V5Ym9hcmQ7XG5cbiAgICBpZiAoa2V5Ym9hcmQpIHtcbiAgICAgIHRhcmdldCA9IGtleWJvYXJkID09PSBcImdsb2JhbFwiID8gd2luZG93IDogcm9vdDtcbiAgICAgIGJpbmQodGFyZ2V0LCBLRVlCT0FSRF9FVkVOVCwgb25LZXlkb3duKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHVuYmluZCh0YXJnZXQsIEtFWUJPQVJEX0VWRU5UKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc2FibGUodmFsdWUpIHtcbiAgICBkaXNhYmxlZCA9IHZhbHVlO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Nb3ZlKCkge1xuICAgIHZhciBfZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgICBkaXNhYmxlZCA9IHRydWU7XG4gICAgbmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgZGlzYWJsZWQgPSBfZGlzYWJsZWQ7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbktleWRvd24oZSkge1xuICAgIGlmICghZGlzYWJsZWQpIHtcbiAgICAgIHZhciBrZXkgPSBub3JtYWxpemVLZXkoZSk7XG5cbiAgICAgIGlmIChrZXkgPT09IHJlc29sdmUoQVJST1dfTEVGVCkpIHtcbiAgICAgICAgU3BsaWRlMi5nbyhcIjxcIik7XG4gICAgICB9IGVsc2UgaWYgKGtleSA9PT0gcmVzb2x2ZShBUlJPV19SSUdIVCkpIHtcbiAgICAgICAgU3BsaWRlMi5nbyhcIj5cIik7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtb3VudDogbW91bnQsXG4gICAgZGVzdHJveTogZGVzdHJveSxcbiAgICBkaXNhYmxlOiBkaXNhYmxlXG4gIH07XG59XG5cbnZhciBTUkNfREFUQV9BVFRSSUJVVEUgPSBEQVRBX0FUVFJJQlVURSArIFwiLWxhenlcIjtcbnZhciBTUkNTRVRfREFUQV9BVFRSSUJVVEUgPSBTUkNfREFUQV9BVFRSSUJVVEUgKyBcIi1zcmNzZXRcIjtcbnZhciBJTUFHRV9TRUxFQ1RPUiA9IFwiW1wiICsgU1JDX0RBVEFfQVRUUklCVVRFICsgXCJdLCBbXCIgKyBTUkNTRVRfREFUQV9BVFRSSUJVVEUgKyBcIl1cIjtcblxuZnVuY3Rpb24gTGF6eUxvYWQoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIF9FdmVudEludGVyZmFjZTExID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMiksXG4gICAgICBvbiA9IF9FdmVudEludGVyZmFjZTExLm9uLFxuICAgICAgb2ZmID0gX0V2ZW50SW50ZXJmYWNlMTEub2ZmLFxuICAgICAgYmluZCA9IF9FdmVudEludGVyZmFjZTExLmJpbmQsXG4gICAgICBlbWl0ID0gX0V2ZW50SW50ZXJmYWNlMTEuZW1pdDtcblxuICB2YXIgaXNTZXF1ZW50aWFsID0gb3B0aW9ucy5sYXp5TG9hZCA9PT0gXCJzZXF1ZW50aWFsXCI7XG4gIHZhciBldmVudHMgPSBbRVZFTlRfTU9WRUQsIEVWRU5UX1NDUk9MTEVEXTtcbiAgdmFyIGVudHJpZXMgPSBbXTtcblxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpZiAob3B0aW9ucy5sYXp5TG9hZCkge1xuICAgICAgaW5pdCgpO1xuICAgICAgb24oRVZFTlRfUkVGUkVTSCwgaW5pdCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBlbXB0eShlbnRyaWVzKTtcbiAgICByZWdpc3RlcigpO1xuXG4gICAgaWYgKGlzU2VxdWVudGlhbCkge1xuICAgICAgbG9hZE5leHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb2ZmKGV2ZW50cyk7XG4gICAgICBvbihldmVudHMsIGNoZWNrKTtcbiAgICAgIGNoZWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVnaXN0ZXIoKSB7XG4gICAgQ29tcG9uZW50czIuU2xpZGVzLmZvckVhY2goZnVuY3Rpb24gKFNsaWRlKSB7XG4gICAgICBxdWVyeUFsbChTbGlkZS5zbGlkZSwgSU1BR0VfU0VMRUNUT1IpLmZvckVhY2goZnVuY3Rpb24gKGltZykge1xuICAgICAgICB2YXIgc3JjID0gZ2V0QXR0cmlidXRlKGltZywgU1JDX0RBVEFfQVRUUklCVVRFKTtcbiAgICAgICAgdmFyIHNyY3NldCA9IGdldEF0dHJpYnV0ZShpbWcsIFNSQ1NFVF9EQVRBX0FUVFJJQlVURSk7XG5cbiAgICAgICAgaWYgKHNyYyAhPT0gaW1nLnNyYyB8fCBzcmNzZXQgIT09IGltZy5zcmNzZXQpIHtcbiAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc2VzLnNwaW5uZXI7XG4gICAgICAgICAgdmFyIHBhcmVudCA9IGltZy5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIHZhciBzcGlubmVyID0gY2hpbGQocGFyZW50LCBcIi5cIiArIGNsYXNzTmFtZSkgfHwgY3JlYXRlKFwic3BhblwiLCBjbGFzc05hbWUsIHBhcmVudCk7XG4gICAgICAgICAgZW50cmllcy5wdXNoKFtpbWcsIFNsaWRlLCBzcGlubmVyXSk7XG4gICAgICAgICAgaW1nLnNyYyB8fCBkaXNwbGF5KGltZywgXCJub25lXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrKCkge1xuICAgIGVudHJpZXMgPSBlbnRyaWVzLmZpbHRlcihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgdmFyIGRpc3RhbmNlID0gb3B0aW9ucy5wZXJQYWdlICogKChvcHRpb25zLnByZWxvYWRQYWdlcyB8fCAxKSArIDEpIC0gMTtcbiAgICAgIHJldHVybiBkYXRhWzFdLmlzV2l0aGluKFNwbGlkZTIuaW5kZXgsIGRpc3RhbmNlKSA/IGxvYWQoZGF0YSkgOiB0cnVlO1xuICAgIH0pO1xuICAgIGVudHJpZXMubGVuZ3RoIHx8IG9mZihldmVudHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9hZChkYXRhKSB7XG4gICAgdmFyIGltZyA9IGRhdGFbMF07XG4gICAgYWRkQ2xhc3MoZGF0YVsxXS5zbGlkZSwgQ0xBU1NfTE9BRElORyk7XG4gICAgYmluZChpbWcsIFwibG9hZCBlcnJvclwiLCBhcHBseShvbkxvYWQsIGRhdGEpKTtcbiAgICBzZXRBdHRyaWJ1dGUoaW1nLCBcInNyY1wiLCBnZXRBdHRyaWJ1dGUoaW1nLCBTUkNfREFUQV9BVFRSSUJVVEUpKTtcbiAgICBzZXRBdHRyaWJ1dGUoaW1nLCBcInNyY3NldFwiLCBnZXRBdHRyaWJ1dGUoaW1nLCBTUkNTRVRfREFUQV9BVFRSSUJVVEUpKTtcbiAgICByZW1vdmVBdHRyaWJ1dGUoaW1nLCBTUkNfREFUQV9BVFRSSUJVVEUpO1xuICAgIHJlbW92ZUF0dHJpYnV0ZShpbWcsIFNSQ1NFVF9EQVRBX0FUVFJJQlVURSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkxvYWQoZGF0YSwgZSkge1xuICAgIHZhciBpbWcgPSBkYXRhWzBdLFxuICAgICAgICBTbGlkZSA9IGRhdGFbMV07XG4gICAgcmVtb3ZlQ2xhc3MoU2xpZGUuc2xpZGUsIENMQVNTX0xPQURJTkcpO1xuXG4gICAgaWYgKGUudHlwZSAhPT0gXCJlcnJvclwiKSB7XG4gICAgICByZW1vdmUoZGF0YVsyXSk7XG4gICAgICBkaXNwbGF5KGltZywgXCJcIik7XG4gICAgICBlbWl0KEVWRU5UX0xBWllMT0FEX0xPQURFRCwgaW1nLCBTbGlkZSk7XG4gICAgICBlbWl0KEVWRU5UX1JFU0laRSk7XG4gICAgfVxuXG4gICAgaXNTZXF1ZW50aWFsICYmIGxvYWROZXh0KCk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkTmV4dCgpIHtcbiAgICBlbnRyaWVzLmxlbmd0aCAmJiBsb2FkKGVudHJpZXMuc2hpZnQoKSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vdW50OiBtb3VudCxcbiAgICBkZXN0cm95OiBhcHBseShlbXB0eSwgZW50cmllcyksXG4gICAgY2hlY2s6IGNoZWNrXG4gIH07XG59XG5cbmZ1bmN0aW9uIFBhZ2luYXRpb24oU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIGV2ZW50ID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMik7XG4gIHZhciBvbiA9IGV2ZW50Lm9uLFxuICAgICAgZW1pdCA9IGV2ZW50LmVtaXQsXG4gICAgICBiaW5kID0gZXZlbnQuYmluZDtcbiAgdmFyIFNsaWRlcyA9IENvbXBvbmVudHMyLlNsaWRlcyxcbiAgICAgIEVsZW1lbnRzID0gQ29tcG9uZW50czIuRWxlbWVudHMsXG4gICAgICBDb250cm9sbGVyID0gQ29tcG9uZW50czIuQ29udHJvbGxlcjtcbiAgdmFyIGhhc0ZvY3VzID0gQ29udHJvbGxlci5oYXNGb2N1cyxcbiAgICAgIGdldEluZGV4ID0gQ29udHJvbGxlci5nZXRJbmRleCxcbiAgICAgIGdvID0gQ29udHJvbGxlci5nbztcbiAgdmFyIHJlc29sdmUgPSBDb21wb25lbnRzMi5EaXJlY3Rpb24ucmVzb2x2ZTtcbiAgdmFyIHBsYWNlaG9sZGVyID0gRWxlbWVudHMucGFnaW5hdGlvbjtcbiAgdmFyIGl0ZW1zID0gW107XG4gIHZhciBsaXN0O1xuICB2YXIgcGFnaW5hdGlvbkNsYXNzZXM7XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgZGVzdHJveSgpO1xuICAgIG9uKFtFVkVOVF9VUERBVEVELCBFVkVOVF9SRUZSRVNILCBFVkVOVF9FTkRfSU5ERVhfQ0hBTkdFRF0sIG1vdW50KTtcbiAgICB2YXIgZW5hYmxlZCA9IG9wdGlvbnMucGFnaW5hdGlvbjtcbiAgICBwbGFjZWhvbGRlciAmJiBkaXNwbGF5KHBsYWNlaG9sZGVyLCBlbmFibGVkID8gXCJcIiA6IFwibm9uZVwiKTtcblxuICAgIGlmIChlbmFibGVkKSB7XG4gICAgICBvbihbRVZFTlRfTU9WRSwgRVZFTlRfU0NST0xMLCBFVkVOVF9TQ1JPTExFRF0sIHVwZGF0ZSk7XG4gICAgICBjcmVhdGVQYWdpbmF0aW9uKCk7XG4gICAgICB1cGRhdGUoKTtcbiAgICAgIGVtaXQoRVZFTlRfUEFHSU5BVElPTl9NT1VOVEVELCB7XG4gICAgICAgIGxpc3Q6IGxpc3QsXG4gICAgICAgIGl0ZW1zOiBpdGVtc1xuICAgICAgfSwgZ2V0QXQoU3BsaWRlMi5pbmRleCkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgaWYgKGxpc3QpIHtcbiAgICAgIHJlbW92ZShwbGFjZWhvbGRlciA/IHNsaWNlKGxpc3QuY2hpbGRyZW4pIDogbGlzdCk7XG4gICAgICByZW1vdmVDbGFzcyhsaXN0LCBwYWdpbmF0aW9uQ2xhc3Nlcyk7XG4gICAgICBlbXB0eShpdGVtcyk7XG4gICAgICBsaXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBldmVudC5kZXN0cm95KCk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVQYWdpbmF0aW9uKCkge1xuICAgIHZhciBsZW5ndGggPSBTcGxpZGUyLmxlbmd0aDtcbiAgICB2YXIgY2xhc3NlcyA9IG9wdGlvbnMuY2xhc3NlcyxcbiAgICAgICAgaTE4biA9IG9wdGlvbnMuaTE4bixcbiAgICAgICAgcGVyUGFnZSA9IG9wdGlvbnMucGVyUGFnZTtcbiAgICB2YXIgbWF4ID0gaGFzRm9jdXMoKSA/IENvbnRyb2xsZXIuZ2V0RW5kKCkgKyAxIDogY2VpbChsZW5ndGggLyBwZXJQYWdlKTtcbiAgICBsaXN0ID0gcGxhY2Vob2xkZXIgfHwgY3JlYXRlKFwidWxcIiwgY2xhc3Nlcy5wYWdpbmF0aW9uLCBFbGVtZW50cy50cmFjay5wYXJlbnRFbGVtZW50KTtcbiAgICBhZGRDbGFzcyhsaXN0LCBwYWdpbmF0aW9uQ2xhc3NlcyA9IENMQVNTX1BBR0lOQVRJT04gKyBcIi0tXCIgKyBnZXREaXJlY3Rpb24oKSk7XG4gICAgc2V0QXR0cmlidXRlKGxpc3QsIFJPTEUsIFwidGFibGlzdFwiKTtcbiAgICBzZXRBdHRyaWJ1dGUobGlzdCwgQVJJQV9MQUJFTCwgaTE4bi5zZWxlY3QpO1xuICAgIHNldEF0dHJpYnV0ZShsaXN0LCBBUklBX09SSUVOVEFUSU9OLCBnZXREaXJlY3Rpb24oKSA9PT0gVFRCID8gXCJ2ZXJ0aWNhbFwiIDogXCJcIik7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1heDsgaSsrKSB7XG4gICAgICB2YXIgbGkgPSBjcmVhdGUoXCJsaVwiLCBudWxsLCBsaXN0KTtcbiAgICAgIHZhciBidXR0b24gPSBjcmVhdGUoXCJidXR0b25cIiwge1xuICAgICAgICBjbGFzczogY2xhc3Nlcy5wYWdlLFxuICAgICAgICB0eXBlOiBcImJ1dHRvblwiXG4gICAgICB9LCBsaSk7XG4gICAgICB2YXIgY29udHJvbHMgPSBTbGlkZXMuZ2V0SW4oaSkubWFwKGZ1bmN0aW9uIChTbGlkZSkge1xuICAgICAgICByZXR1cm4gU2xpZGUuc2xpZGUuaWQ7XG4gICAgICB9KTtcbiAgICAgIHZhciB0ZXh0ID0gIWhhc0ZvY3VzKCkgJiYgcGVyUGFnZSA+IDEgPyBpMThuLnBhZ2VYIDogaTE4bi5zbGlkZVg7XG4gICAgICBiaW5kKGJ1dHRvbiwgXCJjbGlja1wiLCBhcHBseShvbkNsaWNrLCBpKSk7XG5cbiAgICAgIGlmIChvcHRpb25zLnBhZ2luYXRpb25LZXlib2FyZCkge1xuICAgICAgICBiaW5kKGJ1dHRvbiwgXCJrZXlkb3duXCIsIGFwcGx5KG9uS2V5ZG93biwgaSkpO1xuICAgICAgfVxuXG4gICAgICBzZXRBdHRyaWJ1dGUobGksIFJPTEUsIFwicHJlc2VudGF0aW9uXCIpO1xuICAgICAgc2V0QXR0cmlidXRlKGJ1dHRvbiwgUk9MRSwgXCJ0YWJcIik7XG4gICAgICBzZXRBdHRyaWJ1dGUoYnV0dG9uLCBBUklBX0NPTlRST0xTLCBjb250cm9scy5qb2luKFwiIFwiKSk7XG4gICAgICBzZXRBdHRyaWJ1dGUoYnV0dG9uLCBBUklBX0xBQkVMLCBmb3JtYXQodGV4dCwgaSArIDEpKTtcbiAgICAgIHNldEF0dHJpYnV0ZShidXR0b24sIFRBQl9JTkRFWCwgLTEpO1xuICAgICAgaXRlbXMucHVzaCh7XG4gICAgICAgIGxpOiBsaSxcbiAgICAgICAgYnV0dG9uOiBidXR0b24sXG4gICAgICAgIHBhZ2U6IGlcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2xpY2socGFnZSkge1xuICAgIGdvKFwiPlwiICsgcGFnZSwgdHJ1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbktleWRvd24ocGFnZSwgZSkge1xuICAgIHZhciBsZW5ndGggPSBpdGVtcy5sZW5ndGg7XG4gICAgdmFyIGtleSA9IG5vcm1hbGl6ZUtleShlKTtcbiAgICB2YXIgZGlyID0gZ2V0RGlyZWN0aW9uKCk7XG4gICAgdmFyIG5leHRQYWdlID0gLTE7XG5cbiAgICBpZiAoa2V5ID09PSByZXNvbHZlKEFSUk9XX1JJR0hULCBmYWxzZSwgZGlyKSkge1xuICAgICAgbmV4dFBhZ2UgPSArK3BhZ2UgJSBsZW5ndGg7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IHJlc29sdmUoQVJST1dfTEVGVCwgZmFsc2UsIGRpcikpIHtcbiAgICAgIG5leHRQYWdlID0gKC0tcGFnZSArIGxlbmd0aCkgJSBsZW5ndGg7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiSG9tZVwiKSB7XG4gICAgICBuZXh0UGFnZSA9IDA7XG4gICAgfSBlbHNlIGlmIChrZXkgPT09IFwiRW5kXCIpIHtcbiAgICAgIG5leHRQYWdlID0gbGVuZ3RoIC0gMTtcbiAgICB9XG5cbiAgICB2YXIgaXRlbSA9IGl0ZW1zW25leHRQYWdlXTtcblxuICAgIGlmIChpdGVtKSB7XG4gICAgICBmb2N1cyhpdGVtLmJ1dHRvbik7XG4gICAgICBnbyhcIj5cIiArIG5leHRQYWdlKTtcbiAgICAgIHByZXZlbnQoZSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlyZWN0aW9uKCkge1xuICAgIHJldHVybiBvcHRpb25zLnBhZ2luYXRpb25EaXJlY3Rpb24gfHwgb3B0aW9ucy5kaXJlY3Rpb247XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBdChpbmRleCkge1xuICAgIHJldHVybiBpdGVtc1tDb250cm9sbGVyLnRvUGFnZShpbmRleCldO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIHZhciBwcmV2ID0gZ2V0QXQoZ2V0SW5kZXgodHJ1ZSkpO1xuICAgIHZhciBjdXJyID0gZ2V0QXQoZ2V0SW5kZXgoKSk7XG5cbiAgICBpZiAocHJldikge1xuICAgICAgdmFyIGJ1dHRvbiA9IHByZXYuYnV0dG9uO1xuICAgICAgcmVtb3ZlQ2xhc3MoYnV0dG9uLCBDTEFTU19BQ1RJVkUpO1xuICAgICAgcmVtb3ZlQXR0cmlidXRlKGJ1dHRvbiwgQVJJQV9TRUxFQ1RFRCk7XG4gICAgICBzZXRBdHRyaWJ1dGUoYnV0dG9uLCBUQUJfSU5ERVgsIC0xKTtcbiAgICB9XG5cbiAgICBpZiAoY3Vycikge1xuICAgICAgdmFyIF9idXR0b24gPSBjdXJyLmJ1dHRvbjtcbiAgICAgIGFkZENsYXNzKF9idXR0b24sIENMQVNTX0FDVElWRSk7XG4gICAgICBzZXRBdHRyaWJ1dGUoX2J1dHRvbiwgQVJJQV9TRUxFQ1RFRCwgdHJ1ZSk7XG4gICAgICBzZXRBdHRyaWJ1dGUoX2J1dHRvbiwgVEFCX0lOREVYLCBcIlwiKTtcbiAgICB9XG5cbiAgICBlbWl0KEVWRU5UX1BBR0lOQVRJT05fVVBEQVRFRCwge1xuICAgICAgbGlzdDogbGlzdCxcbiAgICAgIGl0ZW1zOiBpdGVtc1xuICAgIH0sIHByZXYsIGN1cnIpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBpdGVtczogaXRlbXMsXG4gICAgbW91bnQ6IG1vdW50LFxuICAgIGRlc3Ryb3k6IGRlc3Ryb3ksXG4gICAgZ2V0QXQ6IGdldEF0LFxuICAgIHVwZGF0ZTogdXBkYXRlXG4gIH07XG59XG5cbnZhciBUUklHR0VSX0tFWVMgPSBbXCIgXCIsIFwiRW50ZXJcIl07XG5cbmZ1bmN0aW9uIFN5bmMoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIGlzTmF2aWdhdGlvbiA9IG9wdGlvbnMuaXNOYXZpZ2F0aW9uLFxuICAgICAgc2xpZGVGb2N1cyA9IG9wdGlvbnMuc2xpZGVGb2N1cztcbiAgdmFyIGV2ZW50cyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIFNwbGlkZTIuc3BsaWRlcy5mb3JFYWNoKGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIGlmICghdGFyZ2V0LmlzUGFyZW50KSB7XG4gICAgICAgIHN5bmMoU3BsaWRlMiwgdGFyZ2V0LnNwbGlkZSk7XG4gICAgICAgIHN5bmModGFyZ2V0LnNwbGlkZSwgU3BsaWRlMik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoaXNOYXZpZ2F0aW9uKSB7XG4gICAgICBuYXZpZ2F0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgZXZlbnRzLmZvckVhY2goZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBldmVudC5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgZW1wdHkoZXZlbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW91bnQoKSB7XG4gICAgZGVzdHJveSgpO1xuICAgIG1vdW50KCk7XG4gIH1cblxuICBmdW5jdGlvbiBzeW5jKHNwbGlkZSwgdGFyZ2V0KSB7XG4gICAgdmFyIGV2ZW50ID0gRXZlbnRJbnRlcmZhY2Uoc3BsaWRlKTtcbiAgICBldmVudC5vbihFVkVOVF9NT1ZFLCBmdW5jdGlvbiAoaW5kZXgsIHByZXYsIGRlc3QpIHtcbiAgICAgIHRhcmdldC5nbyh0YXJnZXQuaXMoTE9PUCkgPyBkZXN0IDogaW5kZXgpO1xuICAgIH0pO1xuICAgIGV2ZW50cy5wdXNoKGV2ZW50KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5hdmlnYXRlKCkge1xuICAgIHZhciBldmVudCA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpO1xuICAgIHZhciBvbiA9IGV2ZW50Lm9uO1xuICAgIG9uKEVWRU5UX0NMSUNLLCBvbkNsaWNrKTtcbiAgICBvbihFVkVOVF9TTElERV9LRVlET1dOLCBvbktleWRvd24pO1xuICAgIG9uKFtFVkVOVF9NT1VOVEVELCBFVkVOVF9VUERBVEVEXSwgdXBkYXRlKTtcbiAgICBldmVudHMucHVzaChldmVudCk7XG4gICAgZXZlbnQuZW1pdChFVkVOVF9OQVZJR0FUSU9OX01PVU5URUQsIFNwbGlkZTIuc3BsaWRlcyk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgc2V0QXR0cmlidXRlKENvbXBvbmVudHMyLkVsZW1lbnRzLmxpc3QsIEFSSUFfT1JJRU5UQVRJT04sIG9wdGlvbnMuZGlyZWN0aW9uID09PSBUVEIgPyBcInZlcnRpY2FsXCIgOiBcIlwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2xpY2soU2xpZGUpIHtcbiAgICBTcGxpZGUyLmdvKFNsaWRlLmluZGV4KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uS2V5ZG93bihTbGlkZSwgZSkge1xuICAgIGlmIChpbmNsdWRlcyhUUklHR0VSX0tFWVMsIG5vcm1hbGl6ZUtleShlKSkpIHtcbiAgICAgIG9uQ2xpY2soU2xpZGUpO1xuICAgICAgcHJldmVudChlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHNldHVwOiBhcHBseShDb21wb25lbnRzMi5NZWRpYS5zZXQsIHtcbiAgICAgIHNsaWRlRm9jdXM6IGlzVW5kZWZpbmVkKHNsaWRlRm9jdXMpID8gaXNOYXZpZ2F0aW9uIDogc2xpZGVGb2N1c1xuICAgIH0sIHRydWUpLFxuICAgIG1vdW50OiBtb3VudCxcbiAgICBkZXN0cm95OiBkZXN0cm95LFxuICAgIHJlbW91bnQ6IHJlbW91bnRcbiAgfTtcbn1cblxuZnVuY3Rpb24gV2hlZWwoU3BsaWRlMiwgQ29tcG9uZW50czIsIG9wdGlvbnMpIHtcbiAgdmFyIF9FdmVudEludGVyZmFjZTEyID0gRXZlbnRJbnRlcmZhY2UoU3BsaWRlMiksXG4gICAgICBiaW5kID0gX0V2ZW50SW50ZXJmYWNlMTIuYmluZDtcblxuICB2YXIgbGFzdFRpbWUgPSAwO1xuXG4gIGZ1bmN0aW9uIG1vdW50KCkge1xuICAgIGlmIChvcHRpb25zLndoZWVsKSB7XG4gICAgICBiaW5kKENvbXBvbmVudHMyLkVsZW1lbnRzLnRyYWNrLCBcIndoZWVsXCIsIG9uV2hlZWwsIFNDUk9MTF9MSVNURU5FUl9PUFRJT05TKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbldoZWVsKGUpIHtcbiAgICBpZiAoZS5jYW5jZWxhYmxlKSB7XG4gICAgICB2YXIgZGVsdGFZID0gZS5kZWx0YVk7XG4gICAgICB2YXIgYmFja3dhcmRzID0gZGVsdGFZIDwgMDtcbiAgICAgIHZhciB0aW1lU3RhbXAgPSB0aW1lT2YoZSk7XG5cbiAgICAgIHZhciBfbWluID0gb3B0aW9ucy53aGVlbE1pblRocmVzaG9sZCB8fCAwO1xuXG4gICAgICB2YXIgc2xlZXAgPSBvcHRpb25zLndoZWVsU2xlZXAgfHwgMDtcblxuICAgICAgaWYgKGFicyhkZWx0YVkpID4gX21pbiAmJiB0aW1lU3RhbXAgLSBsYXN0VGltZSA+IHNsZWVwKSB7XG4gICAgICAgIFNwbGlkZTIuZ28oYmFja3dhcmRzID8gXCI8XCIgOiBcIj5cIik7XG4gICAgICAgIGxhc3RUaW1lID0gdGltZVN0YW1wO1xuICAgICAgfVxuXG4gICAgICBzaG91bGRQcmV2ZW50KGJhY2t3YXJkcykgJiYgcHJldmVudChlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRQcmV2ZW50KGJhY2t3YXJkcykge1xuICAgIHJldHVybiAhb3B0aW9ucy5yZWxlYXNlV2hlZWwgfHwgU3BsaWRlMi5zdGF0ZS5pcyhNT1ZJTkcpIHx8IENvbXBvbmVudHMyLkNvbnRyb2xsZXIuZ2V0QWRqYWNlbnQoYmFja3dhcmRzKSAhPT0gLTE7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vdW50OiBtb3VudFxuICB9O1xufVxuXG52YXIgU1JfUkVNT1ZBTF9ERUxBWSA9IDkwO1xuXG5mdW5jdGlvbiBMaXZlKFNwbGlkZTIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBfRXZlbnRJbnRlcmZhY2UxMyA9IEV2ZW50SW50ZXJmYWNlKFNwbGlkZTIpLFxuICAgICAgb24gPSBfRXZlbnRJbnRlcmZhY2UxMy5vbjtcblxuICB2YXIgdHJhY2sgPSBDb21wb25lbnRzMi5FbGVtZW50cy50cmFjaztcbiAgdmFyIGVuYWJsZWQgPSBvcHRpb25zLmxpdmUgJiYgIW9wdGlvbnMuaXNOYXZpZ2F0aW9uO1xuICB2YXIgc3IgPSBjcmVhdGUoXCJzcGFuXCIsIENMQVNTX1NSKTtcbiAgdmFyIGludGVydmFsID0gUmVxdWVzdEludGVydmFsKFNSX1JFTU9WQUxfREVMQVksIGFwcGx5KHRvZ2dsZSwgZmFsc2UpKTtcblxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBpZiAoZW5hYmxlZCkge1xuICAgICAgZGlzYWJsZSghQ29tcG9uZW50czIuQXV0b3BsYXkuaXNQYXVzZWQoKSk7XG4gICAgICBzZXRBdHRyaWJ1dGUodHJhY2ssIEFSSUFfQVRPTUlDLCB0cnVlKTtcbiAgICAgIHNyLnRleHRDb250ZW50ID0gXCJcXHUyMDI2XCI7XG4gICAgICBvbihFVkVOVF9BVVRPUExBWV9QTEFZLCBhcHBseShkaXNhYmxlLCB0cnVlKSk7XG4gICAgICBvbihFVkVOVF9BVVRPUExBWV9QQVVTRSwgYXBwbHkoZGlzYWJsZSwgZmFsc2UpKTtcbiAgICAgIG9uKFtFVkVOVF9NT1ZFRCwgRVZFTlRfU0NST0xMRURdLCBhcHBseSh0b2dnbGUsIHRydWUpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0b2dnbGUoYWN0aXZlKSB7XG4gICAgc2V0QXR0cmlidXRlKHRyYWNrLCBBUklBX0JVU1ksIGFjdGl2ZSk7XG5cbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICBhcHBlbmQodHJhY2ssIHNyKTtcbiAgICAgIGludGVydmFsLnN0YXJ0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZShzcik7XG4gICAgICBpbnRlcnZhbC5jYW5jZWwoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgIHJlbW92ZUF0dHJpYnV0ZSh0cmFjaywgW0FSSUFfTElWRSwgQVJJQV9BVE9NSUMsIEFSSUFfQlVTWV0pO1xuICAgIHJlbW92ZShzcik7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhYmxlKGRpc2FibGVkKSB7XG4gICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgIHNldEF0dHJpYnV0ZSh0cmFjaywgQVJJQV9MSVZFLCBkaXNhYmxlZCA/IFwib2ZmXCIgOiBcInBvbGl0ZVwiKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIG1vdW50OiBtb3VudCxcbiAgICBkaXNhYmxlOiBkaXNhYmxlLFxuICAgIGRlc3Ryb3k6IGRlc3Ryb3lcbiAgfTtcbn1cblxudmFyIENvbXBvbmVudENvbnN0cnVjdG9ycyA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHtcbiAgX19wcm90b19fOiBudWxsLFxuICBNZWRpYTogTWVkaWEsXG4gIERpcmVjdGlvbjogRGlyZWN0aW9uLFxuICBFbGVtZW50czogRWxlbWVudHMsXG4gIFNsaWRlczogU2xpZGVzLFxuICBMYXlvdXQ6IExheW91dCxcbiAgQ2xvbmVzOiBDbG9uZXMsXG4gIE1vdmU6IE1vdmUsXG4gIENvbnRyb2xsZXI6IENvbnRyb2xsZXIsXG4gIEFycm93czogQXJyb3dzLFxuICBBdXRvcGxheTogQXV0b3BsYXksXG4gIENvdmVyOiBDb3ZlcixcbiAgU2Nyb2xsOiBTY3JvbGwsXG4gIERyYWc6IERyYWcsXG4gIEtleWJvYXJkOiBLZXlib2FyZCxcbiAgTGF6eUxvYWQ6IExhenlMb2FkLFxuICBQYWdpbmF0aW9uOiBQYWdpbmF0aW9uLFxuICBTeW5jOiBTeW5jLFxuICBXaGVlbDogV2hlZWwsXG4gIExpdmU6IExpdmVcbn0pO1xudmFyIEkxOE4gPSB7XG4gIHByZXY6IFwiUHJldmlvdXMgc2xpZGVcIixcbiAgbmV4dDogXCJOZXh0IHNsaWRlXCIsXG4gIGZpcnN0OiBcIkdvIHRvIGZpcnN0IHNsaWRlXCIsXG4gIGxhc3Q6IFwiR28gdG8gbGFzdCBzbGlkZVwiLFxuICBzbGlkZVg6IFwiR28gdG8gc2xpZGUgJXNcIixcbiAgcGFnZVg6IFwiR28gdG8gcGFnZSAlc1wiLFxuICBwbGF5OiBcIlN0YXJ0IGF1dG9wbGF5XCIsXG4gIHBhdXNlOiBcIlBhdXNlIGF1dG9wbGF5XCIsXG4gIGNhcm91c2VsOiBcImNhcm91c2VsXCIsXG4gIHNsaWRlOiBcInNsaWRlXCIsXG4gIHNlbGVjdDogXCJTZWxlY3QgYSBzbGlkZSB0byBzaG93XCIsXG4gIHNsaWRlTGFiZWw6IFwiJXMgb2YgJXNcIlxufTtcbnZhciBERUZBVUxUUyA9IHtcbiAgdHlwZTogXCJzbGlkZVwiLFxuICByb2xlOiBcInJlZ2lvblwiLFxuICBzcGVlZDogNDAwLFxuICBwZXJQYWdlOiAxLFxuICBjbG9uZVN0YXR1czogdHJ1ZSxcbiAgYXJyb3dzOiB0cnVlLFxuICBwYWdpbmF0aW9uOiB0cnVlLFxuICBwYWdpbmF0aW9uS2V5Ym9hcmQ6IHRydWUsXG4gIGludGVydmFsOiA1ZTMsXG4gIHBhdXNlT25Ib3ZlcjogdHJ1ZSxcbiAgcGF1c2VPbkZvY3VzOiB0cnVlLFxuICByZXNldFByb2dyZXNzOiB0cnVlLFxuICBlYXNpbmc6IFwiY3ViaWMtYmV6aWVyKDAuMjUsIDEsIDAuNSwgMSlcIixcbiAgZHJhZzogdHJ1ZSxcbiAgZGlyZWN0aW9uOiBcImx0clwiLFxuICB0cmltU3BhY2U6IHRydWUsXG4gIGZvY3VzYWJsZU5vZGVzOiBcImEsIGJ1dHRvbiwgdGV4dGFyZWEsIGlucHV0LCBzZWxlY3QsIGlmcmFtZVwiLFxuICBsaXZlOiB0cnVlLFxuICBjbGFzc2VzOiBDTEFTU0VTLFxuICBpMThuOiBJMThOLFxuICByZWR1Y2VkTW90aW9uOiB7XG4gICAgc3BlZWQ6IDAsXG4gICAgcmV3aW5kU3BlZWQ6IDAsXG4gICAgYXV0b3BsYXk6IFwicGF1c2VcIlxuICB9XG59O1xuXG5mdW5jdGlvbiBGYWRlKFNwbGlkZTIsIENvbXBvbmVudHMyLCBvcHRpb25zKSB7XG4gIHZhciBTbGlkZXMgPSBDb21wb25lbnRzMi5TbGlkZXM7XG5cbiAgZnVuY3Rpb24gbW91bnQoKSB7XG4gICAgRXZlbnRJbnRlcmZhY2UoU3BsaWRlMikub24oW0VWRU5UX01PVU5URUQsIEVWRU5UX1JFRlJFU0hdLCBpbml0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgU2xpZGVzLmZvckVhY2goZnVuY3Rpb24gKFNsaWRlKSB7XG4gICAgICBTbGlkZS5zdHlsZShcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZVgoLVwiICsgMTAwICogU2xpZGUuaW5kZXggKyBcIiUpXCIpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoaW5kZXgsIGRvbmUpIHtcbiAgICBTbGlkZXMuc3R5bGUoXCJ0cmFuc2l0aW9uXCIsIFwib3BhY2l0eSBcIiArIG9wdGlvbnMuc3BlZWQgKyBcIm1zIFwiICsgb3B0aW9ucy5lYXNpbmcpO1xuICAgIG5leHRUaWNrKGRvbmUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtb3VudDogbW91bnQsXG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGNhbmNlbDogbm9vcFxuICB9O1xufVxuXG5mdW5jdGlvbiBTbGlkZShTcGxpZGUyLCBDb21wb25lbnRzMiwgb3B0aW9ucykge1xuICB2YXIgTW92ZSA9IENvbXBvbmVudHMyLk1vdmUsXG4gICAgICBDb250cm9sbGVyID0gQ29tcG9uZW50czIuQ29udHJvbGxlcixcbiAgICAgIFNjcm9sbCA9IENvbXBvbmVudHMyLlNjcm9sbDtcbiAgdmFyIGxpc3QgPSBDb21wb25lbnRzMi5FbGVtZW50cy5saXN0O1xuICB2YXIgdHJhbnNpdGlvbiA9IGFwcGx5KHN0eWxlLCBsaXN0LCBcInRyYW5zaXRpb25cIik7XG4gIHZhciBlbmRDYWxsYmFjaztcblxuICBmdW5jdGlvbiBtb3VudCgpIHtcbiAgICBFdmVudEludGVyZmFjZShTcGxpZGUyKS5iaW5kKGxpc3QsIFwidHJhbnNpdGlvbmVuZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSBsaXN0ICYmIGVuZENhbGxiYWNrKSB7XG4gICAgICAgIGNhbmNlbCgpO1xuICAgICAgICBlbmRDYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQoaW5kZXgsIGRvbmUpIHtcbiAgICB2YXIgZGVzdGluYXRpb24gPSBNb3ZlLnRvUG9zaXRpb24oaW5kZXgsIHRydWUpO1xuICAgIHZhciBwb3NpdGlvbiA9IE1vdmUuZ2V0UG9zaXRpb24oKTtcbiAgICB2YXIgc3BlZWQgPSBnZXRTcGVlZChpbmRleCk7XG5cbiAgICBpZiAoYWJzKGRlc3RpbmF0aW9uIC0gcG9zaXRpb24pID49IDEgJiYgc3BlZWQgPj0gMSkge1xuICAgICAgaWYgKG9wdGlvbnMudXNlU2Nyb2xsKSB7XG4gICAgICAgIFNjcm9sbC5zY3JvbGwoZGVzdGluYXRpb24sIHNwZWVkLCBmYWxzZSwgZG9uZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cmFuc2l0aW9uKFwidHJhbnNmb3JtIFwiICsgc3BlZWQgKyBcIm1zIFwiICsgb3B0aW9ucy5lYXNpbmcpO1xuICAgICAgICBNb3ZlLnRyYW5zbGF0ZShkZXN0aW5hdGlvbiwgdHJ1ZSk7XG4gICAgICAgIGVuZENhbGxiYWNrID0gZG9uZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgTW92ZS5qdW1wKGluZGV4KTtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgdHJhbnNpdGlvbihcIlwiKTtcbiAgICBTY3JvbGwuY2FuY2VsKCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTcGVlZChpbmRleCkge1xuICAgIHZhciByZXdpbmRTcGVlZCA9IG9wdGlvbnMucmV3aW5kU3BlZWQ7XG5cbiAgICBpZiAoU3BsaWRlMi5pcyhTTElERSkgJiYgcmV3aW5kU3BlZWQpIHtcbiAgICAgIHZhciBwcmV2ID0gQ29udHJvbGxlci5nZXRJbmRleCh0cnVlKTtcbiAgICAgIHZhciBlbmQgPSBDb250cm9sbGVyLmdldEVuZCgpO1xuXG4gICAgICBpZiAocHJldiA9PT0gMCAmJiBpbmRleCA+PSBlbmQgfHwgcHJldiA+PSBlbmQgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHJld2luZFNwZWVkO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zLnNwZWVkO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBtb3VudDogbW91bnQsXG4gICAgc3RhcnQ6IHN0YXJ0LFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59XG5cbnZhciBfU3BsaWRlID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gX1NwbGlkZSh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmV2ZW50ID0gRXZlbnRJbnRlcmZhY2UoKTtcbiAgICB0aGlzLkNvbXBvbmVudHMgPSB7fTtcbiAgICB0aGlzLnN0YXRlID0gU3RhdGUoQ1JFQVRFRCk7XG4gICAgdGhpcy5zcGxpZGVzID0gW107XG4gICAgdGhpcy5fbyA9IHt9O1xuICAgIHRoaXMuX0UgPSB7fTtcbiAgICB2YXIgcm9vdCA9IGlzU3RyaW5nKHRhcmdldCkgPyBxdWVyeShkb2N1bWVudCwgdGFyZ2V0KSA6IHRhcmdldDtcbiAgICBhc3NlcnQocm9vdCwgcm9vdCArIFwiIGlzIGludmFsaWQuXCIpO1xuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgb3B0aW9ucyA9IG1lcmdlKHtcbiAgICAgIGxhYmVsOiBnZXRBdHRyaWJ1dGUocm9vdCwgQVJJQV9MQUJFTCkgfHwgXCJcIixcbiAgICAgIGxhYmVsbGVkYnk6IGdldEF0dHJpYnV0ZShyb290LCBBUklBX0xBQkVMTEVEQlkpIHx8IFwiXCJcbiAgICB9LCBERUZBVUxUUywgX1NwbGlkZS5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7XG5cbiAgICB0cnkge1xuICAgICAgbWVyZ2Uob3B0aW9ucywgSlNPTi5wYXJzZShnZXRBdHRyaWJ1dGUocm9vdCwgREFUQV9BVFRSSUJVVEUpKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgYXNzZXJ0KGZhbHNlLCBcIkludmFsaWQgSlNPTlwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9vID0gT2JqZWN0LmNyZWF0ZShtZXJnZSh7fSwgb3B0aW9ucykpO1xuICB9XG5cbiAgdmFyIF9wcm90byA9IF9TcGxpZGUucHJvdG90eXBlO1xuXG4gIF9wcm90by5tb3VudCA9IGZ1bmN0aW9uIG1vdW50KEV4dGVuc2lvbnMsIFRyYW5zaXRpb24pIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdmFyIHN0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgQ29tcG9uZW50czIgPSB0aGlzLkNvbXBvbmVudHM7XG4gICAgYXNzZXJ0KHN0YXRlLmlzKFtDUkVBVEVELCBERVNUUk9ZRURdKSwgXCJBbHJlYWR5IG1vdW50ZWQhXCIpO1xuICAgIHN0YXRlLnNldChDUkVBVEVEKTtcbiAgICB0aGlzLl9DID0gQ29tcG9uZW50czI7XG4gICAgdGhpcy5fVCA9IFRyYW5zaXRpb24gfHwgdGhpcy5fVCB8fCAodGhpcy5pcyhGQURFKSA/IEZhZGUgOiBTbGlkZSk7XG4gICAgdGhpcy5fRSA9IEV4dGVuc2lvbnMgfHwgdGhpcy5fRTtcbiAgICB2YXIgQ29uc3RydWN0b3JzID0gYXNzaWduKHt9LCBDb21wb25lbnRDb25zdHJ1Y3RvcnMsIHRoaXMuX0UsIHtcbiAgICAgIFRyYW5zaXRpb246IHRoaXMuX1RcbiAgICB9KTtcbiAgICBmb3JPd24oQ29uc3RydWN0b3JzLCBmdW5jdGlvbiAoQ29tcG9uZW50LCBrZXkpIHtcbiAgICAgIHZhciBjb21wb25lbnQgPSBDb21wb25lbnQoX3RoaXMsIENvbXBvbmVudHMyLCBfdGhpcy5fbyk7XG4gICAgICBDb21wb25lbnRzMltrZXldID0gY29tcG9uZW50O1xuICAgICAgY29tcG9uZW50LnNldHVwICYmIGNvbXBvbmVudC5zZXR1cCgpO1xuICAgIH0pO1xuICAgIGZvck93bihDb21wb25lbnRzMiwgZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgY29tcG9uZW50Lm1vdW50ICYmIGNvbXBvbmVudC5tb3VudCgpO1xuICAgIH0pO1xuICAgIHRoaXMuZW1pdChFVkVOVF9NT1VOVEVEKTtcbiAgICBhZGRDbGFzcyh0aGlzLnJvb3QsIENMQVNTX0lOSVRJQUxJWkVEKTtcbiAgICBzdGF0ZS5zZXQoSURMRSk7XG4gICAgdGhpcy5lbWl0KEVWRU5UX1JFQURZKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8uc3luYyA9IGZ1bmN0aW9uIHN5bmMoc3BsaWRlKSB7XG4gICAgdGhpcy5zcGxpZGVzLnB1c2goe1xuICAgICAgc3BsaWRlOiBzcGxpZGVcbiAgICB9KTtcbiAgICBzcGxpZGUuc3BsaWRlcy5wdXNoKHtcbiAgICAgIHNwbGlkZTogdGhpcyxcbiAgICAgIGlzUGFyZW50OiB0cnVlXG4gICAgfSk7XG5cbiAgICBpZiAodGhpcy5zdGF0ZS5pcyhJRExFKSkge1xuICAgICAgdGhpcy5fQy5TeW5jLnJlbW91bnQoKTtcblxuICAgICAgc3BsaWRlLkNvbXBvbmVudHMuU3luYy5yZW1vdW50KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgX3Byb3RvLmdvID0gZnVuY3Rpb24gZ28oY29udHJvbCkge1xuICAgIHRoaXMuX0MuQ29udHJvbGxlci5nbyhjb250cm9sKTtcblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90by5vbiA9IGZ1bmN0aW9uIG9uKGV2ZW50cywgY2FsbGJhY2spIHtcbiAgICB0aGlzLmV2ZW50Lm9uKGV2ZW50cywgY2FsbGJhY2spO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90by5vZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnRzKSB7XG4gICAgdGhpcy5ldmVudC5vZmYoZXZlbnRzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8uZW1pdCA9IGZ1bmN0aW9uIGVtaXQoZXZlbnQpIHtcbiAgICB2YXIgX3RoaXMkZXZlbnQ7XG5cbiAgICAoX3RoaXMkZXZlbnQgPSB0aGlzLmV2ZW50KS5lbWl0LmFwcGx5KF90aGlzJGV2ZW50LCBbZXZlbnRdLmNvbmNhdChzbGljZShhcmd1bWVudHMsIDEpKSk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8uYWRkID0gZnVuY3Rpb24gYWRkKHNsaWRlcywgaW5kZXgpIHtcbiAgICB0aGlzLl9DLlNsaWRlcy5hZGQoc2xpZGVzLCBpbmRleCk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKG1hdGNoZXIpIHtcbiAgICB0aGlzLl9DLlNsaWRlcy5yZW1vdmUobWF0Y2hlcik7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBfcHJvdG8uaXMgPSBmdW5jdGlvbiBpcyh0eXBlKSB7XG4gICAgcmV0dXJuIHRoaXMuX28udHlwZSA9PT0gdHlwZTtcbiAgfTtcblxuICBfcHJvdG8ucmVmcmVzaCA9IGZ1bmN0aW9uIHJlZnJlc2goKSB7XG4gICAgdGhpcy5lbWl0KEVWRU5UX1JFRlJFU0gpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9wcm90by5kZXN0cm95ID0gZnVuY3Rpb24gZGVzdHJveShjb21wbGV0ZWx5KSB7XG4gICAgaWYgKGNvbXBsZXRlbHkgPT09IHZvaWQgMCkge1xuICAgICAgY29tcGxldGVseSA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGV2ZW50ID0gdGhpcy5ldmVudCxcbiAgICAgICAgc3RhdGUgPSB0aGlzLnN0YXRlO1xuXG4gICAgaWYgKHN0YXRlLmlzKENSRUFURUQpKSB7XG4gICAgICBFdmVudEludGVyZmFjZSh0aGlzKS5vbihFVkVOVF9SRUFEWSwgdGhpcy5kZXN0cm95LmJpbmQodGhpcywgY29tcGxldGVseSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JPd24odGhpcy5fQywgZnVuY3Rpb24gKGNvbXBvbmVudCkge1xuICAgICAgICBjb21wb25lbnQuZGVzdHJveSAmJiBjb21wb25lbnQuZGVzdHJveShjb21wbGV0ZWx5KTtcbiAgICAgIH0sIHRydWUpO1xuICAgICAgZXZlbnQuZW1pdChFVkVOVF9ERVNUUk9ZKTtcbiAgICAgIGV2ZW50LmRlc3Ryb3koKTtcbiAgICAgIGNvbXBsZXRlbHkgJiYgZW1wdHkodGhpcy5zcGxpZGVzKTtcbiAgICAgIHN0YXRlLnNldChERVNUUk9ZRUQpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIF9jcmVhdGVDbGFzcyhfU3BsaWRlLCBbe1xuICAgIGtleTogXCJvcHRpb25zXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbztcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuX0MuTWVkaWEuc2V0KG9wdGlvbnMsIHRydWUsIHRydWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJsZW5ndGhcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9DLlNsaWRlcy5nZXRMZW5ndGgodHJ1ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImluZGV4XCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fQy5Db250cm9sbGVyLmdldEluZGV4KCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIF9TcGxpZGU7XG59KCk7XG5cbnZhciBTcGxpZGUgPSBfU3BsaWRlO1xuU3BsaWRlLmRlZmF1bHRzID0ge307XG5TcGxpZGUuU1RBVEVTID0gU1RBVEVTO1xudmFyIENMQVNTX1JFTkRFUkVEID0gXCJpcy1yZW5kZXJlZFwiO1xudmFyIFJFTkRFUkVSX0RFRkFVTFRfQ09ORklHID0ge1xuICBsaXN0VGFnOiBcInVsXCIsXG4gIHNsaWRlVGFnOiBcImxpXCJcbn07XG5cbnZhciBTdHlsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFN0eWxlKGlkLCBvcHRpb25zKSB7XG4gICAgdGhpcy5zdHlsZXMgPSB7fTtcbiAgICB0aGlzLmlkID0gaWQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxuXG4gIHZhciBfcHJvdG8yID0gU3R5bGUucHJvdG90eXBlO1xuXG4gIF9wcm90bzIucnVsZSA9IGZ1bmN0aW9uIHJ1bGUoc2VsZWN0b3IsIHByb3AsIHZhbHVlLCBicmVha3BvaW50KSB7XG4gICAgYnJlYWtwb2ludCA9IGJyZWFrcG9pbnQgfHwgXCJkZWZhdWx0XCI7XG4gICAgdmFyIHNlbGVjdG9ycyA9IHRoaXMuc3R5bGVzW2JyZWFrcG9pbnRdID0gdGhpcy5zdHlsZXNbYnJlYWtwb2ludF0gfHwge307XG4gICAgdmFyIHN0eWxlcyA9IHNlbGVjdG9yc1tzZWxlY3Rvcl0gPSBzZWxlY3RvcnNbc2VsZWN0b3JdIHx8IHt9O1xuICAgIHN0eWxlc1twcm9wXSA9IHZhbHVlO1xuICB9O1xuXG4gIF9wcm90bzIuYnVpbGQgPSBmdW5jdGlvbiBidWlsZCgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBjc3MgPSBcIlwiO1xuXG4gICAgaWYgKHRoaXMuc3R5bGVzLmRlZmF1bHQpIHtcbiAgICAgIGNzcyArPSB0aGlzLmJ1aWxkU2VsZWN0b3JzKHRoaXMuc3R5bGVzLmRlZmF1bHQpO1xuICAgIH1cblxuICAgIE9iamVjdC5rZXlzKHRoaXMuc3R5bGVzKS5zb3J0KGZ1bmN0aW9uIChuLCBtKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLm9wdGlvbnMubWVkaWFRdWVyeSA9PT0gXCJtaW5cIiA/ICtuIC0gK20gOiArbSAtICtuO1xuICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGJyZWFrcG9pbnQpIHtcbiAgICAgIGlmIChicmVha3BvaW50ICE9PSBcImRlZmF1bHRcIikge1xuICAgICAgICBjc3MgKz0gXCJAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiBcIiArIGJyZWFrcG9pbnQgKyBcInB4KSB7XCI7XG4gICAgICAgIGNzcyArPSBfdGhpczIuYnVpbGRTZWxlY3RvcnMoX3RoaXMyLnN0eWxlc1ticmVha3BvaW50XSk7XG4gICAgICAgIGNzcyArPSBcIn1cIjtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gY3NzO1xuICB9O1xuXG4gIF9wcm90bzIuYnVpbGRTZWxlY3RvcnMgPSBmdW5jdGlvbiBidWlsZFNlbGVjdG9ycyhzZWxlY3RvcnMpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIHZhciBjc3MgPSBcIlwiO1xuICAgIGZvck93bihzZWxlY3RvcnMsIGZ1bmN0aW9uIChzdHlsZXMsIHNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9IChcIiNcIiArIF90aGlzMy5pZCArIFwiIFwiICsgc2VsZWN0b3IpLnRyaW0oKTtcbiAgICAgIGNzcyArPSBzZWxlY3RvciArIFwiIHtcIjtcbiAgICAgIGZvck93bihzdHlsZXMsIGZ1bmN0aW9uICh2YWx1ZSwgcHJvcCkge1xuICAgICAgICBpZiAodmFsdWUgfHwgdmFsdWUgPT09IDApIHtcbiAgICAgICAgICBjc3MgKz0gcHJvcCArIFwiOiBcIiArIHZhbHVlICsgXCI7XCI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY3NzICs9IFwifVwiO1xuICAgIH0pO1xuICAgIHJldHVybiBjc3M7XG4gIH07XG5cbiAgcmV0dXJuIFN0eWxlO1xufSgpO1xuXG52YXIgU3BsaWRlUmVuZGVyZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTcGxpZGVSZW5kZXJlcihjb250ZW50cywgb3B0aW9ucywgY29uZmlnLCBkZWZhdWx0cykge1xuICAgIHRoaXMuc2xpZGVzID0gW107XG4gICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgdGhpcy5icmVha3BvaW50cyA9IFtdO1xuICAgIG1lcmdlKERFRkFVTFRTLCBkZWZhdWx0cyB8fCB7fSk7XG4gICAgbWVyZ2UobWVyZ2UodGhpcy5vcHRpb25zLCBERUZBVUxUUyksIG9wdGlvbnMgfHwge30pO1xuICAgIHRoaXMuY29udGVudHMgPSBjb250ZW50cztcbiAgICB0aGlzLmNvbmZpZyA9IGFzc2lnbih7fSwgUkVOREVSRVJfREVGQVVMVF9DT05GSUcsIGNvbmZpZyB8fCB7fSk7XG4gICAgdGhpcy5pZCA9IHRoaXMuY29uZmlnLmlkIHx8IHVuaXF1ZUlkKFwic3BsaWRlXCIpO1xuICAgIHRoaXMuU3R5bGUgPSBuZXcgU3R5bGUodGhpcy5pZCwgdGhpcy5vcHRpb25zKTtcbiAgICB0aGlzLkRpcmVjdGlvbiA9IERpcmVjdGlvbihudWxsLCBudWxsLCB0aGlzLm9wdGlvbnMpO1xuICAgIGFzc2VydCh0aGlzLmNvbnRlbnRzLmxlbmd0aCwgXCJQcm92aWRlIGF0IGxlYXN0IDEgY29udGVudC5cIik7XG4gICAgdGhpcy5pbml0KCk7XG4gIH1cblxuICBTcGxpZGVSZW5kZXJlci5jbGVhbiA9IGZ1bmN0aW9uIGNsZWFuKHNwbGlkZSkge1xuICAgIHZhciBfRXZlbnRJbnRlcmZhY2UxNCA9IEV2ZW50SW50ZXJmYWNlKHNwbGlkZSksXG4gICAgICAgIG9uID0gX0V2ZW50SW50ZXJmYWNlMTQub247XG5cbiAgICB2YXIgcm9vdCA9IHNwbGlkZS5yb290O1xuICAgIHZhciBjbG9uZXMgPSBxdWVyeUFsbChyb290LCBcIi5cIiArIENMQVNTX0NMT05FKTtcbiAgICBvbihFVkVOVF9NT1VOVEVELCBmdW5jdGlvbiAoKSB7XG4gICAgICByZW1vdmUoY2hpbGQocm9vdCwgXCJzdHlsZVwiKSk7XG4gICAgfSk7XG4gICAgcmVtb3ZlKGNsb25lcyk7XG4gIH07XG5cbiAgdmFyIF9wcm90bzMgPSBTcGxpZGVSZW5kZXJlci5wcm90b3R5cGU7XG5cbiAgX3Byb3RvMy5pbml0ID0gZnVuY3Rpb24gaW5pdCgpIHtcbiAgICB0aGlzLnBhcnNlQnJlYWtwb2ludHMoKTtcbiAgICB0aGlzLmluaXRTbGlkZXMoKTtcbiAgICB0aGlzLnJlZ2lzdGVyUm9vdFN0eWxlcygpO1xuICAgIHRoaXMucmVnaXN0ZXJUcmFja1N0eWxlcygpO1xuICAgIHRoaXMucmVnaXN0ZXJTbGlkZVN0eWxlcygpO1xuICAgIHRoaXMucmVnaXN0ZXJMaXN0U3R5bGVzKCk7XG4gIH07XG5cbiAgX3Byb3RvMy5pbml0U2xpZGVzID0gZnVuY3Rpb24gaW5pdFNsaWRlcygpIHtcbiAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgIHB1c2godGhpcy5zbGlkZXMsIHRoaXMuY29udGVudHMubWFwKGZ1bmN0aW9uIChjb250ZW50LCBpbmRleCkge1xuICAgICAgY29udGVudCA9IGlzU3RyaW5nKGNvbnRlbnQpID8ge1xuICAgICAgICBodG1sOiBjb250ZW50XG4gICAgICB9IDogY29udGVudDtcbiAgICAgIGNvbnRlbnQuc3R5bGVzID0gY29udGVudC5zdHlsZXMgfHwge307XG4gICAgICBjb250ZW50LmF0dHJzID0gY29udGVudC5hdHRycyB8fCB7fTtcblxuICAgICAgX3RoaXM0LmNvdmVyKGNvbnRlbnQpO1xuXG4gICAgICB2YXIgY2xhc3NlcyA9IF90aGlzNC5vcHRpb25zLmNsYXNzZXMuc2xpZGUgKyBcIiBcIiArIChpbmRleCA9PT0gMCA/IENMQVNTX0FDVElWRSA6IFwiXCIpO1xuICAgICAgYXNzaWduKGNvbnRlbnQuYXR0cnMsIHtcbiAgICAgICAgY2xhc3M6IChjbGFzc2VzICsgXCIgXCIgKyAoY29udGVudC5hdHRycy5jbGFzcyB8fCBcIlwiKSkudHJpbSgpLFxuICAgICAgICBzdHlsZTogX3RoaXM0LmJ1aWxkU3R5bGVzKGNvbnRlbnQuc3R5bGVzKVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KSk7XG5cbiAgICBpZiAodGhpcy5pc0xvb3AoKSkge1xuICAgICAgdGhpcy5nZW5lcmF0ZUNsb25lcyh0aGlzLnNsaWRlcyk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90bzMucmVnaXN0ZXJSb290U3R5bGVzID0gZnVuY3Rpb24gcmVnaXN0ZXJSb290U3R5bGVzKCkge1xuICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgdGhpcy5icmVha3BvaW50cy5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmMikge1xuICAgICAgdmFyIHdpZHRoID0gX3JlZjJbMF0sXG4gICAgICAgICAgb3B0aW9ucyA9IF9yZWYyWzFdO1xuXG4gICAgICBfdGhpczUuU3R5bGUucnVsZShcIiBcIiwgXCJtYXgtd2lkdGhcIiwgdW5pdChvcHRpb25zLndpZHRoKSwgd2lkdGgpO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90bzMucmVnaXN0ZXJUcmFja1N0eWxlcyA9IGZ1bmN0aW9uIHJlZ2lzdGVyVHJhY2tTdHlsZXMoKSB7XG4gICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICB2YXIgU3R5bGUyID0gdGhpcy5TdHlsZTtcbiAgICB2YXIgc2VsZWN0b3IgPSBcIi5cIiArIENMQVNTX1RSQUNLO1xuICAgIHRoaXMuYnJlYWtwb2ludHMuZm9yRWFjaChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgIHZhciB3aWR0aCA9IF9yZWYzWzBdLFxuICAgICAgICAgIG9wdGlvbnMgPSBfcmVmM1sxXTtcbiAgICAgIFN0eWxlMi5ydWxlKHNlbGVjdG9yLCBfdGhpczYucmVzb2x2ZShcInBhZGRpbmdMZWZ0XCIpLCBfdGhpczYuY3NzUGFkZGluZyhvcHRpb25zLCBmYWxzZSksIHdpZHRoKTtcbiAgICAgIFN0eWxlMi5ydWxlKHNlbGVjdG9yLCBfdGhpczYucmVzb2x2ZShcInBhZGRpbmdSaWdodFwiKSwgX3RoaXM2LmNzc1BhZGRpbmcob3B0aW9ucywgdHJ1ZSksIHdpZHRoKTtcbiAgICAgIFN0eWxlMi5ydWxlKHNlbGVjdG9yLCBcImhlaWdodFwiLCBfdGhpczYuY3NzVHJhY2tIZWlnaHQob3B0aW9ucyksIHdpZHRoKTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8zLnJlZ2lzdGVyTGlzdFN0eWxlcyA9IGZ1bmN0aW9uIHJlZ2lzdGVyTGlzdFN0eWxlcygpIHtcbiAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgIHZhciBTdHlsZTIgPSB0aGlzLlN0eWxlO1xuICAgIHZhciBzZWxlY3RvciA9IFwiLlwiICsgQ0xBU1NfTElTVDtcbiAgICB0aGlzLmJyZWFrcG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICB2YXIgd2lkdGggPSBfcmVmNFswXSxcbiAgICAgICAgICBvcHRpb25zID0gX3JlZjRbMV07XG4gICAgICBTdHlsZTIucnVsZShzZWxlY3RvciwgXCJ0cmFuc2Zvcm1cIiwgX3RoaXM3LmJ1aWxkVHJhbnNsYXRlKG9wdGlvbnMpLCB3aWR0aCk7XG5cbiAgICAgIGlmICghX3RoaXM3LmNzc1NsaWRlSGVpZ2h0KG9wdGlvbnMpKSB7XG4gICAgICAgIFN0eWxlMi5ydWxlKHNlbGVjdG9yLCBcImFzcGVjdC1yYXRpb1wiLCBfdGhpczcuY3NzQXNwZWN0UmF0aW8ob3B0aW9ucyksIHdpZHRoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8zLnJlZ2lzdGVyU2xpZGVTdHlsZXMgPSBmdW5jdGlvbiByZWdpc3RlclNsaWRlU3R5bGVzKCkge1xuICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgdmFyIFN0eWxlMiA9IHRoaXMuU3R5bGU7XG4gICAgdmFyIHNlbGVjdG9yID0gXCIuXCIgKyBDTEFTU19TTElERTtcbiAgICB0aGlzLmJyZWFrcG9pbnRzLmZvckVhY2goZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgICB2YXIgd2lkdGggPSBfcmVmNVswXSxcbiAgICAgICAgICBvcHRpb25zID0gX3JlZjVbMV07XG4gICAgICBTdHlsZTIucnVsZShzZWxlY3RvciwgXCJ3aWR0aFwiLCBfdGhpczguY3NzU2xpZGVXaWR0aChvcHRpb25zKSwgd2lkdGgpO1xuICAgICAgU3R5bGUyLnJ1bGUoc2VsZWN0b3IsIFwiaGVpZ2h0XCIsIF90aGlzOC5jc3NTbGlkZUhlaWdodChvcHRpb25zKSB8fCBcIjEwMCVcIiwgd2lkdGgpO1xuICAgICAgU3R5bGUyLnJ1bGUoc2VsZWN0b3IsIF90aGlzOC5yZXNvbHZlKFwibWFyZ2luUmlnaHRcIiksIHVuaXQob3B0aW9ucy5nYXApIHx8IFwiMHB4XCIsIHdpZHRoKTtcbiAgICAgIFN0eWxlMi5ydWxlKHNlbGVjdG9yICsgXCIgPiBpbWdcIiwgXCJkaXNwbGF5XCIsIG9wdGlvbnMuY292ZXIgPyBcIm5vbmVcIiA6IFwiaW5saW5lXCIsIHdpZHRoKTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8zLmJ1aWxkVHJhbnNsYXRlID0gZnVuY3Rpb24gYnVpbGRUcmFuc2xhdGUob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyREaXJlY3Rpb24gPSB0aGlzLkRpcmVjdGlvbixcbiAgICAgICAgcmVzb2x2ZSA9IF90aGlzJERpcmVjdGlvbi5yZXNvbHZlLFxuICAgICAgICBvcmllbnQgPSBfdGhpcyREaXJlY3Rpb24ub3JpZW50O1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YWx1ZXMucHVzaCh0aGlzLmNzc09mZnNldENsb25lcyhvcHRpb25zKSk7XG4gICAgdmFsdWVzLnB1c2godGhpcy5jc3NPZmZzZXRHYXBzKG9wdGlvbnMpKTtcblxuICAgIGlmICh0aGlzLmlzQ2VudGVyKG9wdGlvbnMpKSB7XG4gICAgICB2YWx1ZXMucHVzaCh0aGlzLmJ1aWxkQ3NzVmFsdWUob3JpZW50KC01MCksIFwiJVwiKSk7XG4gICAgICB2YWx1ZXMucHVzaC5hcHBseSh2YWx1ZXMsIHRoaXMuY3NzT2Zmc2V0Q2VudGVyKG9wdGlvbnMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzLmZpbHRlcihCb29sZWFuKS5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gXCJ0cmFuc2xhdGVcIiArIHJlc29sdmUoXCJYXCIpICsgXCIoXCIgKyB2YWx1ZSArIFwiKVwiO1xuICAgIH0pLmpvaW4oXCIgXCIpO1xuICB9O1xuXG4gIF9wcm90bzMuY3NzT2Zmc2V0Q2xvbmVzID0gZnVuY3Rpb24gY3NzT2Zmc2V0Q2xvbmVzKG9wdGlvbnMpIHtcbiAgICB2YXIgX3RoaXMkRGlyZWN0aW9uMiA9IHRoaXMuRGlyZWN0aW9uLFxuICAgICAgICByZXNvbHZlID0gX3RoaXMkRGlyZWN0aW9uMi5yZXNvbHZlLFxuICAgICAgICBvcmllbnQgPSBfdGhpcyREaXJlY3Rpb24yLm9yaWVudDtcbiAgICB2YXIgY2xvbmVDb3VudCA9IHRoaXMuZ2V0Q2xvbmVDb3VudCgpO1xuXG4gICAgaWYgKHRoaXMuaXNGaXhlZFdpZHRoKG9wdGlvbnMpKSB7XG4gICAgICB2YXIgX3RoaXMkcGFyc2VDc3NWYWx1ZSA9IHRoaXMucGFyc2VDc3NWYWx1ZShvcHRpb25zW3Jlc29sdmUoXCJmaXhlZFdpZHRoXCIpXSksXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwYXJzZUNzc1ZhbHVlLnZhbHVlLFxuICAgICAgICAgIHVuaXQyID0gX3RoaXMkcGFyc2VDc3NWYWx1ZS51bml0O1xuXG4gICAgICByZXR1cm4gdGhpcy5idWlsZENzc1ZhbHVlKG9yaWVudCh2YWx1ZSkgKiBjbG9uZUNvdW50LCB1bml0Mik7XG4gICAgfVxuXG4gICAgdmFyIHBlcmNlbnQgPSAxMDAgKiBjbG9uZUNvdW50IC8gb3B0aW9ucy5wZXJQYWdlO1xuICAgIHJldHVybiBvcmllbnQocGVyY2VudCkgKyBcIiVcIjtcbiAgfTtcblxuICBfcHJvdG8zLmNzc09mZnNldENlbnRlciA9IGZ1bmN0aW9uIGNzc09mZnNldENlbnRlcihvcHRpb25zKSB7XG4gICAgdmFyIF90aGlzJERpcmVjdGlvbjMgPSB0aGlzLkRpcmVjdGlvbixcbiAgICAgICAgcmVzb2x2ZSA9IF90aGlzJERpcmVjdGlvbjMucmVzb2x2ZSxcbiAgICAgICAgb3JpZW50ID0gX3RoaXMkRGlyZWN0aW9uMy5vcmllbnQ7XG5cbiAgICBpZiAodGhpcy5pc0ZpeGVkV2lkdGgob3B0aW9ucykpIHtcbiAgICAgIHZhciBfdGhpcyRwYXJzZUNzc1ZhbHVlMiA9IHRoaXMucGFyc2VDc3NWYWx1ZShvcHRpb25zW3Jlc29sdmUoXCJmaXhlZFdpZHRoXCIpXSksXG4gICAgICAgICAgdmFsdWUgPSBfdGhpcyRwYXJzZUNzc1ZhbHVlMi52YWx1ZSxcbiAgICAgICAgICB1bml0MiA9IF90aGlzJHBhcnNlQ3NzVmFsdWUyLnVuaXQ7XG5cbiAgICAgIHJldHVybiBbdGhpcy5idWlsZENzc1ZhbHVlKG9yaWVudCh2YWx1ZSAvIDIpLCB1bml0MildO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICB2YXIgcGVyUGFnZSA9IG9wdGlvbnMucGVyUGFnZSxcbiAgICAgICAgZ2FwID0gb3B0aW9ucy5nYXA7XG4gICAgdmFsdWVzLnB1c2gob3JpZW50KDUwIC8gcGVyUGFnZSkgKyBcIiVcIik7XG5cbiAgICBpZiAoZ2FwKSB7XG4gICAgICB2YXIgX3RoaXMkcGFyc2VDc3NWYWx1ZTMgPSB0aGlzLnBhcnNlQ3NzVmFsdWUoZ2FwKSxcbiAgICAgICAgICBfdmFsdWUgPSBfdGhpcyRwYXJzZUNzc1ZhbHVlMy52YWx1ZSxcbiAgICAgICAgICBfdW5pdCA9IF90aGlzJHBhcnNlQ3NzVmFsdWUzLnVuaXQ7XG5cbiAgICAgIHZhciBnYXBPZmZzZXQgPSAoX3ZhbHVlIC8gcGVyUGFnZSAtIF92YWx1ZSkgLyAyO1xuICAgICAgdmFsdWVzLnB1c2godGhpcy5idWlsZENzc1ZhbHVlKG9yaWVudChnYXBPZmZzZXQpLCBfdW5pdCkpO1xuICAgIH1cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH07XG5cbiAgX3Byb3RvMy5jc3NPZmZzZXRHYXBzID0gZnVuY3Rpb24gY3NzT2Zmc2V0R2FwcyhvcHRpb25zKSB7XG4gICAgdmFyIGNsb25lQ291bnQgPSB0aGlzLmdldENsb25lQ291bnQoKTtcblxuICAgIGlmIChjbG9uZUNvdW50ICYmIG9wdGlvbnMuZ2FwKSB7XG4gICAgICB2YXIgb3JpZW50ID0gdGhpcy5EaXJlY3Rpb24ub3JpZW50O1xuXG4gICAgICB2YXIgX3RoaXMkcGFyc2VDc3NWYWx1ZTQgPSB0aGlzLnBhcnNlQ3NzVmFsdWUob3B0aW9ucy5nYXApLFxuICAgICAgICAgIHZhbHVlID0gX3RoaXMkcGFyc2VDc3NWYWx1ZTQudmFsdWUsXG4gICAgICAgICAgdW5pdDIgPSBfdGhpcyRwYXJzZUNzc1ZhbHVlNC51bml0O1xuXG4gICAgICBpZiAodGhpcy5pc0ZpeGVkV2lkdGgob3B0aW9ucykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRDc3NWYWx1ZShvcmllbnQodmFsdWUgKiBjbG9uZUNvdW50KSwgdW5pdDIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGVyUGFnZSA9IG9wdGlvbnMucGVyUGFnZTtcbiAgICAgIHZhciBnYXBzID0gY2xvbmVDb3VudCAvIHBlclBhZ2U7XG4gICAgICByZXR1cm4gdGhpcy5idWlsZENzc1ZhbHVlKG9yaWVudChnYXBzICogdmFsdWUpLCB1bml0Mik7XG4gICAgfVxuXG4gICAgcmV0dXJuIFwiXCI7XG4gIH07XG5cbiAgX3Byb3RvMy5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZShwcm9wKSB7XG4gICAgcmV0dXJuIGNhbWVsVG9LZWJhYih0aGlzLkRpcmVjdGlvbi5yZXNvbHZlKHByb3ApKTtcbiAgfTtcblxuICBfcHJvdG8zLmNzc1BhZGRpbmcgPSBmdW5jdGlvbiBjc3NQYWRkaW5nKG9wdGlvbnMsIHJpZ2h0KSB7XG4gICAgdmFyIHBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgdmFyIHByb3AgPSB0aGlzLkRpcmVjdGlvbi5yZXNvbHZlKHJpZ2h0ID8gXCJyaWdodFwiIDogXCJsZWZ0XCIsIHRydWUpO1xuICAgIHJldHVybiBwYWRkaW5nICYmIHVuaXQocGFkZGluZ1twcm9wXSB8fCAoaXNPYmplY3QocGFkZGluZykgPyAwIDogcGFkZGluZykpIHx8IFwiMHB4XCI7XG4gIH07XG5cbiAgX3Byb3RvMy5jc3NUcmFja0hlaWdodCA9IGZ1bmN0aW9uIGNzc1RyYWNrSGVpZ2h0KG9wdGlvbnMpIHtcbiAgICB2YXIgaGVpZ2h0ID0gXCJcIjtcblxuICAgIGlmICh0aGlzLmlzVmVydGljYWwoKSkge1xuICAgICAgaGVpZ2h0ID0gdGhpcy5jc3NIZWlnaHQob3B0aW9ucyk7XG4gICAgICBhc3NlcnQoaGVpZ2h0LCAnXCJoZWlnaHRcIiBpcyBtaXNzaW5nLicpO1xuICAgICAgaGVpZ2h0ID0gXCJjYWxjKFwiICsgaGVpZ2h0ICsgXCIgLSBcIiArIHRoaXMuY3NzUGFkZGluZyhvcHRpb25zLCBmYWxzZSkgKyBcIiAtIFwiICsgdGhpcy5jc3NQYWRkaW5nKG9wdGlvbnMsIHRydWUpICsgXCIpXCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIGhlaWdodDtcbiAgfTtcblxuICBfcHJvdG8zLmNzc0hlaWdodCA9IGZ1bmN0aW9uIGNzc0hlaWdodChvcHRpb25zKSB7XG4gICAgcmV0dXJuIHVuaXQob3B0aW9ucy5oZWlnaHQpO1xuICB9O1xuXG4gIF9wcm90bzMuY3NzU2xpZGVXaWR0aCA9IGZ1bmN0aW9uIGNzc1NsaWRlV2lkdGgob3B0aW9ucykge1xuICAgIHJldHVybiBvcHRpb25zLmF1dG9XaWR0aCA/IFwiXCIgOiB1bml0KG9wdGlvbnMuZml4ZWRXaWR0aCkgfHwgKHRoaXMuaXNWZXJ0aWNhbCgpID8gXCJcIiA6IHRoaXMuY3NzU2xpZGVTaXplKG9wdGlvbnMpKTtcbiAgfTtcblxuICBfcHJvdG8zLmNzc1NsaWRlSGVpZ2h0ID0gZnVuY3Rpb24gY3NzU2xpZGVIZWlnaHQob3B0aW9ucykge1xuICAgIHJldHVybiB1bml0KG9wdGlvbnMuZml4ZWRIZWlnaHQpIHx8ICh0aGlzLmlzVmVydGljYWwoKSA/IG9wdGlvbnMuYXV0b0hlaWdodCA/IFwiXCIgOiB0aGlzLmNzc1NsaWRlU2l6ZShvcHRpb25zKSA6IHRoaXMuY3NzSGVpZ2h0KG9wdGlvbnMpKTtcbiAgfTtcblxuICBfcHJvdG8zLmNzc1NsaWRlU2l6ZSA9IGZ1bmN0aW9uIGNzc1NsaWRlU2l6ZShvcHRpb25zKSB7XG4gICAgdmFyIGdhcCA9IHVuaXQob3B0aW9ucy5nYXApO1xuICAgIHJldHVybiBcImNhbGMoKDEwMCVcIiArIChnYXAgJiYgXCIgKyBcIiArIGdhcCkgKyBcIikvXCIgKyAob3B0aW9ucy5wZXJQYWdlIHx8IDEpICsgKGdhcCAmJiBcIiAtIFwiICsgZ2FwKSArIFwiKVwiO1xuICB9O1xuXG4gIF9wcm90bzMuY3NzQXNwZWN0UmF0aW8gPSBmdW5jdGlvbiBjc3NBc3BlY3RSYXRpbyhvcHRpb25zKSB7XG4gICAgdmFyIGhlaWdodFJhdGlvID0gb3B0aW9ucy5oZWlnaHRSYXRpbztcbiAgICByZXR1cm4gaGVpZ2h0UmF0aW8gPyBcIlwiICsgMSAvIGhlaWdodFJhdGlvIDogXCJcIjtcbiAgfTtcblxuICBfcHJvdG8zLmJ1aWxkQ3NzVmFsdWUgPSBmdW5jdGlvbiBidWlsZENzc1ZhbHVlKHZhbHVlLCB1bml0Mikge1xuICAgIHJldHVybiBcIlwiICsgdmFsdWUgKyB1bml0MjtcbiAgfTtcblxuICBfcHJvdG8zLnBhcnNlQ3NzVmFsdWUgPSBmdW5jdGlvbiBwYXJzZUNzc1ZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgdmFyIG51bWJlciA9IHBhcnNlRmxvYXQodmFsdWUpIHx8IDA7XG4gICAgICB2YXIgdW5pdDIgPSB2YWx1ZS5yZXBsYWNlKC9cXGQqKFxcLlxcZCopPy8sIFwiXCIpIHx8IFwicHhcIjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBudW1iZXIsXG4gICAgICAgIHVuaXQ6IHVuaXQyXG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICB1bml0OiBcInB4XCJcbiAgICB9O1xuICB9O1xuXG4gIF9wcm90bzMucGFyc2VCcmVha3BvaW50cyA9IGZ1bmN0aW9uIHBhcnNlQnJlYWtwb2ludHMoKSB7XG4gICAgdmFyIF90aGlzOSA9IHRoaXM7XG5cbiAgICB2YXIgYnJlYWtwb2ludHMgPSB0aGlzLm9wdGlvbnMuYnJlYWtwb2ludHM7XG4gICAgdGhpcy5icmVha3BvaW50cy5wdXNoKFtcImRlZmF1bHRcIiwgdGhpcy5vcHRpb25zXSk7XG5cbiAgICBpZiAoYnJlYWtwb2ludHMpIHtcbiAgICAgIGZvck93bihicmVha3BvaW50cywgZnVuY3Rpb24gKG9wdGlvbnMsIHdpZHRoKSB7XG4gICAgICAgIF90aGlzOS5icmVha3BvaW50cy5wdXNoKFt3aWR0aCwgbWVyZ2UobWVyZ2Uoe30sIF90aGlzOS5vcHRpb25zKSwgb3B0aW9ucyldKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8zLmlzRml4ZWRXaWR0aCA9IGZ1bmN0aW9uIGlzRml4ZWRXaWR0aChvcHRpb25zKSB7XG4gICAgcmV0dXJuICEhb3B0aW9uc1t0aGlzLkRpcmVjdGlvbi5yZXNvbHZlKFwiZml4ZWRXaWR0aFwiKV07XG4gIH07XG5cbiAgX3Byb3RvMy5pc0xvb3AgPSBmdW5jdGlvbiBpc0xvb3AoKSB7XG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy50eXBlID09PSBMT09QO1xuICB9O1xuXG4gIF9wcm90bzMuaXNDZW50ZXIgPSBmdW5jdGlvbiBpc0NlbnRlcihvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZm9jdXMgPT09IFwiY2VudGVyXCIpIHtcbiAgICAgIGlmICh0aGlzLmlzTG9vcCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnR5cGUgPT09IFNMSURFKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5vcHRpb25zLnRyaW1TcGFjZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgX3Byb3RvMy5pc1ZlcnRpY2FsID0gZnVuY3Rpb24gaXNWZXJ0aWNhbCgpIHtcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmRpcmVjdGlvbiA9PT0gVFRCO1xuICB9O1xuXG4gIF9wcm90bzMuYnVpbGRDbGFzc2VzID0gZnVuY3Rpb24gYnVpbGRDbGFzc2VzKCkge1xuICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuICAgIHJldHVybiBbQ0xBU1NfUk9PVCwgQ0xBU1NfUk9PVCArIFwiLS1cIiArIG9wdGlvbnMudHlwZSwgQ0xBU1NfUk9PVCArIFwiLS1cIiArIG9wdGlvbnMuZGlyZWN0aW9uLCBvcHRpb25zLmRyYWcgJiYgQ0xBU1NfUk9PVCArIFwiLS1kcmFnZ2FibGVcIiwgb3B0aW9ucy5pc05hdmlnYXRpb24gJiYgQ0xBU1NfUk9PVCArIFwiLS1uYXZcIiwgQ0xBU1NfQUNUSVZFLCAhdGhpcy5jb25maWcuaGlkZGVuICYmIENMQVNTX1JFTkRFUkVEXS5maWx0ZXIoQm9vbGVhbikuam9pbihcIiBcIik7XG4gIH07XG5cbiAgX3Byb3RvMy5idWlsZEF0dHJzID0gZnVuY3Rpb24gYnVpbGRBdHRycyhhdHRycykge1xuICAgIHZhciBhdHRyID0gXCJcIjtcbiAgICBmb3JPd24oYXR0cnMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICBhdHRyICs9IHZhbHVlID8gXCIgXCIgKyBjYW1lbFRvS2ViYWIoa2V5KSArIFwiPVxcXCJcIiArIHZhbHVlICsgXCJcXFwiXCIgOiBcIlwiO1xuICAgIH0pO1xuICAgIHJldHVybiBhdHRyLnRyaW0oKTtcbiAgfTtcblxuICBfcHJvdG8zLmJ1aWxkU3R5bGVzID0gZnVuY3Rpb24gYnVpbGRTdHlsZXMoc3R5bGVzKSB7XG4gICAgdmFyIHN0eWxlID0gXCJcIjtcbiAgICBmb3JPd24oc3R5bGVzLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgc3R5bGUgKz0gXCIgXCIgKyBjYW1lbFRvS2ViYWIoa2V5KSArIFwiOlwiICsgdmFsdWUgKyBcIjtcIjtcbiAgICB9KTtcbiAgICByZXR1cm4gc3R5bGUudHJpbSgpO1xuICB9O1xuXG4gIF9wcm90bzMucmVuZGVyU2xpZGVzID0gZnVuY3Rpb24gcmVuZGVyU2xpZGVzKCkge1xuICAgIHZhciBfdGhpczEwID0gdGhpcztcblxuICAgIHZhciB0YWcgPSB0aGlzLmNvbmZpZy5zbGlkZVRhZztcbiAgICByZXR1cm4gdGhpcy5zbGlkZXMubWFwKGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICByZXR1cm4gXCI8XCIgKyB0YWcgKyBcIiBcIiArIF90aGlzMTAuYnVpbGRBdHRycyhjb250ZW50LmF0dHJzKSArIFwiPlwiICsgKGNvbnRlbnQuaHRtbCB8fCBcIlwiKSArIFwiPC9cIiArIHRhZyArIFwiPlwiO1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgX3Byb3RvMy5jb3ZlciA9IGZ1bmN0aW9uIGNvdmVyKGNvbnRlbnQpIHtcbiAgICB2YXIgc3R5bGVzID0gY29udGVudC5zdHlsZXMsXG4gICAgICAgIF9jb250ZW50JGh0bWwgPSBjb250ZW50Lmh0bWwsXG4gICAgICAgIGh0bWwgPSBfY29udGVudCRodG1sID09PSB2b2lkIDAgPyBcIlwiIDogX2NvbnRlbnQkaHRtbDtcblxuICAgIGlmICh0aGlzLm9wdGlvbnMuY292ZXIgJiYgIXRoaXMub3B0aW9ucy5sYXp5TG9hZCkge1xuICAgICAgdmFyIHNyYyA9IGh0bWwubWF0Y2goLzxpbWcuKj9zcmNcXHMqPVxccyooWydcIl0pKC4rPylcXDEuKj8+Lyk7XG5cbiAgICAgIGlmIChzcmMgJiYgc3JjWzJdKSB7XG4gICAgICAgIHN0eWxlcy5iYWNrZ3JvdW5kID0gXCJjZW50ZXIvY292ZXIgbm8tcmVwZWF0IHVybCgnXCIgKyBzcmNbMl0gKyBcIicpXCI7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIF9wcm90bzMuZ2VuZXJhdGVDbG9uZXMgPSBmdW5jdGlvbiBnZW5lcmF0ZUNsb25lcyhjb250ZW50cykge1xuICAgIHZhciBjbGFzc2VzID0gdGhpcy5vcHRpb25zLmNsYXNzZXM7XG4gICAgdmFyIGNvdW50ID0gdGhpcy5nZXRDbG9uZUNvdW50KCk7XG4gICAgdmFyIHNsaWRlcyA9IGNvbnRlbnRzLnNsaWNlKCk7XG5cbiAgICB3aGlsZSAoc2xpZGVzLmxlbmd0aCA8IGNvdW50KSB7XG4gICAgICBwdXNoKHNsaWRlcywgc2xpZGVzKTtcbiAgICB9XG5cbiAgICBwdXNoKHNsaWRlcy5zbGljZSgtY291bnQpLnJldmVyc2UoKSwgc2xpZGVzLnNsaWNlKDAsIGNvdW50KSkuZm9yRWFjaChmdW5jdGlvbiAoY29udGVudCwgaW5kZXgpIHtcbiAgICAgIHZhciBhdHRycyA9IGFzc2lnbih7fSwgY29udGVudC5hdHRycywge1xuICAgICAgICBjbGFzczogY29udGVudC5hdHRycy5jbGFzcyArIFwiIFwiICsgY2xhc3Nlcy5jbG9uZVxuICAgICAgfSk7XG4gICAgICB2YXIgY2xvbmUgPSBhc3NpZ24oe30sIGNvbnRlbnQsIHtcbiAgICAgICAgYXR0cnM6IGF0dHJzXG4gICAgICB9KTtcbiAgICAgIGluZGV4IDwgY291bnQgPyBjb250ZW50cy51bnNoaWZ0KGNsb25lKSA6IGNvbnRlbnRzLnB1c2goY2xvbmUpO1xuICAgIH0pO1xuICB9O1xuXG4gIF9wcm90bzMuZ2V0Q2xvbmVDb3VudCA9IGZ1bmN0aW9uIGdldENsb25lQ291bnQoKSB7XG4gICAgaWYgKHRoaXMuaXNMb29wKCkpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG4gICAgICBpZiAob3B0aW9ucy5jbG9uZXMpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuY2xvbmVzO1xuICAgICAgfVxuXG4gICAgICB2YXIgcGVyUGFnZSA9IG1heC5hcHBseSh2b2lkIDAsIHRoaXMuYnJlYWtwb2ludHMubWFwKGZ1bmN0aW9uIChfcmVmNikge1xuICAgICAgICB2YXIgb3B0aW9uczIgPSBfcmVmNlsxXTtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMyLnBlclBhZ2U7XG4gICAgICB9KSk7XG4gICAgICByZXR1cm4gcGVyUGFnZSAqICgob3B0aW9ucy5mbGlja01heFBhZ2VzIHx8IDEpICsgMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH07XG5cbiAgX3Byb3RvMy5yZW5kZXJBcnJvd3MgPSBmdW5jdGlvbiByZW5kZXJBcnJvd3MoKSB7XG4gICAgdmFyIGh0bWwgPSBcIlwiO1xuICAgIGh0bWwgKz0gXCI8ZGl2IGNsYXNzPVxcXCJcIiArIHRoaXMub3B0aW9ucy5jbGFzc2VzLmFycm93cyArIFwiXFxcIj5cIjtcbiAgICBodG1sICs9IHRoaXMucmVuZGVyQXJyb3codHJ1ZSk7XG4gICAgaHRtbCArPSB0aGlzLnJlbmRlckFycm93KGZhbHNlKTtcbiAgICBodG1sICs9IFwiPC9kaXY+XCI7XG4gICAgcmV0dXJuIGh0bWw7XG4gIH07XG5cbiAgX3Byb3RvMy5yZW5kZXJBcnJvdyA9IGZ1bmN0aW9uIHJlbmRlckFycm93KHByZXYpIHtcbiAgICB2YXIgX3RoaXMkb3B0aW9ucyA9IHRoaXMub3B0aW9ucyxcbiAgICAgICAgY2xhc3NlcyA9IF90aGlzJG9wdGlvbnMuY2xhc3NlcyxcbiAgICAgICAgaTE4biA9IF90aGlzJG9wdGlvbnMuaTE4bjtcbiAgICB2YXIgYXR0cnMgPSB7XG4gICAgICBjbGFzczogY2xhc3Nlcy5hcnJvdyArIFwiIFwiICsgKHByZXYgPyBjbGFzc2VzLnByZXYgOiBjbGFzc2VzLm5leHQpLFxuICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgIGFyaWFMYWJlbDogcHJldiA/IGkxOG4ucHJldiA6IGkxOG4ubmV4dFxuICAgIH07XG4gICAgcmV0dXJuIFwiPGJ1dHRvbiBcIiArIHRoaXMuYnVpbGRBdHRycyhhdHRycykgKyBcIj48c3ZnIHhtbG5zPVxcXCJcIiArIFhNTF9OQU1FX1NQQUNFICsgXCJcXFwiIHZpZXdCb3g9XFxcIjAgMCBcIiArIFNJWkUgKyBcIiBcIiArIFNJWkUgKyBcIlxcXCIgd2lkdGg9XFxcIlwiICsgU0laRSArIFwiXFxcIiBoZWlnaHQ9XFxcIlwiICsgU0laRSArIFwiXFxcIj48cGF0aCBkPVxcXCJcIiArICh0aGlzLm9wdGlvbnMuYXJyb3dQYXRoIHx8IFBBVEgpICsgXCJcXFwiIC8+PC9zdmc+PC9idXR0b24+XCI7XG4gIH07XG5cbiAgX3Byb3RvMy5odG1sID0gZnVuY3Rpb24gaHRtbCgpIHtcbiAgICB2YXIgX3RoaXMkY29uZmlnID0gdGhpcy5jb25maWcsXG4gICAgICAgIHJvb3RDbGFzcyA9IF90aGlzJGNvbmZpZy5yb290Q2xhc3MsXG4gICAgICAgIGxpc3RUYWcgPSBfdGhpcyRjb25maWcubGlzdFRhZyxcbiAgICAgICAgYXJyb3dzID0gX3RoaXMkY29uZmlnLmFycm93cyxcbiAgICAgICAgYmVmb3JlVHJhY2sgPSBfdGhpcyRjb25maWcuYmVmb3JlVHJhY2ssXG4gICAgICAgIGFmdGVyVHJhY2sgPSBfdGhpcyRjb25maWcuYWZ0ZXJUcmFjayxcbiAgICAgICAgc2xpZGVyID0gX3RoaXMkY29uZmlnLnNsaWRlcixcbiAgICAgICAgYmVmb3JlU2xpZGVyID0gX3RoaXMkY29uZmlnLmJlZm9yZVNsaWRlcixcbiAgICAgICAgYWZ0ZXJTbGlkZXIgPSBfdGhpcyRjb25maWcuYWZ0ZXJTbGlkZXI7XG4gICAgdmFyIGh0bWwgPSBcIlwiO1xuICAgIGh0bWwgKz0gXCI8ZGl2IGlkPVxcXCJcIiArIHRoaXMuaWQgKyBcIlxcXCIgY2xhc3M9XFxcIlwiICsgdGhpcy5idWlsZENsYXNzZXMoKSArIFwiIFwiICsgKHJvb3RDbGFzcyB8fCBcIlwiKSArIFwiXFxcIj5cIjtcbiAgICBodG1sICs9IFwiPHN0eWxlPlwiICsgdGhpcy5TdHlsZS5idWlsZCgpICsgXCI8L3N0eWxlPlwiO1xuXG4gICAgaWYgKHNsaWRlcikge1xuICAgICAgaHRtbCArPSBiZWZvcmVTbGlkZXIgfHwgXCJcIjtcbiAgICAgIGh0bWwgKz0gXCI8ZGl2IGNsYXNzPVxcXCJzcGxpZGVfX3NsaWRlclxcXCI+XCI7XG4gICAgfVxuXG4gICAgaHRtbCArPSBiZWZvcmVUcmFjayB8fCBcIlwiO1xuXG4gICAgaWYgKGFycm93cykge1xuICAgICAgaHRtbCArPSB0aGlzLnJlbmRlckFycm93cygpO1xuICAgIH1cblxuICAgIGh0bWwgKz0gXCI8ZGl2IGNsYXNzPVxcXCJzcGxpZGVfX3RyYWNrXFxcIj5cIjtcbiAgICBodG1sICs9IFwiPFwiICsgbGlzdFRhZyArIFwiIGNsYXNzPVxcXCJzcGxpZGVfX2xpc3RcXFwiPlwiO1xuICAgIGh0bWwgKz0gdGhpcy5yZW5kZXJTbGlkZXMoKTtcbiAgICBodG1sICs9IFwiPC9cIiArIGxpc3RUYWcgKyBcIj5cIjtcbiAgICBodG1sICs9IFwiPC9kaXY+XCI7XG4gICAgaHRtbCArPSBhZnRlclRyYWNrIHx8IFwiXCI7XG5cbiAgICBpZiAoc2xpZGVyKSB7XG4gICAgICBodG1sICs9IFwiPC9kaXY+XCI7XG4gICAgICBodG1sICs9IGFmdGVyU2xpZGVyIHx8IFwiXCI7XG4gICAgfVxuXG4gICAgaHRtbCArPSBcIjwvZGl2PlwiO1xuICAgIHJldHVybiBodG1sO1xuICB9O1xuXG4gIHJldHVybiBTcGxpZGVSZW5kZXJlcjtcbn0oKTtcblxuZXhwb3J0IHsgQ0xBU1NFUywgQ0xBU1NfQUNUSVZFLCBDTEFTU19BUlJPVywgQ0xBU1NfQVJST1dTLCBDTEFTU19BUlJPV19ORVhULCBDTEFTU19BUlJPV19QUkVWLCBDTEFTU19DTE9ORSwgQ0xBU1NfQ09OVEFJTkVSLCBDTEFTU19GT0NVU19JTiwgQ0xBU1NfSU5JVElBTElaRUQsIENMQVNTX0xJU1QsIENMQVNTX0xPQURJTkcsIENMQVNTX05FWFQsIENMQVNTX09WRVJGTE9XLCBDTEFTU19QQUdJTkFUSU9OLCBDTEFTU19QQUdJTkFUSU9OX1BBR0UsIENMQVNTX1BSRVYsIENMQVNTX1BST0dSRVNTLCBDTEFTU19QUk9HUkVTU19CQVIsIENMQVNTX1JPT1QsIENMQVNTX1NMSURFLCBDTEFTU19TUElOTkVSLCBDTEFTU19TUiwgQ0xBU1NfVE9HR0xFLCBDTEFTU19UT0dHTEVfUEFVU0UsIENMQVNTX1RPR0dMRV9QTEFZLCBDTEFTU19UUkFDSywgQ0xBU1NfVklTSUJMRSwgREVGQVVMVFMsIEVWRU5UX0FDVElWRSwgRVZFTlRfQVJST1dTX01PVU5URUQsIEVWRU5UX0FSUk9XU19VUERBVEVELCBFVkVOVF9BVVRPUExBWV9QQVVTRSwgRVZFTlRfQVVUT1BMQVlfUExBWSwgRVZFTlRfQVVUT1BMQVlfUExBWUlORywgRVZFTlRfQ0xJQ0ssIEVWRU5UX0RFU1RST1ksIEVWRU5UX0RSQUcsIEVWRU5UX0RSQUdHRUQsIEVWRU5UX0RSQUdHSU5HLCBFVkVOVF9FTkRfSU5ERVhfQ0hBTkdFRCwgRVZFTlRfSElEREVOLCBFVkVOVF9JTkFDVElWRSwgRVZFTlRfTEFaWUxPQURfTE9BREVELCBFVkVOVF9NT1VOVEVELCBFVkVOVF9NT1ZFLCBFVkVOVF9NT1ZFRCwgRVZFTlRfTkFWSUdBVElPTl9NT1VOVEVELCBFVkVOVF9PVkVSRkxPVywgRVZFTlRfUEFHSU5BVElPTl9NT1VOVEVELCBFVkVOVF9QQUdJTkFUSU9OX1VQREFURUQsIEVWRU5UX1JFQURZLCBFVkVOVF9SRUZSRVNILCBFVkVOVF9SRVNJWkUsIEVWRU5UX1JFU0laRUQsIEVWRU5UX1NDUk9MTCwgRVZFTlRfU0NST0xMRUQsIEVWRU5UX1NISUZURUQsIEVWRU5UX1NMSURFX0tFWURPV04sIEVWRU5UX1VQREFURUQsIEVWRU5UX1ZJU0lCTEUsIEV2ZW50QmluZGVyLCBFdmVudEludGVyZmFjZSwgRkFERSwgTE9PUCwgTFRSLCBSVEwsIFJlcXVlc3RJbnRlcnZhbCwgU0xJREUsIFNUQVRVU19DTEFTU0VTLCBTcGxpZGUsIFNwbGlkZVJlbmRlcmVyLCBTdGF0ZSwgVFRCLCBUaHJvdHRsZSwgU3BsaWRlIGFzIGRlZmF1bHQgfTtcbiIsIlxyXG4vLyBDbGFzcyB0aGF0IGhhbmRsZXMgdGhlIHBsYXliYWNrIG9mIHRoZSB3aG9sZSBib29rXHJcbmltcG9ydCB7IEJvb2ssIFBhZ2UsIFRleHRFbGVtZW50LCBJbWFnZUVsZW1lbnQsIEF1ZGlvRWxlbWVudCAgfSBmcm9tIFwiLi4vTW9kZWxzL01vZGVsc1wiO1xyXG5pbXBvcnQgeyBTcGxpZGUgfSBmcm9tIFwiQHNwbGlkZWpzL3NwbGlkZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXlCYWNrRW5naW5lIHtcclxuXHJcbiAgICBjdXJyZW50UGFnZTogbnVtYmVyO1xyXG4gICAgbnVtYmVyT2ZQYWdlczogbnVtYmVyO1xyXG4gICAgdHJhbnNpdGlvbmluZ1RvUGFnZTogYm9vbGVhbjtcclxuXHJcbiAgICBpbWFnZXNQYXRoOiBzdHJpbmc7XHJcbiAgICBhdWRpb1BhdGg6IHN0cmluZztcclxuXHJcbiAgICBlbXB0eUdsb3dJbWFnZVRhZzogc3RyaW5nID0gXCJlbXB0eV9nbG93X2ltYWdlXCI7XHJcblxyXG4gICAgc3BsaWRlSGFuZGxlOiBTcGxpZGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW1hZ2VzUGF0aDogc3RyaW5nLCBhdWRpb1BhdGg6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzUGF0aCA9IGltYWdlc1BhdGg7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BhdGggPSBhdWRpb1BhdGg7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDA7XHJcbiAgICAgICAgdGhpcy5zcGxpZGVIYW5kbGUgPSBuZXcgU3BsaWRlKCcuc3BsaWRlJykubW91bnQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB0YWtlIGxldHMgZmx5IHN0b3J5LCB0YWtlIHRoZSBkb2NzLCBpbnN0YWxsaW5nIHdvcmtib3ggYW5kIG1ha2luZyBzdXJlXHJcbiAgICAvLyB0aGUgbGV0cyBmbHkgaXMgYXZhaWxhYmxlIGFzIGEgc2VydmljZSB3b3JrZXIgUFdBXHJcblxyXG4gICAgaW5pdGlhbGl6ZUJvb2soYm9vazogQm9vaykge1xyXG4gICAgICAgIHRoaXMubnVtYmVyT2ZQYWdlcyA9IGJvb2sucGFnZXMubGVuZ3RoO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm9vay5wYWdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBzbGlkZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XHJcbiAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5hZGQoJ3NwbGlkZV9fc2xpZGUnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGZvcmVhY2ggdmlzdWFsZWxlbWVudCBpbiBwYWdlIGFkZCB0byBzbGlkZVxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJvb2sucGFnZXNbaV0udmlzdWFsRWxlbWVudHMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCB2aXN1YWxFbGVtZW50ID0gYm9vay5wYWdlc1tpXS52aXN1YWxFbGVtZW50c1tqXTtcclxuICAgICAgICAgICAgICAgIGlmICh2aXN1YWxFbGVtZW50LnR5cGUgPT0gXCJ0ZXh0XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dEVsZW1lbnQ6IFRleHRFbGVtZW50ID0gdmlzdWFsRWxlbWVudDtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdGV4dEVsZW1lbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEVsZW1lbnREaXYuY2xhc3NMaXN0LmFkZCgnY3ItdGV4dCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRFbGVtZW50RGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRFbGVtZW50RGl2LnN0eWxlLndlYmtpdFRleHRTdHJva2UgPSBcInRoaWNrICMzMDMwMzBcIjtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0RWxlbWVudERpdi5zdHlsZS50ZXh0U2hhZG93ID0gXCIwLjFyZW0gMC4xNXJlbSAwLjFyZW0gIzMwMzAzMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRFbGVtZW50RGl2LnN0eWxlLmZvbnRGYW1pbHkgPSBcIlF1aWNrc2FuZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRFbGVtZW50RGl2LnN0eWxlLmZvbnRXZWlnaHQgPSBcIjgwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRFbGVtZW50RGl2LnN0eWxlLmZvbnRTaXplID0gXCIxLjdlbVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRFbGVtZW50RGl2LnN0eWxlLnRvcCA9IHRleHRFbGVtZW50LnBvc2l0aW9uWSArIFwiJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRFbGVtZW50RGl2LnN0eWxlLmxlZnQgPSB0ZXh0RWxlbWVudC5wb3NpdGlvblggKyBcIiVcIjtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0RWxlbWVudERpdi5zdHlsZS53aWR0aCA9IHRleHRFbGVtZW50LndpZHRoICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEVsZW1lbnREaXYuc3R5bGUuaGVpZ2h0ID0gdGV4dEVsZW1lbnQuaGVpZ2h0ICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dEVsZW1lbnREaXYuaW5uZXJIVE1MID0gdGV4dEVsZW1lbnQudGV4dENvbnRlbnRBc0hUTUw7XHJcbiAgICAgICAgICAgICAgICAgICAgc2xpZGUuYXBwZW5kQ2hpbGQodGV4dEVsZW1lbnREaXYpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2aXN1YWxFbGVtZW50LnR5cGUgPT0gXCJpbWFnZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltYWdlRWxlbWVudDogSW1hZ2VFbGVtZW50ID0gdmlzdWFsRWxlbWVudDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlRWxlbWVudC5pbWFnZVNvdXJjZSA9PT0gdGhpcy5lbXB0eUdsb3dJbWFnZVRhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbWFnZUVsZW1lbnREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VFbGVtZW50RGl2LmNsYXNzTGlzdC5hZGQoJ2NyLWltYWdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VFbGVtZW50RGl2LnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlRWxlbWVudERpdi5zdHlsZS50b3AgPSBpbWFnZUVsZW1lbnQucG9zaXRpb25ZICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VFbGVtZW50RGl2LnN0eWxlLmxlZnQgPSBpbWFnZUVsZW1lbnQucG9zaXRpb25YICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VFbGVtZW50RGl2LnN0eWxlLndpZHRoID0gaW1hZ2VFbGVtZW50LndpZHRoICsgXCIlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VFbGVtZW50RGl2LnN0eWxlLmhlaWdodCA9IGltYWdlRWxlbWVudC5oZWlnaHQgKyBcIiVcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGltYWdlRWxlbWVudEltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlRWxlbWVudEltZy5zcmMgPSB0aGlzLmltYWdlc1BhdGggKyBpbWFnZUVsZW1lbnQuaW1hZ2VTb3VyY2UucmVwbGFjZShcImltYWdlcy9cIiwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VFbGVtZW50SW1nLnN0eWxlLndpZHRoID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2VFbGVtZW50SW1nLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlRWxlbWVudERpdi5hcHBlbmRDaGlsZChpbWFnZUVsZW1lbnRJbWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlLmFwcGVuZENoaWxkKGltYWdlRWxlbWVudERpdik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zcGxpZGVIYW5kbGUuYWRkKHNsaWRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnb1RvTmV4dFBhZ2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZ1RvUGFnZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy5udW1iZXJPZlBhZ2VzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFBhZ2UrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uVG9QYWdlKHRoaXMuY3VycmVudFBhZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGdvVG9QcmV2aW91c1BhZ2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZ1RvUGFnZSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRQYWdlLS07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudHJhbnNpdGlvblRvUGFnZSh0aGlzLmN1cnJlbnRQYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICB0cmFuc2l0aW9uVG9QYWdlKHBhZ2VOdW1iZXI6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudHJhbnNpdGlvbmluZ1RvUGFnZSA9IHRydWU7XHJcbiAgICB9XHJcbn0iLCIvKlxuICBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgeyBtZXNzYWdlR2VuZXJhdG9yIH0gZnJvbSAnLi4vbW9kZWxzL21lc3NhZ2VzL21lc3NhZ2VHZW5lcmF0b3IuanMnO1xuaW1wb3J0ICcuLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIFdvcmtib3ggZXJyb3JzIHNob3VsZCBiZSB0aHJvd24gd2l0aCB0aGlzIGNsYXNzLlxuICogVGhpcyBhbGxvd3MgdXNlIHRvIGVuc3VyZSB0aGUgdHlwZSBlYXNpbHkgaW4gdGVzdHMsXG4gKiBoZWxwcyBkZXZlbG9wZXJzIGlkZW50aWZ5IGVycm9ycyBmcm9tIHdvcmtib3hcbiAqIGVhc2lseSBhbmQgYWxsb3dzIHVzZSB0byBvcHRpbWlzZSBlcnJvclxuICogbWVzc2FnZXMgY29ycmVjdGx5LlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbmNsYXNzIFdvcmtib3hFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlcnJvckNvZGUgVGhlIGVycm9yIGNvZGUgdGhhdFxuICAgICAqIGlkZW50aWZpZXMgdGhpcyBwYXJ0aWN1bGFyIGVycm9yLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gZGV0YWlscyBBbnkgcmVsZXZhbnQgYXJndW1lbnRzXG4gICAgICogdGhhdCB3aWxsIGhlbHAgZGV2ZWxvcGVycyBpZGVudGlmeSBpc3N1ZXMgc2hvdWxkXG4gICAgICogYmUgYWRkZWQgYXMgYSBrZXkgb24gdGhlIGNvbnRleHQgb2JqZWN0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGVycm9yQ29kZSwgZGV0YWlscykge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gbWVzc2FnZUdlbmVyYXRvcihlcnJvckNvZGUsIGRldGFpbHMpO1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gZXJyb3JDb2RlO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgIH1cbn1cbmV4cG9ydCB7IFdvcmtib3hFcnJvciB9O1xuIiwiLypcbiAgQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuXG4gIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZVxuICBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcbiAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXG4qL1xuaW1wb3J0IHsgbWVzc2FnZXMgfSBmcm9tICcuL21lc3NhZ2VzLmpzJztcbmltcG9ydCAnLi4vLi4vX3ZlcnNpb24uanMnO1xuY29uc3QgZmFsbGJhY2sgPSAoY29kZSwgLi4uYXJncykgPT4ge1xuICAgIGxldCBtc2cgPSBjb2RlO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgbXNnICs9IGAgOjogJHtKU09OLnN0cmluZ2lmeShhcmdzKX1gO1xuICAgIH1cbiAgICByZXR1cm4gbXNnO1xufTtcbmNvbnN0IGdlbmVyYXRvckZ1bmN0aW9uID0gKGNvZGUsIGRldGFpbHMgPSB7fSkgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1tjb2RlXTtcbiAgICBpZiAoIW1lc3NhZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmFibGUgdG8gZmluZCBtZXNzYWdlIGZvciBjb2RlICcke2NvZGV9Jy5gKTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2UoZGV0YWlscyk7XG59O1xuZXhwb3J0IGNvbnN0IG1lc3NhZ2VHZW5lcmF0b3IgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nID8gZmFsbGJhY2sgOiBnZW5lcmF0b3JGdW5jdGlvbjtcbiIsIi8qXG4gIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcblxuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCB7IFdvcmtib3hFcnJvciB9IGZyb20gJy4uL19wcml2YXRlL1dvcmtib3hFcnJvci5qcyc7XG5pbXBvcnQgJy4uL192ZXJzaW9uLmpzJztcbi8qXG4gKiBUaGlzIG1ldGhvZCB0aHJvd3MgaWYgdGhlIHN1cHBsaWVkIHZhbHVlIGlzIG5vdCBhbiBhcnJheS5cbiAqIFRoZSBkZXN0cnVjdGVkIHZhbHVlcyBhcmUgcmVxdWlyZWQgdG8gcHJvZHVjZSBhIG1lYW5pbmdmdWwgZXJyb3IgZm9yIHVzZXJzLlxuICogVGhlIGRlc3RydWN0ZWQgYW5kIHJlc3RydWN0dXJlZCBvYmplY3QgaXMgc28gaXQncyBjbGVhciB3aGF0IGlzXG4gKiBuZWVkZWQuXG4gKi9cbmNvbnN0IGlzQXJyYXkgPSAodmFsdWUsIGRldGFpbHMpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBXb3JrYm94RXJyb3IoJ25vdC1hbi1hcnJheScsIGRldGFpbHMpO1xuICAgIH1cbn07XG5jb25zdCBoYXNNZXRob2QgPSAob2JqZWN0LCBleHBlY3RlZE1ldGhvZCwgZGV0YWlscykgPT4ge1xuICAgIGNvbnN0IHR5cGUgPSB0eXBlb2Ygb2JqZWN0W2V4cGVjdGVkTWV0aG9kXTtcbiAgICBpZiAodHlwZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBkZXRhaWxzWydleHBlY3RlZE1ldGhvZCddID0gZXhwZWN0ZWRNZXRob2Q7XG4gICAgICAgIHRocm93IG5ldyBXb3JrYm94RXJyb3IoJ21pc3NpbmctYS1tZXRob2QnLCBkZXRhaWxzKTtcbiAgICB9XG59O1xuY29uc3QgaXNUeXBlID0gKG9iamVjdCwgZXhwZWN0ZWRUeXBlLCBkZXRhaWxzKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBvYmplY3QgIT09IGV4cGVjdGVkVHlwZSkge1xuICAgICAgICBkZXRhaWxzWydleHBlY3RlZFR5cGUnXSA9IGV4cGVjdGVkVHlwZTtcbiAgICAgICAgdGhyb3cgbmV3IFdvcmtib3hFcnJvcignaW5jb3JyZWN0LXR5cGUnLCBkZXRhaWxzKTtcbiAgICB9XG59O1xuY29uc3QgaXNJbnN0YW5jZSA9IChvYmplY3QsIFxuLy8gTmVlZCB0aGUgZ2VuZXJhbCB0eXBlIHRvIGRvIHRoZSBjaGVjayBsYXRlci5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5leHBlY3RlZENsYXNzLCBkZXRhaWxzKSA9PiB7XG4gICAgaWYgKCEob2JqZWN0IGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgICAgZGV0YWlsc1snZXhwZWN0ZWRDbGFzc05hbWUnXSA9IGV4cGVjdGVkQ2xhc3MubmFtZTtcbiAgICAgICAgdGhyb3cgbmV3IFdvcmtib3hFcnJvcignaW5jb3JyZWN0LWNsYXNzJywgZGV0YWlscyk7XG4gICAgfVxufTtcbmNvbnN0IGlzT25lT2YgPSAodmFsdWUsIHZhbGlkVmFsdWVzLCBkZXRhaWxzKSA9PiB7XG4gICAgaWYgKCF2YWxpZFZhbHVlcy5pbmNsdWRlcyh2YWx1ZSkpIHtcbiAgICAgICAgZGV0YWlsc1sndmFsaWRWYWx1ZURlc2NyaXB0aW9uJ10gPSBgVmFsaWQgdmFsdWVzIGFyZSAke0pTT04uc3RyaW5naWZ5KHZhbGlkVmFsdWVzKX0uYDtcbiAgICAgICAgdGhyb3cgbmV3IFdvcmtib3hFcnJvcignaW52YWxpZC12YWx1ZScsIGRldGFpbHMpO1xuICAgIH1cbn07XG5jb25zdCBpc0FycmF5T2ZDbGFzcyA9ICh2YWx1ZSwgXG4vLyBOZWVkIGdlbmVyYWwgdHlwZSB0byBkbyBjaGVjayBsYXRlci5cbmV4cGVjdGVkQ2xhc3MsIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbmRldGFpbHMpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBXb3JrYm94RXJyb3IoJ25vdC1hcnJheS1vZi1jbGFzcycsIGRldGFpbHMpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGZvciAoY29uc3QgaXRlbSBvZiB2YWx1ZSkge1xuICAgICAgICBpZiAoIShpdGVtIGluc3RhbmNlb2YgZXhwZWN0ZWRDbGFzcykpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfVxufTtcbmNvbnN0IGZpbmFsQXNzZXJ0RXhwb3J0cyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbidcbiAgICA/IG51bGxcbiAgICA6IHtcbiAgICAgICAgaGFzTWV0aG9kLFxuICAgICAgICBpc0FycmF5LFxuICAgICAgICBpc0luc3RhbmNlLFxuICAgICAgICBpc09uZU9mLFxuICAgICAgICBpc1R5cGUsXG4gICAgICAgIGlzQXJyYXlPZkNsYXNzLFxuICAgIH07XG5leHBvcnQgeyBmaW5hbEFzc2VydEV4cG9ydHMgYXMgYXNzZXJ0IH07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgJy4uL192ZXJzaW9uLmpzJztcbi8vIENhbGxiYWNrcyB0byBiZSBleGVjdXRlZCB3aGVuZXZlciB0aGVyZSdzIGEgcXVvdGEgZXJyb3IuXG4vLyBDYW4ndCBjaGFuZ2UgRnVuY3Rpb24gdHlwZSByaWdodCBub3cuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuY29uc3QgcXVvdGFFcnJvckNhbGxiYWNrcyA9IG5ldyBTZXQoKTtcbmV4cG9ydCB7IHF1b3RhRXJyb3JDYWxsYmFja3MgfTtcbiIsIi8qXG4gIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcblxuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCAnLi4vX3ZlcnNpb24uanMnO1xuY29uc3QgX2NhY2hlTmFtZURldGFpbHMgPSB7XG4gICAgZ29vZ2xlQW5hbHl0aWNzOiAnZ29vZ2xlQW5hbHl0aWNzJyxcbiAgICBwcmVjYWNoZTogJ3ByZWNhY2hlLXYyJyxcbiAgICBwcmVmaXg6ICd3b3JrYm94JyxcbiAgICBydW50aW1lOiAncnVudGltZScsXG4gICAgc3VmZml4OiB0eXBlb2YgcmVnaXN0cmF0aW9uICE9PSAndW5kZWZpbmVkJyA/IHJlZ2lzdHJhdGlvbi5zY29wZSA6ICcnLFxufTtcbmNvbnN0IF9jcmVhdGVDYWNoZU5hbWUgPSAoY2FjaGVOYW1lKSA9PiB7XG4gICAgcmV0dXJuIFtfY2FjaGVOYW1lRGV0YWlscy5wcmVmaXgsIGNhY2hlTmFtZSwgX2NhY2hlTmFtZURldGFpbHMuc3VmZml4XVxuICAgICAgICAuZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgJiYgdmFsdWUubGVuZ3RoID4gMClcbiAgICAgICAgLmpvaW4oJy0nKTtcbn07XG5jb25zdCBlYWNoQ2FjaGVOYW1lRGV0YWlsID0gKGZuKSA9PiB7XG4gICAgZm9yIChjb25zdCBrZXkgb2YgT2JqZWN0LmtleXMoX2NhY2hlTmFtZURldGFpbHMpKSB7XG4gICAgICAgIGZuKGtleSk7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBjYWNoZU5hbWVzID0ge1xuICAgIHVwZGF0ZURldGFpbHM6IChkZXRhaWxzKSA9PiB7XG4gICAgICAgIGVhY2hDYWNoZU5hbWVEZXRhaWwoKGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBkZXRhaWxzW2tleV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgX2NhY2hlTmFtZURldGFpbHNba2V5XSA9IGRldGFpbHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRHb29nbGVBbmFseXRpY3NOYW1lOiAodXNlckNhY2hlTmFtZSkgPT4ge1xuICAgICAgICByZXR1cm4gdXNlckNhY2hlTmFtZSB8fCBfY3JlYXRlQ2FjaGVOYW1lKF9jYWNoZU5hbWVEZXRhaWxzLmdvb2dsZUFuYWx5dGljcyk7XG4gICAgfSxcbiAgICBnZXRQcmVjYWNoZU5hbWU6ICh1c2VyQ2FjaGVOYW1lKSA9PiB7XG4gICAgICAgIHJldHVybiB1c2VyQ2FjaGVOYW1lIHx8IF9jcmVhdGVDYWNoZU5hbWUoX2NhY2hlTmFtZURldGFpbHMucHJlY2FjaGUpO1xuICAgIH0sXG4gICAgZ2V0UHJlZml4OiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBfY2FjaGVOYW1lRGV0YWlscy5wcmVmaXg7XG4gICAgfSxcbiAgICBnZXRSdW50aW1lTmFtZTogKHVzZXJDYWNoZU5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIHVzZXJDYWNoZU5hbWUgfHwgX2NyZWF0ZUNhY2hlTmFtZShfY2FjaGVOYW1lRGV0YWlscy5ydW50aW1lKTtcbiAgICB9LFxuICAgIGdldFN1ZmZpeDogKCkgPT4ge1xuICAgICAgICByZXR1cm4gX2NhY2hlTmFtZURldGFpbHMuc3VmZml4O1xuICAgIH0sXG59O1xuIiwiLypcbiAgQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCAnLi4vX3ZlcnNpb24uanMnO1xuZnVuY3Rpb24gc3RyaXBQYXJhbXMoZnVsbFVSTCwgaWdub3JlUGFyYW1zKSB7XG4gICAgY29uc3Qgc3RyaXBwZWRVUkwgPSBuZXcgVVJMKGZ1bGxVUkwpO1xuICAgIGZvciAoY29uc3QgcGFyYW0gb2YgaWdub3JlUGFyYW1zKSB7XG4gICAgICAgIHN0cmlwcGVkVVJMLnNlYXJjaFBhcmFtcy5kZWxldGUocGFyYW0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaXBwZWRVUkwuaHJlZjtcbn1cbi8qKlxuICogTWF0Y2hlcyBhbiBpdGVtIGluIHRoZSBjYWNoZSwgaWdub3Jpbmcgc3BlY2lmaWMgVVJMIHBhcmFtcy4gVGhpcyBpcyBzaW1pbGFyXG4gKiB0byB0aGUgYGlnbm9yZVNlYXJjaGAgb3B0aW9uLCBidXQgaXQgYWxsb3dzIHlvdSB0byBpZ25vcmUganVzdCBzcGVjaWZpY1xuICogcGFyYW1zICh3aGlsZSBjb250aW51aW5nIHRvIG1hdGNoIG9uIHRoZSBvdGhlcnMpLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0NhY2hlfSBjYWNoZVxuICogQHBhcmFtIHtSZXF1ZXN0fSByZXF1ZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gbWF0Y2hPcHRpb25zXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGlnbm9yZVBhcmFtc1xuICogQHJldHVybiB7UHJvbWlzZTxSZXNwb25zZXx1bmRlZmluZWQ+fVxuICovXG5hc3luYyBmdW5jdGlvbiBjYWNoZU1hdGNoSWdub3JlUGFyYW1zKGNhY2hlLCByZXF1ZXN0LCBpZ25vcmVQYXJhbXMsIG1hdGNoT3B0aW9ucykge1xuICAgIGNvbnN0IHN0cmlwcGVkUmVxdWVzdFVSTCA9IHN0cmlwUGFyYW1zKHJlcXVlc3QudXJsLCBpZ25vcmVQYXJhbXMpO1xuICAgIC8vIElmIHRoZSByZXF1ZXN0IGRvZXNuJ3QgaW5jbHVkZSBhbnkgaWdub3JlZCBwYXJhbXMsIG1hdGNoIGFzIG5vcm1hbC5cbiAgICBpZiAocmVxdWVzdC51cmwgPT09IHN0cmlwcGVkUmVxdWVzdFVSTCkge1xuICAgICAgICByZXR1cm4gY2FjaGUubWF0Y2gocmVxdWVzdCwgbWF0Y2hPcHRpb25zKTtcbiAgICB9XG4gICAgLy8gT3RoZXJ3aXNlLCBtYXRjaCBieSBjb21wYXJpbmcga2V5c1xuICAgIGNvbnN0IGtleXNPcHRpb25zID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBtYXRjaE9wdGlvbnMpLCB7IGlnbm9yZVNlYXJjaDogdHJ1ZSB9KTtcbiAgICBjb25zdCBjYWNoZUtleXMgPSBhd2FpdCBjYWNoZS5rZXlzKHJlcXVlc3QsIGtleXNPcHRpb25zKTtcbiAgICBmb3IgKGNvbnN0IGNhY2hlS2V5IG9mIGNhY2hlS2V5cykge1xuICAgICAgICBjb25zdCBzdHJpcHBlZENhY2hlS2V5VVJMID0gc3RyaXBQYXJhbXMoY2FjaGVLZXkudXJsLCBpZ25vcmVQYXJhbXMpO1xuICAgICAgICBpZiAoc3RyaXBwZWRSZXF1ZXN0VVJMID09PSBzdHJpcHBlZENhY2hlS2V5VVJMKSB7XG4gICAgICAgICAgICByZXR1cm4gY2FjaGUubWF0Y2goY2FjaGVLZXksIG1hdGNoT3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xufVxuZXhwb3J0IHsgY2FjaGVNYXRjaElnbm9yZVBhcmFtcyB9O1xuIiwiLypcbiAgQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCAnLi4vX3ZlcnNpb24uanMnO1xuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0aGF0IHByZXZlbnRzIGEgcHJvbWlzZSBmcm9tIGJlaW5nIGZsYWdnZWQgYXMgdW51c2VkLlxuICpcbiAqIEBwcml2YXRlXG4gKiovXG5leHBvcnQgZnVuY3Rpb24gZG9udFdhaXRGb3IocHJvbWlzZSkge1xuICAgIC8vIEVmZmVjdGl2ZSBuby1vcC5cbiAgICB2b2lkIHByb21pc2UudGhlbigoKSA9PiB7IH0pO1xufVxuIiwiLypcbiAgQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuXG4gIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZVxuICBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcbiAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXG4qL1xuaW1wb3J0ICcuLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIFRoZSBEZWZlcnJlZCBjbGFzcyBjb21wb3NlcyBQcm9taXNlcyBpbiBhIHdheSB0aGF0IGFsbG93cyBmb3IgdGhlbSB0byBiZVxuICogcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgZnJvbSBvdXRzaWRlIHRoZSBjb25zdHJ1Y3Rvci4gSW4gbW9zdCBjYXNlcyBwcm9taXNlc1xuICogc2hvdWxkIGJlIHVzZWQgZGlyZWN0bHksIGJ1dCBEZWZlcnJlZHMgY2FuIGJlIG5lY2Vzc2FyeSB3aGVuIHRoZSBsb2dpYyB0b1xuICogcmVzb2x2ZSBhIHByb21pc2UgbXVzdCBiZSBzZXBhcmF0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBEZWZlcnJlZCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHByb21pc2UgYW5kIGV4cG9zZXMgaXRzIHJlc29sdmUgYW5kIHJlamVjdCBmdW5jdGlvbnMgYXMgbWV0aG9kcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgeyBEZWZlcnJlZCB9O1xuIiwiLypcbiAgQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuXG4gIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZVxuICBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcbiAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXG4qL1xuaW1wb3J0ICcuLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIFRoZSBkZWZhdWx0IEhUVFAgbWV0aG9kLCAnR0VUJywgdXNlZCB3aGVuIHRoZXJlJ3Mgbm8gc3BlY2lmaWMgbWV0aG9kXG4gKiBjb25maWd1cmVkIGZvciBhIHJvdXRlLlxuICpcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKlxuICogQHByaXZhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRNZXRob2QgPSAnR0VUJztcbi8qKlxuICogVGhlIGxpc3Qgb2YgdmFsaWQgSFRUUCBtZXRob2RzIGFzc29jaWF0ZWQgd2l0aCByZXF1ZXN0cyB0aGF0IGNvdWxkIGJlIHJvdXRlZC5cbiAqXG4gKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3QgdmFsaWRNZXRob2RzID0gW1xuICAgICdERUxFVEUnLFxuICAgICdHRVQnLFxuICAgICdIRUFEJyxcbiAgICAnUEFUQ0gnLFxuICAgICdQT1NUJyxcbiAgICAnUFVUJyxcbl07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvYXNzZXJ0LmpzJztcbmltcG9ydCAnLi4vX3ZlcnNpb24uanMnO1xuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl8T2JqZWN0fSBoYW5kbGVyIEVpdGhlciBhIGZ1bmN0aW9uLCBvciBhbiBvYmplY3Qgd2l0aCBhXG4gKiAnaGFuZGxlJyBtZXRob2QuXG4gKiBAcmV0dXJuIHtPYmplY3R9IEFuIG9iamVjdCB3aXRoIGEgaGFuZGxlIG1ldGhvZC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplSGFuZGxlciA9IChoYW5kbGVyKSA9PiB7XG4gICAgaWYgKGhhbmRsZXIgJiYgdHlwZW9mIGhhbmRsZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBhc3NlcnQuaGFzTWV0aG9kKGhhbmRsZXIsICdoYW5kbGUnLCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogJ3dvcmtib3gtcm91dGluZycsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnUm91dGUnLFxuICAgICAgICAgICAgICAgIGZ1bmNOYW1lOiAnY29uc3RydWN0b3InLFxuICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ2hhbmRsZXInLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgYXNzZXJ0LmlzVHlwZShoYW5kbGVyLCAnZnVuY3Rpb24nLCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogJ3dvcmtib3gtcm91dGluZycsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnUm91dGUnLFxuICAgICAgICAgICAgICAgIGZ1bmNOYW1lOiAnY29uc3RydWN0b3InLFxuICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ2hhbmRsZXInLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgaGFuZGxlOiBoYW5kbGVyIH07XG4gICAgfVxufTtcbiIsIi8qXG4gIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcblxuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9hc3NlcnQuanMnO1xuaW1wb3J0IHsgZGVmYXVsdE1ldGhvZCwgdmFsaWRNZXRob2RzIH0gZnJvbSAnLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgbm9ybWFsaXplSGFuZGxlciB9IGZyb20gJy4vdXRpbHMvbm9ybWFsaXplSGFuZGxlci5qcyc7XG5pbXBvcnQgJy4vX3ZlcnNpb24uanMnO1xuLyoqXG4gKiBBIGBSb3V0ZWAgY29uc2lzdHMgb2YgYSBwYWlyIG9mIGNhbGxiYWNrIGZ1bmN0aW9ucywgXCJtYXRjaFwiIGFuZCBcImhhbmRsZXJcIi5cbiAqIFRoZSBcIm1hdGNoXCIgY2FsbGJhY2sgZGV0ZXJtaW5lIGlmIGEgcm91dGUgc2hvdWxkIGJlIHVzZWQgdG8gXCJoYW5kbGVcIiBhXG4gKiByZXF1ZXN0IGJ5IHJldHVybmluZyBhIG5vbi1mYWxzeSB2YWx1ZSBpZiBpdCBjYW4uIFRoZSBcImhhbmRsZXJcIiBjYWxsYmFja1xuICogaXMgY2FsbGVkIHdoZW4gdGhlcmUgaXMgYSBtYXRjaCBhbmQgc2hvdWxkIHJldHVybiBhIFByb21pc2UgdGhhdCByZXNvbHZlc1xuICogdG8gYSBgUmVzcG9uc2VgLlxuICpcbiAqIEBtZW1iZXJvZiB3b3JrYm94LXJvdXRpbmdcbiAqL1xuY2xhc3MgUm91dGUge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIGZvciBSb3V0ZSBjbGFzcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d29ya2JveC1yb3V0aW5nfm1hdGNoQ2FsbGJhY2t9IG1hdGNoXG4gICAgICogQSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IGRldGVybWluZXMgd2hldGhlciB0aGUgcm91dGUgbWF0Y2hlcyBhIGdpdmVuXG4gICAgICogYGZldGNoYCBldmVudCBieSByZXR1cm5pbmcgYSBub24tZmFsc3kgdmFsdWUuXG4gICAgICogQHBhcmFtIHt3b3JrYm94LXJvdXRpbmd+aGFuZGxlckNhbGxiYWNrfSBoYW5kbGVyIEEgY2FsbGJhY2tcbiAgICAgKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBQcm9taXNlIHJlc29sdmluZyB0byBhIFJlc3BvbnNlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbWV0aG9kPSdHRVQnXSBUaGUgSFRUUCBtZXRob2QgdG8gbWF0Y2ggdGhlIFJvdXRlXG4gICAgICogYWdhaW5zdC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihtYXRjaCwgaGFuZGxlciwgbWV0aG9kID0gZGVmYXVsdE1ldGhvZCkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgYXNzZXJ0LmlzVHlwZShtYXRjaCwgJ2Z1bmN0aW9uJywge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LXJvdXRpbmcnLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ1JvdXRlJyxcbiAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICBwYXJhbU5hbWU6ICdtYXRjaCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChtZXRob2QpIHtcbiAgICAgICAgICAgICAgICBhc3NlcnQuaXNPbmVPZihtZXRob2QsIHZhbGlkTWV0aG9kcywgeyBwYXJhbU5hbWU6ICdtZXRob2QnIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFRoZXNlIHZhbHVlcyBhcmUgcmVmZXJlbmNlZCBkaXJlY3RseSBieSBSb3V0ZXIgc28gY2Fubm90IGJlXG4gICAgICAgIC8vIGFsdGVyZWQgYnkgbWluaWZpY2F0b24uXG4gICAgICAgIHRoaXMuaGFuZGxlciA9IG5vcm1hbGl6ZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIHRoaXMubWF0Y2ggPSBtYXRjaDtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIHt3b3JrYm94LXJvdXRpbmctaGFuZGxlckNhbGxiYWNrfSBoYW5kbGVyIEEgY2FsbGJhY2tcbiAgICAgKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBQcm9taXNlIHJlc29sdmluZyB0byBhIFJlc3BvbnNlXG4gICAgICovXG4gICAgc2V0Q2F0Y2hIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5jYXRjaEhhbmRsZXIgPSBub3JtYWxpemVIYW5kbGVyKGhhbmRsZXIpO1xuICAgIH1cbn1cbmV4cG9ydCB7IFJvdXRlIH07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvYXNzZXJ0LmpzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9sb2dnZXIuanMnO1xuaW1wb3J0IHsgUm91dGUgfSBmcm9tICcuL1JvdXRlLmpzJztcbmltcG9ydCAnLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIFJlZ0V4cFJvdXRlIG1ha2VzIGl0IGVhc3kgdG8gY3JlYXRlIGEgcmVndWxhciBleHByZXNzaW9uIGJhc2VkXG4gKiB7QGxpbmsgd29ya2JveC1yb3V0aW5nLlJvdXRlfS5cbiAqXG4gKiBGb3Igc2FtZS1vcmlnaW4gcmVxdWVzdHMgdGhlIFJlZ0V4cCBvbmx5IG5lZWRzIHRvIG1hdGNoIHBhcnQgb2YgdGhlIFVSTC4gRm9yXG4gKiByZXF1ZXN0cyBhZ2FpbnN0IHRoaXJkLXBhcnR5IHNlcnZlcnMsIHlvdSBtdXN0IGRlZmluZSBhIFJlZ0V4cCB0aGF0IG1hdGNoZXNcbiAqIHRoZSBzdGFydCBvZiB0aGUgVVJMLlxuICpcbiAqIEBtZW1iZXJvZiB3b3JrYm94LXJvdXRpbmdcbiAqIEBleHRlbmRzIHdvcmtib3gtcm91dGluZy5Sb3V0ZVxuICovXG5jbGFzcyBSZWdFeHBSb3V0ZSBleHRlbmRzIFJvdXRlIHtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgcmVndWxhciBleHByZXNzaW9uIGNvbnRhaW5zXG4gICAgICogW2NhcHR1cmUgZ3JvdXBzXXtAbGluayBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9SZWdFeHAjZ3JvdXBpbmctYmFjay1yZWZlcmVuY2VzfSxcbiAgICAgKiB0aGUgY2FwdHVyZWQgdmFsdWVzIHdpbGwgYmUgcGFzc2VkIHRvIHRoZVxuICAgICAqIHtAbGluayB3b3JrYm94LXJvdXRpbmd+aGFuZGxlckNhbGxiYWNrfSBgcGFyYW1zYFxuICAgICAqIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IHJlZ0V4cCBUaGUgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgVVJMcy5cbiAgICAgKiBAcGFyYW0ge3dvcmtib3gtcm91dGluZ35oYW5kbGVyQ2FsbGJhY2t9IGhhbmRsZXIgQSBjYWxsYmFja1xuICAgICAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFByb21pc2UgcmVzdWx0aW5nIGluIGEgUmVzcG9uc2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttZXRob2Q9J0dFVCddIFRoZSBIVFRQIG1ldGhvZCB0byBtYXRjaCB0aGUgUm91dGVcbiAgICAgKiBhZ2FpbnN0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlZ0V4cCwgaGFuZGxlciwgbWV0aG9kKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBhc3NlcnQuaXNJbnN0YW5jZShyZWdFeHAsIFJlZ0V4cCwge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LXJvdXRpbmcnLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ1JlZ0V4cFJvdXRlJyxcbiAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICBwYXJhbU5hbWU6ICdwYXR0ZXJuJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1hdGNoID0gKHsgdXJsIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlZ0V4cC5leGVjKHVybC5ocmVmKTtcbiAgICAgICAgICAgIC8vIFJldHVybiBpbW1lZGlhdGVseSBpZiB0aGVyZSdzIG5vIG1hdGNoLlxuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXF1aXJlIHRoYXQgdGhlIG1hdGNoIHN0YXJ0IGF0IHRoZSBmaXJzdCBjaGFyYWN0ZXIgaW4gdGhlIFVSTCBzdHJpbmdcbiAgICAgICAgICAgIC8vIGlmIGl0J3MgYSBjcm9zcy1vcmlnaW4gcmVxdWVzdC5cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dvcmtib3gvaXNzdWVzLzI4MSBmb3IgdGhlIGNvbnRleHRcbiAgICAgICAgICAgIC8vIGJlaGluZCB0aGlzIGJlaGF2aW9yLlxuICAgICAgICAgICAgaWYgKHVybC5vcmlnaW4gIT09IGxvY2F0aW9uLm9yaWdpbiAmJiByZXN1bHQuaW5kZXggIT09IDApIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFRoZSByZWd1bGFyIGV4cHJlc3Npb24gJyR7cmVnRXhwLnRvU3RyaW5nKCl9JyBvbmx5IHBhcnRpYWxseSBtYXRjaGVkIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgYGFnYWluc3QgdGhlIGNyb3NzLW9yaWdpbiBVUkwgJyR7dXJsLnRvU3RyaW5nKCl9Jy4gUmVnRXhwUm91dGUncyB3aWxsIG9ubHkgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICBgaGFuZGxlIGNyb3NzLW9yaWdpbiByZXF1ZXN0cyBpZiB0aGV5IG1hdGNoIHRoZSBlbnRpcmUgVVJMLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgcm91dGUgbWF0Y2hlcywgYnV0IHRoZXJlIGFyZW4ndCBhbnkgY2FwdHVyZSBncm91cHMgZGVmaW5lZCwgdGhlblxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHJldHVybiBbXSwgd2hpY2ggaXMgdHJ1dGh5IGFuZCB0aGVyZWZvcmUgc3VmZmljaWVudCB0b1xuICAgICAgICAgICAgLy8gaW5kaWNhdGUgYSBtYXRjaC5cbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBjYXB0dXJlIGdyb3VwcywgdGhlbiBpdCB3aWxsIHJldHVybiB0aGVpciB2YWx1ZXMuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnNsaWNlKDEpO1xuICAgICAgICB9O1xuICAgICAgICBzdXBlcihtYXRjaCwgaGFuZGxlciwgbWV0aG9kKTtcbiAgICB9XG59XG5leHBvcnQgeyBSZWdFeHBSb3V0ZSB9O1xuIiwiLypcbiAgQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuXG4gIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZVxuICBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcbiAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXG4qL1xuaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL2Fzc2VydC5qcyc7XG5pbXBvcnQgeyBnZXRGcmllbmRseVVSTCB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9nZXRGcmllbmRseVVSTC5qcyc7XG5pbXBvcnQgeyBkZWZhdWx0TWV0aG9kIH0gZnJvbSAnLi91dGlscy9jb25zdGFudHMuanMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL2xvZ2dlci5qcyc7XG5pbXBvcnQgeyBub3JtYWxpemVIYW5kbGVyIH0gZnJvbSAnLi91dGlscy9ub3JtYWxpemVIYW5kbGVyLmpzJztcbmltcG9ydCB7IFdvcmtib3hFcnJvciB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9Xb3JrYm94RXJyb3IuanMnO1xuaW1wb3J0ICcuL192ZXJzaW9uLmpzJztcbi8qKlxuICogVGhlIFJvdXRlciBjYW4gYmUgdXNlZCB0byBwcm9jZXNzIGEgYEZldGNoRXZlbnRgIHVzaW5nIG9uZSBvciBtb3JlXG4gKiB7QGxpbmsgd29ya2JveC1yb3V0aW5nLlJvdXRlfSwgcmVzcG9uZGluZyB3aXRoIGEgYFJlc3BvbnNlYCBpZlxuICogYSBtYXRjaGluZyByb3V0ZSBleGlzdHMuXG4gKlxuICogSWYgbm8gcm91dGUgbWF0Y2hlcyBhIGdpdmVuIGEgcmVxdWVzdCwgdGhlIFJvdXRlciB3aWxsIHVzZSBhIFwiZGVmYXVsdFwiXG4gKiBoYW5kbGVyIGlmIG9uZSBpcyBkZWZpbmVkLlxuICpcbiAqIFNob3VsZCB0aGUgbWF0Y2hpbmcgUm91dGUgdGhyb3cgYW4gZXJyb3IsIHRoZSBSb3V0ZXIgd2lsbCB1c2UgYSBcImNhdGNoXCJcbiAqIGhhbmRsZXIgaWYgb25lIGlzIGRlZmluZWQgdG8gZ3JhY2VmdWxseSBkZWFsIHdpdGggaXNzdWVzIGFuZCByZXNwb25kIHdpdGggYVxuICogUmVxdWVzdC5cbiAqXG4gKiBJZiBhIHJlcXVlc3QgbWF0Y2hlcyBtdWx0aXBsZSByb3V0ZXMsIHRoZSAqKmVhcmxpZXN0KiogcmVnaXN0ZXJlZCByb3V0ZSB3aWxsXG4gKiBiZSB1c2VkIHRvIHJlc3BvbmQgdG8gdGhlIHJlcXVlc3QuXG4gKlxuICogQG1lbWJlcm9mIHdvcmtib3gtcm91dGluZ1xuICovXG5jbGFzcyBSb3V0ZXIge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGEgbmV3IFJvdXRlci5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcm91dGVzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9kZWZhdWx0SGFuZGxlck1hcCA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybiB7TWFwPHN0cmluZywgQXJyYXk8d29ya2JveC1yb3V0aW5nLlJvdXRlPj59IHJvdXRlcyBBIGBNYXBgIG9mIEhUVFBcbiAgICAgKiBtZXRob2QgbmFtZSAoJ0dFVCcsIGV0Yy4pIHRvIGFuIGFycmF5IG9mIGFsbCB0aGUgY29ycmVzcG9uZGluZyBgUm91dGVgXG4gICAgICogaW5zdGFuY2VzIHRoYXQgYXJlIHJlZ2lzdGVyZWQuXG4gICAgICovXG4gICAgZ2V0IHJvdXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdXRlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGZldGNoIGV2ZW50IGxpc3RlbmVyIHRvIHJlc3BvbmQgdG8gZXZlbnRzIHdoZW4gYSByb3V0ZSBtYXRjaGVzXG4gICAgICogdGhlIGV2ZW50J3MgcmVxdWVzdC5cbiAgICAgKi9cbiAgICBhZGRGZXRjaExpc3RlbmVyKCkge1xuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL01pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy8yODM1NyNpc3N1ZWNvbW1lbnQtNDM2NDg0NzA1XG4gICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignZmV0Y2gnLCAoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB7IHJlcXVlc3QgfSA9IGV2ZW50O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VQcm9taXNlID0gdGhpcy5oYW5kbGVSZXF1ZXN0KHsgcmVxdWVzdCwgZXZlbnQgfSk7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucmVzcG9uZFdpdGgocmVzcG9uc2VQcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbWVzc2FnZSBldmVudCBsaXN0ZW5lciBmb3IgVVJMcyB0byBjYWNoZSBmcm9tIHRoZSB3aW5kb3cuXG4gICAgICogVGhpcyBpcyB1c2VmdWwgdG8gY2FjaGUgcmVzb3VyY2VzIGxvYWRlZCBvbiB0aGUgcGFnZSBwcmlvciB0byB3aGVuIHRoZVxuICAgICAqIHNlcnZpY2Ugd29ya2VyIHN0YXJ0ZWQgY29udHJvbGxpbmcgaXQuXG4gICAgICpcbiAgICAgKiBUaGUgZm9ybWF0IG9mIHRoZSBtZXNzYWdlIGRhdGEgc2VudCBmcm9tIHRoZSB3aW5kb3cgc2hvdWxkIGJlIGFzIGZvbGxvd3MuXG4gICAgICogV2hlcmUgdGhlIGB1cmxzVG9DYWNoZWAgYXJyYXkgbWF5IGNvbnNpc3Qgb2YgVVJMIHN0cmluZ3Mgb3IgYW4gYXJyYXkgb2ZcbiAgICAgKiBVUkwgc3RyaW5nICsgYHJlcXVlc3RJbml0YCBvYmplY3QgKHRoZSBzYW1lIGFzIHlvdSdkIHBhc3MgdG8gYGZldGNoKClgKS5cbiAgICAgKlxuICAgICAqIGBgYFxuICAgICAqIHtcbiAgICAgKiAgIHR5cGU6ICdDQUNIRV9VUkxTJyxcbiAgICAgKiAgIHBheWxvYWQ6IHtcbiAgICAgKiAgICAgdXJsc1RvQ2FjaGU6IFtcbiAgICAgKiAgICAgICAnLi9zY3JpcHQxLmpzJyxcbiAgICAgKiAgICAgICAnLi9zY3JpcHQyLmpzJyxcbiAgICAgKiAgICAgICBbJy4vc2NyaXB0My5qcycsIHttb2RlOiAnbm8tY29ycyd9XSxcbiAgICAgKiAgICAgXSxcbiAgICAgKiAgIH0sXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGFkZENhY2hlTGlzdGVuZXIoKSB7XG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzI4MzU3I2lzc3VlY29tbWVudC00MzY0ODQ3MDVcbiAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgKChldmVudCkgPT4ge1xuICAgICAgICAgICAgLy8gZXZlbnQuZGF0YSBpcyB0eXBlICdhbnknXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLnR5cGUgPT09ICdDQUNIRV9VUkxTJykge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICBjb25zdCB7IHBheWxvYWQgfSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBDYWNoaW5nIFVSTHMgZnJvbSB0aGUgd2luZG93YCwgcGF5bG9hZC51cmxzVG9DYWNoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RQcm9taXNlcyA9IFByb21pc2UuYWxsKHBheWxvYWQudXJsc1RvQ2FjaGUubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVudHJ5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkgPSBbZW50cnldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgUmVxdWVzdCguLi5lbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmhhbmRsZVJlcXVlc3QoeyByZXF1ZXN0LCBldmVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhwaGlsaXB3YWx0b24pOiBUeXBlU2NyaXB0IGVycm9ycyB3aXRob3V0IHRoaXMgdHlwZWNhc3QgZm9yXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvbWUgcmVhc29uIChwcm9iYWJseSBhIGJ1ZykuIFRoZSByZWFsIHR5cGUgaGVyZSBzaG91bGQgd29yayBidXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZG9lc24ndDogYEFycmF5PFByb21pc2U8UmVzcG9uc2U+IHwgdW5kZWZpbmVkPmAuXG4gICAgICAgICAgICAgICAgfSkpOyAvLyBUeXBlU2NyaXB0XG4gICAgICAgICAgICAgICAgZXZlbnQud2FpdFVudGlsKHJlcXVlc3RQcm9taXNlcyk7XG4gICAgICAgICAgICAgICAgLy8gSWYgYSBNZXNzYWdlQ2hhbm5lbCB3YXMgdXNlZCwgcmVwbHkgdG8gdGhlIG1lc3NhZ2Ugb24gc3VjY2Vzcy5cbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQucG9ydHMgJiYgZXZlbnQucG9ydHNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCByZXF1ZXN0UHJvbWlzZXMudGhlbigoKSA9PiBldmVudC5wb3J0c1swXS5wb3N0TWVzc2FnZSh0cnVlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGx5IHRoZSByb3V0aW5nIHJ1bGVzIHRvIGEgRmV0Y2hFdmVudCBvYmplY3QgdG8gZ2V0IGEgUmVzcG9uc2UgZnJvbSBhblxuICAgICAqIGFwcHJvcHJpYXRlIFJvdXRlJ3MgaGFuZGxlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAgICogQHBhcmFtIHtSZXF1ZXN0fSBvcHRpb25zLnJlcXVlc3QgVGhlIHJlcXVlc3QgdG8gaGFuZGxlLlxuICAgICAqIEBwYXJhbSB7RXh0ZW5kYWJsZUV2ZW50fSBvcHRpb25zLmV2ZW50IFRoZSBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGVcbiAgICAgKiAgICAgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFJlc3BvbnNlPnx1bmRlZmluZWR9IEEgcHJvbWlzZSBpcyByZXR1cm5lZCBpZiBhXG4gICAgICogICAgIHJlZ2lzdGVyZWQgcm91dGUgY2FuIGhhbmRsZSB0aGUgcmVxdWVzdC4gSWYgdGhlcmUgaXMgbm8gbWF0Y2hpbmdcbiAgICAgKiAgICAgcm91dGUgYW5kIHRoZXJlJ3Mgbm8gYGRlZmF1bHRIYW5kbGVyYCwgYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICovXG4gICAgaGFuZGxlUmVxdWVzdCh7IHJlcXVlc3QsIGV2ZW50LCB9KSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBhc3NlcnQuaXNJbnN0YW5jZShyZXF1ZXN0LCBSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogJ3dvcmtib3gtcm91dGluZycsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnUm91dGVyJyxcbiAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2hhbmRsZVJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ29wdGlvbnMucmVxdWVzdCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsLCBsb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgaWYgKCF1cmwucHJvdG9jb2wuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgV29ya2JveCBSb3V0ZXIgb25seSBzdXBwb3J0cyBVUkxzIHRoYXQgc3RhcnQgd2l0aCAnaHR0cCcuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FtZU9yaWdpbiA9IHVybC5vcmlnaW4gPT09IGxvY2F0aW9uLm9yaWdpbjtcbiAgICAgICAgY29uc3QgeyBwYXJhbXMsIHJvdXRlIH0gPSB0aGlzLmZpbmRNYXRjaGluZ1JvdXRlKHtcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHNhbWVPcmlnaW4sXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgaGFuZGxlciA9IHJvdXRlICYmIHJvdXRlLmhhbmRsZXI7XG4gICAgICAgIGNvbnN0IGRlYnVnTWVzc2FnZXMgPSBbXTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZGVidWdNZXNzYWdlcy5wdXNoKFtgRm91bmQgYSByb3V0ZSB0byBoYW5kbGUgdGhpcyByZXF1ZXN0OmAsIHJvdXRlXSk7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcykge1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z01lc3NhZ2VzLnB1c2goW1xuICAgICAgICAgICAgICAgICAgICAgICAgYFBhc3NpbmcgdGhlIGZvbGxvd2luZyBwYXJhbXMgdG8gdGhlIHJvdXRlJ3MgaGFuZGxlcjpgLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIGhhbmRsZXIgYmVjYXVzZSB0aGVyZSB3YXMgbm8gbWF0Y2hpbmcgcm91dGUsIHRoZW5cbiAgICAgICAgLy8gZmFsbCBiYWNrIHRvIGRlZmF1bHRIYW5kbGVyIGlmIHRoYXQncyBkZWZpbmVkLlxuICAgICAgICBjb25zdCBtZXRob2QgPSByZXF1ZXN0Lm1ldGhvZDtcbiAgICAgICAgaWYgKCFoYW5kbGVyICYmIHRoaXMuX2RlZmF1bHRIYW5kbGVyTWFwLmhhcyhtZXRob2QpKSB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGRlYnVnTWVzc2FnZXMucHVzaChgRmFpbGVkIHRvIGZpbmQgYSBtYXRjaGluZyByb3V0ZS4gRmFsbGluZyBgICtcbiAgICAgICAgICAgICAgICAgICAgYGJhY2sgdG8gdGhlIGRlZmF1bHQgaGFuZGxlciBmb3IgJHttZXRob2R9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlciA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyTWFwLmdldChtZXRob2QpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICAvLyBObyBoYW5kbGVyIHNvIFdvcmtib3ggd2lsbCBkbyBub3RoaW5nLiBJZiBsb2dzIGlzIHNldCBvZiBkZWJ1Z1xuICAgICAgICAgICAgICAgIC8vIGkuZS4gdmVyYm9zZSwgd2Ugc2hvdWxkIHByaW50IG91dCB0aGlzIGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgTm8gcm91dGUgZm91bmQgZm9yOiAke2dldEZyaWVuZGx5VVJMKHVybCl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBoYW5kbGVyLCBtZWFuaW5nIFdvcmtib3ggaXMgZ29pbmcgdG8gaGFuZGxlIHRoZSByb3V0ZS5cbiAgICAgICAgICAgIC8vIHByaW50IHRoZSByb3V0aW5nIGRldGFpbHMgdG8gdGhlIGNvbnNvbGUuXG4gICAgICAgICAgICBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoYFJvdXRlciBpcyByZXNwb25kaW5nIHRvOiAke2dldEZyaWVuZGx5VVJMKHVybCl9YCk7XG4gICAgICAgICAgICBkZWJ1Z01lc3NhZ2VzLmZvckVhY2goKG1zZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1zZykpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyguLi5tc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmxvZyhtc2cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV3JhcCBpbiB0cnkgYW5kIGNhdGNoIGluIGNhc2UgdGhlIGhhbmRsZSBtZXRob2QgdGhyb3dzIGEgc3luY2hyb25vdXNcbiAgICAgICAgLy8gZXJyb3IuIEl0IHNob3VsZCBzdGlsbCBjYWxsYmFjayB0byB0aGUgY2F0Y2ggaGFuZGxlci5cbiAgICAgICAgbGV0IHJlc3BvbnNlUHJvbWlzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZSA9IGhhbmRsZXIuaGFuZGxlKHsgdXJsLCByZXF1ZXN0LCBldmVudCwgcGFyYW1zIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlUHJvbWlzZSA9IFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2V0IHJvdXRlJ3MgY2F0Y2ggaGFuZGxlciwgaWYgaXQgZXhpc3RzXG4gICAgICAgIGNvbnN0IGNhdGNoSGFuZGxlciA9IHJvdXRlICYmIHJvdXRlLmNhdGNoSGFuZGxlcjtcbiAgICAgICAgaWYgKHJlc3BvbnNlUHJvbWlzZSBpbnN0YW5jZW9mIFByb21pc2UgJiZcbiAgICAgICAgICAgICh0aGlzLl9jYXRjaEhhbmRsZXIgfHwgY2F0Y2hIYW5kbGVyKSkge1xuICAgICAgICAgICAgcmVzcG9uc2VQcm9taXNlID0gcmVzcG9uc2VQcm9taXNlLmNhdGNoKGFzeW5jIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIGEgcm91dGUgY2F0Y2ggaGFuZGxlciwgcHJvY2VzcyB0aGF0IGZpcnN0XG4gICAgICAgICAgICAgICAgaWYgKGNhdGNoSGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RpbGwgaW5jbHVkZSBVUkwgaGVyZSBhcyBpdCB3aWxsIGJlIGFzeW5jIGZyb20gdGhlIGNvbnNvbGUgZ3JvdXBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBtYXkgbm90IG1ha2Ugc2Vuc2Ugd2l0aG91dCB0aGUgVVJMXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQoYEVycm9yIHRocm93biB3aGVuIHJlc3BvbmRpbmcgdG86IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAgJHtnZXRGcmllbmRseVVSTCh1cmwpfS4gRmFsbGluZyBiYWNrIHRvIHJvdXRlJ3MgQ2F0Y2ggSGFuZGxlci5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgRXJyb3IgdGhyb3duIGJ5OmAsIHJvdXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBjYXRjaEhhbmRsZXIuaGFuZGxlKHsgdXJsLCByZXF1ZXN0LCBldmVudCwgcGFyYW1zIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChjYXRjaEVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhdGNoRXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnIgPSBjYXRjaEVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2F0Y2hIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdGlsbCBpbmNsdWRlIFVSTCBoZXJlIGFzIGl0IHdpbGwgYmUgYXN5bmMgZnJvbSB0aGUgY29uc29sZSBncm91cFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIG1heSBub3QgbWFrZSBzZW5zZSB3aXRob3V0IHRoZSBVUkxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5ncm91cENvbGxhcHNlZChgRXJyb3IgdGhyb3duIHdoZW4gcmVzcG9uZGluZyB0bzogYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCAke2dldEZyaWVuZGx5VVJMKHVybCl9LiBGYWxsaW5nIGJhY2sgdG8gZ2xvYmFsIENhdGNoIEhhbmRsZXIuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYEVycm9yIHRocm93biBieTpgLCByb3V0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5ncm91cEVuZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYXRjaEhhbmRsZXIuaGFuZGxlKHsgdXJsLCByZXF1ZXN0LCBldmVudCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlUHJvbWlzZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGEgcmVxdWVzdCBhbmQgVVJMIChhbmQgb3B0aW9uYWxseSBhbiBldmVudCkgYWdhaW5zdCB0aGUgbGlzdCBvZlxuICAgICAqIHJlZ2lzdGVyZWQgcm91dGVzLCBhbmQgaWYgdGhlcmUncyBhIG1hdGNoLCByZXR1cm5zIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogcm91dGUgYWxvbmcgd2l0aCBhbnkgcGFyYW1zIGdlbmVyYXRlZCBieSB0aGUgbWF0Y2guXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgICAqIEBwYXJhbSB7VVJMfSBvcHRpb25zLnVybFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0aW9ucy5zYW1lT3JpZ2luIFRoZSByZXN1bHQgb2YgY29tcGFyaW5nIGB1cmwub3JpZ2luYFxuICAgICAqICAgICBhZ2FpbnN0IHRoZSBjdXJyZW50IG9yaWdpbi5cbiAgICAgKiBAcGFyYW0ge1JlcXVlc3R9IG9wdGlvbnMucmVxdWVzdCBUaGUgcmVxdWVzdCB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBvcHRpb25zLmV2ZW50IFRoZSBjb3JyZXNwb25kaW5nIGV2ZW50LlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gQW4gb2JqZWN0IHdpdGggYHJvdXRlYCBhbmQgYHBhcmFtc2AgcHJvcGVydGllcy5cbiAgICAgKiAgICAgVGhleSBhcmUgcG9wdWxhdGVkIGlmIGEgbWF0Y2hpbmcgcm91dGUgd2FzIGZvdW5kIG9yIGB1bmRlZmluZWRgXG4gICAgICogICAgIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBmaW5kTWF0Y2hpbmdSb3V0ZSh7IHVybCwgc2FtZU9yaWdpbiwgcmVxdWVzdCwgZXZlbnQsIH0pIHtcbiAgICAgICAgY29uc3Qgcm91dGVzID0gdGhpcy5fcm91dGVzLmdldChyZXF1ZXN0Lm1ldGhvZCkgfHwgW107XG4gICAgICAgIGZvciAoY29uc3Qgcm91dGUgb2Ygcm91dGVzKSB7XG4gICAgICAgICAgICBsZXQgcGFyYW1zO1xuICAgICAgICAgICAgLy8gcm91dGUubWF0Y2ggcmV0dXJucyB0eXBlIGFueSwgbm90IHBvc3NpYmxlIHRvIGNoYW5nZSByaWdodCBub3cuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG4gICAgICAgICAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHJvdXRlLm1hdGNoKHsgdXJsLCBzYW1lT3JpZ2luLCByZXF1ZXN0LCBldmVudCB9KTtcbiAgICAgICAgICAgIGlmIChtYXRjaFJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdhcm4gZGV2ZWxvcGVycyB0aGF0IHVzaW5nIGFuIGFzeW5jIG1hdGNoQ2FsbGJhY2sgaXMgYWxtb3N0IGFsd2F5c1xuICAgICAgICAgICAgICAgICAgICAvLyBub3QgdGhlIHJpZ2h0IHRoaW5nIHRvIGRvLlxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihgV2hpbGUgcm91dGluZyAke2dldEZyaWVuZGx5VVJMKHVybCl9LCBhbiBhc3luYyBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgbWF0Y2hDYWxsYmFjayBmdW5jdGlvbiB3YXMgdXNlZC4gUGxlYXNlIGNvbnZlcnQgdGhlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBmb2xsb3dpbmcgcm91dGUgdG8gdXNlIGEgc3luY2hyb25vdXMgbWF0Y2hDYWxsYmFjayBmdW5jdGlvbjpgLCByb3V0ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvd29ya2JveC9pc3N1ZXMvMjA3OVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSBtYXRjaFJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJhbXMpICYmIHBhcmFtcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW5zdGVhZCBvZiBwYXNzaW5nIGFuIGVtcHR5IGFycmF5IGluIGFzIHBhcmFtcywgdXNlIHVuZGVmaW5lZC5cbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChtYXRjaFJlc3VsdC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmIC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMobWF0Y2hSZXN1bHQpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJbnN0ZWFkIG9mIHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGluIGFzIHBhcmFtcywgdXNlIHVuZGVmaW5lZC5cbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbWF0Y2hSZXN1bHQgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgdGhlIGJvb2xlYW4gdmFsdWUgdHJ1ZSAocmF0aGVyIHRoYW4ganVzdCBzb21ldGhpbmcgdHJ1dGgteSksXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IHNldCBwYXJhbXMuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dvcmtib3gvcHVsbC8yMTM0I2lzc3VlY29tbWVudC01MTM5MjQzNTNcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZWFybHkgaWYgaGF2ZSBhIG1hdGNoLlxuICAgICAgICAgICAgICAgIHJldHVybiB7IHJvdXRlLCBwYXJhbXMgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBubyBtYXRjaCB3YXMgZm91bmQgYWJvdmUsIHJldHVybiBhbmQgZW1wdHkgb2JqZWN0LlxuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlZmluZSBhIGRlZmF1bHQgYGhhbmRsZXJgIHRoYXQncyBjYWxsZWQgd2hlbiBubyByb3V0ZXMgZXhwbGljaXRseVxuICAgICAqIG1hdGNoIHRoZSBpbmNvbWluZyByZXF1ZXN0LlxuICAgICAqXG4gICAgICogRWFjaCBIVFRQIG1ldGhvZCAoJ0dFVCcsICdQT1NUJywgZXRjLikgZ2V0cyBpdHMgb3duIGRlZmF1bHQgaGFuZGxlci5cbiAgICAgKlxuICAgICAqIFdpdGhvdXQgYSBkZWZhdWx0IGhhbmRsZXIsIHVubWF0Y2hlZCByZXF1ZXN0cyB3aWxsIGdvIGFnYWluc3QgdGhlXG4gICAgICogbmV0d29yayBhcyBpZiB0aGVyZSB3ZXJlIG5vIHNlcnZpY2Ugd29ya2VyIHByZXNlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3dvcmtib3gtcm91dGluZ35oYW5kbGVyQ2FsbGJhY2t9IGhhbmRsZXIgQSBjYWxsYmFja1xuICAgICAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFByb21pc2UgcmVzdWx0aW5nIGluIGEgUmVzcG9uc2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFttZXRob2Q9J0dFVCddIFRoZSBIVFRQIG1ldGhvZCB0byBhc3NvY2lhdGUgd2l0aCB0aGlzXG4gICAgICogZGVmYXVsdCBoYW5kbGVyLiBFYWNoIG1ldGhvZCBoYXMgaXRzIG93biBkZWZhdWx0LlxuICAgICAqL1xuICAgIHNldERlZmF1bHRIYW5kbGVyKGhhbmRsZXIsIG1ldGhvZCA9IGRlZmF1bHRNZXRob2QpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJNYXAuc2V0KG1ldGhvZCwgbm9ybWFsaXplSGFuZGxlcihoYW5kbGVyKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIGEgUm91dGUgdGhyb3dzIGFuIGVycm9yIHdoaWxlIGhhbmRsaW5nIGEgcmVxdWVzdCwgdGhpcyBgaGFuZGxlcmBcbiAgICAgKiB3aWxsIGJlIGNhbGxlZCBhbmQgZ2l2ZW4gYSBjaGFuY2UgdG8gcHJvdmlkZSBhIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHt3b3JrYm94LXJvdXRpbmd+aGFuZGxlckNhbGxiYWNrfSBoYW5kbGVyIEEgY2FsbGJhY2tcbiAgICAgKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBQcm9taXNlIHJlc3VsdGluZyBpbiBhIFJlc3BvbnNlLlxuICAgICAqL1xuICAgIHNldENhdGNoSGFuZGxlcihoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuX2NhdGNoSGFuZGxlciA9IG5vcm1hbGl6ZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIHJvdXRlIHdpdGggdGhlIHJvdXRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d29ya2JveC1yb3V0aW5nLlJvdXRlfSByb3V0ZSBUaGUgcm91dGUgdG8gcmVnaXN0ZXIuXG4gICAgICovXG4gICAgcmVnaXN0ZXJSb3V0ZShyb3V0ZSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgYXNzZXJ0LmlzVHlwZShyb3V0ZSwgJ29iamVjdCcsIHtcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiAnd29ya2JveC1yb3V0aW5nJyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdSb3V0ZXInLFxuICAgICAgICAgICAgICAgIGZ1bmNOYW1lOiAncmVnaXN0ZXJSb3V0ZScsXG4gICAgICAgICAgICAgICAgcGFyYW1OYW1lOiAncm91dGUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhc3NlcnQuaGFzTWV0aG9kKHJvdXRlLCAnbWF0Y2gnLCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogJ3dvcmtib3gtcm91dGluZycsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnUm91dGVyJyxcbiAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ3JlZ2lzdGVyUm91dGUnLFxuICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ3JvdXRlJyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYXNzZXJ0LmlzVHlwZShyb3V0ZS5oYW5kbGVyLCAnb2JqZWN0Jywge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LXJvdXRpbmcnLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ1JvdXRlcicsXG4gICAgICAgICAgICAgICAgZnVuY05hbWU6ICdyZWdpc3RlclJvdXRlJyxcbiAgICAgICAgICAgICAgICBwYXJhbU5hbWU6ICdyb3V0ZScsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFzc2VydC5oYXNNZXRob2Qocm91dGUuaGFuZGxlciwgJ2hhbmRsZScsIHtcbiAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiAnd29ya2JveC1yb3V0aW5nJyxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdSb3V0ZXInLFxuICAgICAgICAgICAgICAgIGZ1bmNOYW1lOiAncmVnaXN0ZXJSb3V0ZScsXG4gICAgICAgICAgICAgICAgcGFyYW1OYW1lOiAncm91dGUuaGFuZGxlcicsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGFzc2VydC5pc1R5cGUocm91dGUubWV0aG9kLCAnc3RyaW5nJywge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LXJvdXRpbmcnLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ1JvdXRlcicsXG4gICAgICAgICAgICAgICAgZnVuY05hbWU6ICdyZWdpc3RlclJvdXRlJyxcbiAgICAgICAgICAgICAgICBwYXJhbU5hbWU6ICdyb3V0ZS5tZXRob2QnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLl9yb3V0ZXMuaGFzKHJvdXRlLm1ldGhvZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdXRlcy5zZXQocm91dGUubWV0aG9kLCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gR2l2ZSBwcmVjZWRlbmNlIHRvIGFsbCBvZiB0aGUgZWFybGllciByb3V0ZXMgYnkgYWRkaW5nIHRoaXMgYWRkaXRpb25hbFxuICAgICAgICAvLyByb3V0ZSB0byB0aGUgZW5kIG9mIHRoZSBhcnJheS5cbiAgICAgICAgdGhpcy5fcm91dGVzLmdldChyb3V0ZS5tZXRob2QpLnB1c2gocm91dGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyBhIHJvdXRlIHdpdGggdGhlIHJvdXRlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7d29ya2JveC1yb3V0aW5nLlJvdXRlfSByb3V0ZSBUaGUgcm91dGUgdG8gdW5yZWdpc3Rlci5cbiAgICAgKi9cbiAgICB1bnJlZ2lzdGVyUm91dGUocm91dGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9yb3V0ZXMuaGFzKHJvdXRlLm1ldGhvZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JrYm94RXJyb3IoJ3VucmVnaXN0ZXItcm91dGUtYnV0LW5vdC1mb3VuZC13aXRoLW1ldGhvZCcsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6IHJvdXRlLm1ldGhvZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvdXRlSW5kZXggPSB0aGlzLl9yb3V0ZXMuZ2V0KHJvdXRlLm1ldGhvZCkuaW5kZXhPZihyb3V0ZSk7XG4gICAgICAgIGlmIChyb3V0ZUluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX3JvdXRlcy5nZXQocm91dGUubWV0aG9kKS5zcGxpY2Uocm91dGVJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ya2JveEVycm9yKCd1bnJlZ2lzdGVyLXJvdXRlLXJvdXRlLW5vdC1yZWdpc3RlcmVkJyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBSb3V0ZXIgfTtcbiIsIi8qXG4gIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcblxuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJy4uL1JvdXRlci5qcyc7XG5pbXBvcnQgJy4uL192ZXJzaW9uLmpzJztcbmxldCBkZWZhdWx0Um91dGVyO1xuLyoqXG4gKiBDcmVhdGVzIGEgbmV3LCBzaW5nbGV0b24gUm91dGVyIGluc3RhbmNlIGlmIG9uZSBkb2VzIG5vdCBleGlzdC4gSWYgb25lXG4gKiBkb2VzIGFscmVhZHkgZXhpc3QsIHRoYXQgaW5zdGFuY2UgaXMgcmV0dXJuZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge1JvdXRlcn1cbiAqL1xuZXhwb3J0IGNvbnN0IGdldE9yQ3JlYXRlRGVmYXVsdFJvdXRlciA9ICgpID0+IHtcbiAgICBpZiAoIWRlZmF1bHRSb3V0ZXIpIHtcbiAgICAgICAgZGVmYXVsdFJvdXRlciA9IG5ldyBSb3V0ZXIoKTtcbiAgICAgICAgLy8gVGhlIGhlbHBlcnMgdGhhdCB1c2UgdGhlIGRlZmF1bHQgUm91dGVyIGFzc3VtZSB0aGVzZSBsaXN0ZW5lcnMgZXhpc3QuXG4gICAgICAgIGRlZmF1bHRSb3V0ZXIuYWRkRmV0Y2hMaXN0ZW5lcigpO1xuICAgICAgICBkZWZhdWx0Um91dGVyLmFkZENhY2hlTGlzdGVuZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmF1bHRSb3V0ZXI7XG59O1xuIiwiY29uc3QgaW5zdGFuY2VPZkFueSA9IChvYmplY3QsIGNvbnN0cnVjdG9ycykgPT4gY29uc3RydWN0b3JzLnNvbWUoKGMpID0+IG9iamVjdCBpbnN0YW5jZW9mIGMpO1xuXG5sZXQgaWRiUHJveHlhYmxlVHlwZXM7XG5sZXQgY3Vyc29yQWR2YW5jZU1ldGhvZHM7XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldElkYlByb3h5YWJsZVR5cGVzKCkge1xuICAgIHJldHVybiAoaWRiUHJveHlhYmxlVHlwZXMgfHxcbiAgICAgICAgKGlkYlByb3h5YWJsZVR5cGVzID0gW1xuICAgICAgICAgICAgSURCRGF0YWJhc2UsXG4gICAgICAgICAgICBJREJPYmplY3RTdG9yZSxcbiAgICAgICAgICAgIElEQkluZGV4LFxuICAgICAgICAgICAgSURCQ3Vyc29yLFxuICAgICAgICAgICAgSURCVHJhbnNhY3Rpb24sXG4gICAgICAgIF0pKTtcbn1cbi8vIFRoaXMgaXMgYSBmdW5jdGlvbiB0byBwcmV2ZW50IGl0IHRocm93aW5nIHVwIGluIG5vZGUgZW52aXJvbm1lbnRzLlxuZnVuY3Rpb24gZ2V0Q3Vyc29yQWR2YW5jZU1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIChjdXJzb3JBZHZhbmNlTWV0aG9kcyB8fFxuICAgICAgICAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgPSBbXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmFkdmFuY2UsXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZVByaW1hcnlLZXksXG4gICAgICAgIF0pKTtcbn1cbmNvbnN0IGN1cnNvclJlcXVlc3RNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNhY3Rpb25Eb25lTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2Zvcm1DYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdW5saXN0ZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHdyYXAocmVxdWVzdC5yZXN1bHQpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgfSk7XG4gICAgcHJvbWlzZVxuICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgLy8gU2luY2UgY3Vyc29yaW5nIHJldXNlcyB0aGUgSURCUmVxdWVzdCAoKnNpZ2gqKSwgd2UgY2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyAoc2VlIHdyYXBGdW5jdGlvbikuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQkN1cnNvcikge1xuICAgICAgICAgICAgY3Vyc29yUmVxdWVzdE1hcC5zZXQodmFsdWUsIHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhdGNoaW5nIHRvIGF2b2lkIFwiVW5jYXVnaHQgUHJvbWlzZSBleGNlcHRpb25zXCJcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAvLyBUaGlzIG1hcHBpbmcgZXhpc3RzIGluIHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBidXQgZG9lc24ndCBkb2Vzbid0IGV4aXN0IGluIHRyYW5zZm9ybUNhY2hlLiBUaGlzXG4gICAgLy8gaXMgYmVjYXVzZSB3ZSBjcmVhdGUgbWFueSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QuXG4gICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChwcm9taXNlLCByZXF1ZXN0KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbih0eCkge1xuICAgIC8vIEVhcmx5IGJhaWwgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIGEgZG9uZSBwcm9taXNlIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgIGlmICh0cmFuc2FjdGlvbkRvbmVNYXAuaGFzKHR4KSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRvbmUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHR4LmVycm9yIHx8IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0RXJyb3InLCAnQWJvcnRFcnJvcicpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlcnJvcik7XG4gICAgfSk7XG4gICAgLy8gQ2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbC5cbiAgICB0cmFuc2FjdGlvbkRvbmVNYXAuc2V0KHR4LCBkb25lKTtcbn1cbmxldCBpZGJQcm94eVRyYXBzID0ge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgdHJhbnNhY3Rpb24uZG9uZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnZG9uZScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRG9uZU1hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIFBvbHlmaWxsIGZvciBvYmplY3RTdG9yZU5hbWVzIGJlY2F1c2Ugb2YgRWRnZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnb2JqZWN0U3RvcmVOYW1lcycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm9iamVjdFN0b3JlTmFtZXMgfHwgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSB0eC5zdG9yZSByZXR1cm4gdGhlIG9ubHkgc3RvcmUgaW4gdGhlIHRyYW5zYWN0aW9uLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG1hbnkuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3N0b3JlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5vYmplY3RTdG9yZU5hbWVzWzFdXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogcmVjZWl2ZXIub2JqZWN0U3RvcmUocmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWxzZSB0cmFuc2Zvcm0gd2hhdGV2ZXIgd2UgZ2V0IGJhY2suXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldFtwcm9wXSk7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBoYXModGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgICAgKHByb3AgPT09ICdkb25lJyB8fCBwcm9wID09PSAnc3RvcmUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0O1xuICAgIH0sXG59O1xuZnVuY3Rpb24gcmVwbGFjZVRyYXBzKGNhbGxiYWNrKSB7XG4gICAgaWRiUHJveHlUcmFwcyA9IGNhbGxiYWNrKGlkYlByb3h5VHJhcHMpO1xufVxuZnVuY3Rpb24gd3JhcEZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAvLyBEdWUgdG8gZXhwZWN0ZWQgb2JqZWN0IGVxdWFsaXR5ICh3aGljaCBpcyBlbmZvcmNlZCBieSB0aGUgY2FjaGluZyBpbiBgd3JhcGApLCB3ZVxuICAgIC8vIG9ubHkgY3JlYXRlIG9uZSBuZXcgZnVuYyBwZXIgZnVuYy5cbiAgICAvLyBFZGdlIGRvZXNuJ3Qgc3VwcG9ydCBvYmplY3RTdG9yZU5hbWVzIChib29vKSwgc28gd2UgcG9seWZpbGwgaXQgaGVyZS5cbiAgICBpZiAoZnVuYyA9PT0gSURCRGF0YWJhc2UucHJvdG90eXBlLnRyYW5zYWN0aW9uICYmXG4gICAgICAgICEoJ29iamVjdFN0b3JlTmFtZXMnIGluIElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZU5hbWVzLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCB0eCA9IGZ1bmMuY2FsbCh1bndyYXAodGhpcyksIHN0b3JlTmFtZXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLnNldCh0eCwgc3RvcmVOYW1lcy5zb3J0ID8gc3RvcmVOYW1lcy5zb3J0KCkgOiBbc3RvcmVOYW1lc10pO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAodHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDdXJzb3IgbWV0aG9kcyBhcmUgc3BlY2lhbCwgYXMgdGhlIGJlaGF2aW91ciBpcyBhIGxpdHRsZSBtb3JlIGRpZmZlcmVudCB0byBzdGFuZGFyZCBJREIuIEluXG4gICAgLy8gSURCLCB5b3UgYWR2YW5jZSB0aGUgY3Vyc29yIGFuZCB3YWl0IGZvciBhIG5ldyAnc3VjY2Vzcycgb24gdGhlIElEQlJlcXVlc3QgdGhhdCBnYXZlIHlvdSB0aGVcbiAgICAvLyBjdXJzb3IuIEl0J3Mga2luZGEgbGlrZSBhIHByb21pc2UgdGhhdCBjYW4gcmVzb2x2ZSB3aXRoIG1hbnkgdmFsdWVzLiBUaGF0IGRvZXNuJ3QgbWFrZSBzZW5zZVxuICAgIC8vIHdpdGggcmVhbCBwcm9taXNlcywgc28gZWFjaCBhZHZhbmNlIG1ldGhvZHMgcmV0dXJucyBhIG5ldyBwcm9taXNlIGZvciB0aGUgY3Vyc29yIG9iamVjdCwgb3JcbiAgICAvLyB1bmRlZmluZWQgaWYgdGhlIGVuZCBvZiB0aGUgY3Vyc29yIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgaWYgKGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkuaW5jbHVkZXMoZnVuYykpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAvLyBDYWxsaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm94eSBhcyAndGhpcycgY2F1c2VzIElMTEVHQUwgSU5WT0NBVElPTiwgc28gd2UgdXNlXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICAgICAgZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAoY3Vyc29yUmVxdWVzdE1hcC5nZXQodGhpcykpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICByZXR1cm4gd3JhcChmdW5jLmFwcGx5KHVud3JhcCh0aGlzKSwgYXJncykpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHdyYXBGdW5jdGlvbih2YWx1ZSk7XG4gICAgLy8gVGhpcyBkb2Vzbid0IHJldHVybiwgaXQganVzdCBjcmVhdGVzIGEgJ2RvbmUnIHByb21pc2UgZm9yIHRoZSB0cmFuc2FjdGlvbixcbiAgICAvLyB3aGljaCBpcyBsYXRlciByZXR1cm5lZCBmb3IgdHJhbnNhY3Rpb24uZG9uZSAoc2VlIGlkYk9iamVjdEhhbmRsZXIpLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uKVxuICAgICAgICBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odmFsdWUpO1xuICAgIGlmIChpbnN0YW5jZU9mQW55KHZhbHVlLCBnZXRJZGJQcm94eWFibGVUeXBlcygpKSlcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgaWRiUHJveHlUcmFwcyk7XG4gICAgLy8gUmV0dXJuIHRoZSBzYW1lIHZhbHVlIGJhY2sgaWYgd2UncmUgbm90IGdvaW5nIHRvIHRyYW5zZm9ybSBpdC5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB3cmFwKHZhbHVlKSB7XG4gICAgLy8gV2Ugc29tZXRpbWVzIGdlbmVyYXRlIG11bHRpcGxlIHByb21pc2VzIGZyb20gYSBzaW5nbGUgSURCUmVxdWVzdCAoZWcgd2hlbiBjdXJzb3JpbmcpLCBiZWNhdXNlXG4gICAgLy8gSURCIGlzIHdlaXJkIGFuZCBhIHNpbmdsZSBJREJSZXF1ZXN0IGNhbiB5aWVsZCBtYW55IHJlc3BvbnNlcywgc28gdGhlc2UgY2FuJ3QgYmUgY2FjaGVkLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlJlcXVlc3QpXG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHZhbHVlKTtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHRyYW5zZm9ybWVkIHRoaXMgdmFsdWUgYmVmb3JlLCByZXVzZSB0aGUgdHJhbnNmb3JtZWQgdmFsdWUuXG4gICAgLy8gVGhpcyBpcyBmYXN0ZXIsIGJ1dCBpdCBhbHNvIHByb3ZpZGVzIG9iamVjdCBlcXVhbGl0eS5cbiAgICBpZiAodHJhbnNmb3JtQ2FjaGUuaGFzKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKTtcbiAgICAvLyBOb3QgYWxsIHR5cGVzIGFyZSB0cmFuc2Zvcm1lZC5cbiAgICAvLyBUaGVzZSBtYXkgYmUgcHJpbWl0aXZlIHR5cGVzLCBzbyB0aGV5IGNhbid0IGJlIFdlYWtNYXAga2V5cy5cbiAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHRyYW5zZm9ybUNhY2hlLnNldCh2YWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICByZXZlcnNlVHJhbnNmb3JtQ2FjaGUuc2V0KG5ld1ZhbHVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn1cbmNvbnN0IHVud3JhcCA9ICh2YWx1ZSkgPT4gcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG5cbmV4cG9ydCB7IHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBhcyBhLCBpbnN0YW5jZU9mQW55IGFzIGksIHJlcGxhY2VUcmFwcyBhcyByLCB1bndyYXAgYXMgdSwgd3JhcCBhcyB3IH07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvYXNzZXJ0LmpzJztcbmltcG9ydCB7IGNhY2hlTWF0Y2hJZ25vcmVQYXJhbXMgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvY2FjaGVNYXRjaElnbm9yZVBhcmFtcy5qcyc7XG5pbXBvcnQgeyBEZWZlcnJlZCB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9EZWZlcnJlZC5qcyc7XG5pbXBvcnQgeyBleGVjdXRlUXVvdGFFcnJvckNhbGxiYWNrcyB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9leGVjdXRlUXVvdGFFcnJvckNhbGxiYWNrcy5qcyc7XG5pbXBvcnQgeyBnZXRGcmllbmRseVVSTCB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9nZXRGcmllbmRseVVSTC5qcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvbG9nZ2VyLmpzJztcbmltcG9ydCB7IHRpbWVvdXQgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvdGltZW91dC5qcyc7XG5pbXBvcnQgeyBXb3JrYm94RXJyb3IgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvV29ya2JveEVycm9yLmpzJztcbmltcG9ydCAnLi9fdmVyc2lvbi5qcyc7XG5mdW5jdGlvbiB0b1JlcXVlc3QoaW5wdXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyA/IG5ldyBSZXF1ZXN0KGlucHV0KSA6IGlucHV0O1xufVxuLyoqXG4gKiBBIGNsYXNzIGNyZWF0ZWQgZXZlcnkgdGltZSBhIFN0cmF0ZWd5IGluc3RhbmNlIGluc3RhbmNlIGNhbGxzXG4gKiB7QGxpbmsgd29ya2JveC1zdHJhdGVnaWVzLlN0cmF0ZWd5fmhhbmRsZX0gb3JcbiAqIHtAbGluayB3b3JrYm94LXN0cmF0ZWdpZXMuU3RyYXRlZ3l+aGFuZGxlQWxsfSB0aGF0IHdyYXBzIGFsbCBmZXRjaCBhbmRcbiAqIGNhY2hlIGFjdGlvbnMgYXJvdW5kIHBsdWdpbiBjYWxsYmFja3MgYW5kIGtlZXBzIHRyYWNrIG9mIHdoZW4gdGhlIHN0cmF0ZWd5XG4gKiBpcyBcImRvbmVcIiAoaS5lLiBhbGwgYWRkZWQgYGV2ZW50LndhaXRVbnRpbCgpYCBwcm9taXNlcyBoYXZlIHJlc29sdmVkKS5cbiAqXG4gKiBAbWVtYmVyb2Ygd29ya2JveC1zdHJhdGVnaWVzXG4gKi9cbmNsYXNzIFN0cmF0ZWd5SGFuZGxlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBhc3NvY2lhdGVkIHdpdGggdGhlIHBhc3NlZCBzdHJhdGVneSBhbmQgZXZlbnRcbiAgICAgKiB0aGF0J3MgaGFuZGxpbmcgdGhlIHJlcXVlc3QuXG4gICAgICpcbiAgICAgKiBUaGUgY29uc3RydWN0b3IgYWxzbyBpbml0aWFsaXplcyB0aGUgc3RhdGUgdGhhdCB3aWxsIGJlIHBhc3NlZCB0byBlYWNoIG9mXG4gICAgICogdGhlIHBsdWdpbnMgaGFuZGxpbmcgdGhpcyByZXF1ZXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHt3b3JrYm94LXN0cmF0ZWdpZXMuU3RyYXRlZ3l9IHN0cmF0ZWd5XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcGFyYW0ge1JlcXVlc3R8c3RyaW5nfSBvcHRpb25zLnJlcXVlc3QgQSByZXF1ZXN0IHRvIHJ1biB0aGlzIHN0cmF0ZWd5IGZvci5cbiAgICAgKiBAcGFyYW0ge0V4dGVuZGFibGVFdmVudH0gb3B0aW9ucy5ldmVudCBUaGUgZXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgICAqICAgICByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7VVJMfSBbb3B0aW9ucy51cmxdXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9ucy5wYXJhbXNdIFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGVcbiAgICAgKiAgICAge0BsaW5rIHdvcmtib3gtcm91dGluZ35tYXRjaENhbGxiYWNrfSAoaWYgYXBwbGljYWJsZSkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc3RyYXRlZ3ksIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVLZXlzID0ge307XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcmVxdWVzdCB0aGUgc3RyYXRlZ3kgaXMgcGVyZm9ybWluZyAocGFzc2VkIHRvIHRoZSBzdHJhdGVneSdzXG4gICAgICAgICAqIGBoYW5kbGUoKWAgb3IgYGhhbmRsZUFsbCgpYCBtZXRob2QpLlxuICAgICAgICAgKiBAbmFtZSByZXF1ZXN0XG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7UmVxdWVzdH1cbiAgICAgICAgICogQG1lbWJlcm9mIHdvcmtib3gtc3RyYXRlZ2llcy5TdHJhdGVneUhhbmRsZXJcbiAgICAgICAgICovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgZXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoaXMgcmVxdWVzdC5cbiAgICAgICAgICogQG5hbWUgZXZlbnRcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEB0eXBlIHtFeHRlbmRhYmxlRXZlbnR9XG4gICAgICAgICAqIEBtZW1iZXJvZiB3b3JrYm94LXN0cmF0ZWdpZXMuU3RyYXRlZ3lIYW5kbGVyXG4gICAgICAgICAqL1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBgVVJMYCBpbnN0YW5jZSBvZiBgcmVxdWVzdC51cmxgIChpZiBwYXNzZWQgdG8gdGhlIHN0cmF0ZWd5J3NcbiAgICAgICAgICogYGhhbmRsZSgpYCBvciBgaGFuZGxlQWxsKClgIG1ldGhvZCkuXG4gICAgICAgICAqIE5vdGU6IHRoZSBgdXJsYCBwYXJhbSB3aWxsIGJlIHByZXNlbnQgaWYgdGhlIHN0cmF0ZWd5IHdhcyBpbnZva2VkXG4gICAgICAgICAqIGZyb20gYSB3b3JrYm94IGBSb3V0ZWAgb2JqZWN0LlxuICAgICAgICAgKiBAbmFtZSB1cmxcbiAgICAgICAgICogQGluc3RhbmNlXG4gICAgICAgICAqIEB0eXBlIHtVUkx8dW5kZWZpbmVkfVxuICAgICAgICAgKiBAbWVtYmVyb2Ygd29ya2JveC1zdHJhdGVnaWVzLlN0cmF0ZWd5SGFuZGxlclxuICAgICAgICAgKi9cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgYHBhcmFtYCB2YWx1ZSAoaWYgcGFzc2VkIHRvIHRoZSBzdHJhdGVneSdzXG4gICAgICAgICAqIGBoYW5kbGUoKWAgb3IgYGhhbmRsZUFsbCgpYCBtZXRob2QpLlxuICAgICAgICAgKiBOb3RlOiB0aGUgYHBhcmFtYCBwYXJhbSB3aWxsIGJlIHByZXNlbnQgaWYgdGhlIHN0cmF0ZWd5IHdhcyBpbnZva2VkXG4gICAgICAgICAqIGZyb20gYSB3b3JrYm94IGBSb3V0ZWAgb2JqZWN0IGFuZCB0aGVcbiAgICAgICAgICoge0BsaW5rIHdvcmtib3gtcm91dGluZ35tYXRjaENhbGxiYWNrfSByZXR1cm5lZFxuICAgICAgICAgKiBhIHRydXRoeSB2YWx1ZSAoaXQgd2lsbCBiZSB0aGF0IHZhbHVlKS5cbiAgICAgICAgICogQG5hbWUgcGFyYW1zXG4gICAgICAgICAqIEBpbnN0YW5jZVxuICAgICAgICAgKiBAdHlwZSB7Knx1bmRlZmluZWR9XG4gICAgICAgICAqIEBtZW1iZXJvZiB3b3JrYm94LXN0cmF0ZWdpZXMuU3RyYXRlZ3lIYW5kbGVyXG4gICAgICAgICAqL1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgYXNzZXJ0LmlzSW5zdGFuY2Uob3B0aW9ucy5ldmVudCwgRXh0ZW5kYWJsZUV2ZW50LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogJ3dvcmtib3gtc3RyYXRlZ2llcycsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnU3RyYXRlZ3lIYW5kbGVyJyxcbiAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICBwYXJhbU5hbWU6ICdvcHRpb25zLmV2ZW50JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdC5hc3NpZ24odGhpcywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZXZlbnQgPSBvcHRpb25zLmV2ZW50O1xuICAgICAgICB0aGlzLl9zdHJhdGVneSA9IHN0cmF0ZWd5O1xuICAgICAgICB0aGlzLl9oYW5kbGVyRGVmZXJyZWQgPSBuZXcgRGVmZXJyZWQoKTtcbiAgICAgICAgdGhpcy5fZXh0ZW5kTGlmZXRpbWVQcm9taXNlcyA9IFtdO1xuICAgICAgICAvLyBDb3B5IHRoZSBwbHVnaW5zIGxpc3QgKHNpbmNlIGl0J3MgbXV0YWJsZSBvbiB0aGUgc3RyYXRlZ3kpLFxuICAgICAgICAvLyBzbyBhbnkgbXV0YXRpb25zIGRvbid0IGFmZmVjdCB0aGlzIGhhbmRsZXIgaW5zdGFuY2UuXG4gICAgICAgIHRoaXMuX3BsdWdpbnMgPSBbLi4uc3RyYXRlZ3kucGx1Z2luc107XG4gICAgICAgIHRoaXMuX3BsdWdpblN0YXRlTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IHBsdWdpbiBvZiB0aGlzLl9wbHVnaW5zKSB7XG4gICAgICAgICAgICB0aGlzLl9wbHVnaW5TdGF0ZU1hcC5zZXQocGx1Z2luLCB7fSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ldmVudC53YWl0VW50aWwodGhpcy5faGFuZGxlckRlZmVycmVkLnByb21pc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGZXRjaGVzIGEgZ2l2ZW4gcmVxdWVzdCAoYW5kIGludm9rZXMgYW55IGFwcGxpY2FibGUgcGx1Z2luIGNhbGxiYWNrXG4gICAgICogbWV0aG9kcykgdXNpbmcgdGhlIGBmZXRjaE9wdGlvbnNgIChmb3Igbm9uLW5hdmlnYXRpb24gcmVxdWVzdHMpIGFuZFxuICAgICAqIGBwbHVnaW5zYCBkZWZpbmVkIG9uIHRoZSBgU3RyYXRlZ3lgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFRoZSBmb2xsb3dpbmcgcGx1Z2luIGxpZmVjeWNsZSBtZXRob2RzIGFyZSBpbnZva2VkIHdoZW4gdXNpbmcgdGhpcyBtZXRob2Q6XG4gICAgICogLSBgcmVxdWVzdFdpbGxGZXRjaCgpYFxuICAgICAqIC0gYGZldGNoRGlkU3VjY2VlZCgpYFxuICAgICAqIC0gYGZldGNoRGlkRmFpbCgpYFxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZXF1ZXN0fHN0cmluZ30gaW5wdXQgVGhlIFVSTCBvciByZXF1ZXN0IHRvIGZldGNoLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8UmVzcG9uc2U+fVxuICAgICAqL1xuICAgIGFzeW5jIGZldGNoKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgZXZlbnQgfSA9IHRoaXM7XG4gICAgICAgIGxldCByZXF1ZXN0ID0gdG9SZXF1ZXN0KGlucHV0KTtcbiAgICAgICAgaWYgKHJlcXVlc3QubW9kZSA9PT0gJ25hdmlnYXRlJyAmJlxuICAgICAgICAgICAgZXZlbnQgaW5zdGFuY2VvZiBGZXRjaEV2ZW50ICYmXG4gICAgICAgICAgICBldmVudC5wcmVsb2FkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc3NpYmxlUHJlbG9hZFJlc3BvbnNlID0gKGF3YWl0IGV2ZW50LnByZWxvYWRSZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAocG9zc2libGVQcmVsb2FkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBVc2luZyBhIHByZWxvYWRlZCBuYXZpZ2F0aW9uIHJlc3BvbnNlIGZvciBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAnJHtnZXRGcmllbmRseVVSTChyZXF1ZXN0LnVybCl9J2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zc2libGVQcmVsb2FkUmVzcG9uc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBmZXRjaERpZEZhaWwgcGx1Z2luLCB3ZSBuZWVkIHRvIHNhdmUgYSBjbG9uZSBvZiB0aGVcbiAgICAgICAgLy8gb3JpZ2luYWwgcmVxdWVzdCBiZWZvcmUgaXQncyBlaXRoZXIgbW9kaWZpZWQgYnkgYSByZXF1ZXN0V2lsbEZldGNoXG4gICAgICAgIC8vIHBsdWdpbiBvciBiZWZvcmUgdGhlIG9yaWdpbmFsIHJlcXVlc3QncyBib2R5IGlzIGNvbnN1bWVkIHZpYSBmZXRjaCgpLlxuICAgICAgICBjb25zdCBvcmlnaW5hbFJlcXVlc3QgPSB0aGlzLmhhc0NhbGxiYWNrKCdmZXRjaERpZEZhaWwnKVxuICAgICAgICAgICAgPyByZXF1ZXN0LmNsb25lKClcbiAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2Igb2YgdGhpcy5pdGVyYXRlQ2FsbGJhY2tzKCdyZXF1ZXN0V2lsbEZldGNoJykpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gYXdhaXQgY2IoeyByZXF1ZXN0OiByZXF1ZXN0LmNsb25lKCksIGV2ZW50IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JrYm94RXJyb3IoJ3BsdWdpbi1lcnJvci1yZXF1ZXN0LXdpbGwtZmV0Y2gnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93bkVycm9yTWVzc2FnZTogZXJyLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIHJlcXVlc3QgY2FuIGJlIGFsdGVyZWQgYnkgcGx1Z2lucyB3aXRoIGByZXF1ZXN0V2lsbEZldGNoYCBtYWtpbmdcbiAgICAgICAgLy8gdGhlIG9yaWdpbmFsIHJlcXVlc3QgKG1vc3QgbGlrZWx5IGZyb20gYSBgZmV0Y2hgIGV2ZW50KSBkaWZmZXJlbnRcbiAgICAgICAgLy8gZnJvbSB0aGUgUmVxdWVzdCB3ZSBtYWtlLiBQYXNzIGJvdGggdG8gYGZldGNoRGlkRmFpbGAgdG8gYWlkIGRlYnVnZ2luZy5cbiAgICAgICAgY29uc3QgcGx1Z2luRmlsdGVyZWRSZXF1ZXN0ID0gcmVxdWVzdC5jbG9uZSgpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IGZldGNoUmVzcG9uc2U7XG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93b3JrYm94L2lzc3Vlcy8xNzk2XG4gICAgICAgICAgICBmZXRjaFJlc3BvbnNlID0gYXdhaXQgZmV0Y2gocmVxdWVzdCwgcmVxdWVzdC5tb2RlID09PSAnbmF2aWdhdGUnID8gdW5kZWZpbmVkIDogdGhpcy5fc3RyYXRlZ3kuZmV0Y2hPcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBOZXR3b3JrIHJlcXVlc3QgZm9yIGAgK1xuICAgICAgICAgICAgICAgICAgICBgJyR7Z2V0RnJpZW5kbHlVUkwocmVxdWVzdC51cmwpfScgcmV0dXJuZWQgYSByZXNwb25zZSB3aXRoIGAgK1xuICAgICAgICAgICAgICAgICAgICBgc3RhdHVzICcke2ZldGNoUmVzcG9uc2Uuc3RhdHVzfScuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIHRoaXMuaXRlcmF0ZUNhbGxiYWNrcygnZmV0Y2hEaWRTdWNjZWVkJykpIHtcbiAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlID0gYXdhaXQgY2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogcGx1Z2luRmlsdGVyZWRSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogZmV0Y2hSZXNwb25zZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmZXRjaFJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBOZXR3b3JrIHJlcXVlc3QgZm9yIGAgK1xuICAgICAgICAgICAgICAgICAgICBgJyR7Z2V0RnJpZW5kbHlVUkwocmVxdWVzdC51cmwpfScgdGhyZXcgYW4gZXJyb3IuYCwgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYG9yaWdpbmFsUmVxdWVzdGAgd2lsbCBvbmx5IGV4aXN0IGlmIGEgYGZldGNoRGlkRmFpbGAgY2FsbGJhY2tcbiAgICAgICAgICAgIC8vIGlzIGJlaW5nIHVzZWQgKHNlZSBhYm92ZSkuXG4gICAgICAgICAgICBpZiAob3JpZ2luYWxSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5ydW5DYWxsYmFja3MoJ2ZldGNoRGlkRmFpbCcsIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxSZXF1ZXN0OiBvcmlnaW5hbFJlcXVlc3QuY2xvbmUoKSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogcGx1Z2luRmlsdGVyZWRSZXF1ZXN0LmNsb25lKCksXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxscyBgdGhpcy5mZXRjaCgpYCBhbmQgKGluIHRoZSBiYWNrZ3JvdW5kKSBydW5zIGB0aGlzLmNhY2hlUHV0KClgIG9uXG4gICAgICogdGhlIHJlc3BvbnNlIGdlbmVyYXRlZCBieSBgdGhpcy5mZXRjaCgpYC5cbiAgICAgKlxuICAgICAqIFRoZSBjYWxsIHRvIGB0aGlzLmNhY2hlUHV0KClgIGF1dG9tYXRpY2FsbHkgaW52b2tlcyBgdGhpcy53YWl0VW50aWwoKWAsXG4gICAgICogc28geW91IGRvIG5vdCBoYXZlIHRvIG1hbnVhbGx5IGNhbGwgYHdhaXRVbnRpbCgpYCBvbiB0aGUgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1JlcXVlc3R8c3RyaW5nfSBpbnB1dCBUaGUgcmVxdWVzdCBvciBVUkwgdG8gZmV0Y2ggYW5kIGNhY2hlLlxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8UmVzcG9uc2U+fVxuICAgICAqL1xuICAgIGFzeW5jIGZldGNoQW5kQ2FjaGVQdXQoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoKGlucHV0KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VDbG9uZSA9IHJlc3BvbnNlLmNsb25lKCk7XG4gICAgICAgIHZvaWQgdGhpcy53YWl0VW50aWwodGhpcy5jYWNoZVB1dChpbnB1dCwgcmVzcG9uc2VDbG9uZSkpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hdGNoZXMgYSByZXF1ZXN0IGZyb20gdGhlIGNhY2hlIChhbmQgaW52b2tlcyBhbnkgYXBwbGljYWJsZSBwbHVnaW5cbiAgICAgKiBjYWxsYmFjayBtZXRob2RzKSB1c2luZyB0aGUgYGNhY2hlTmFtZWAsIGBtYXRjaE9wdGlvbnNgLCBhbmQgYHBsdWdpbnNgXG4gICAgICogZGVmaW5lZCBvbiB0aGUgc3RyYXRlZ3kgb2JqZWN0LlxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBwbHVnaW4gbGlmZWN5Y2xlIG1ldGhvZHMgYXJlIGludm9rZWQgd2hlbiB1c2luZyB0aGlzIG1ldGhvZDpcbiAgICAgKiAtIGNhY2hlS2V5V2lsbEJ5VXNlZCgpXG4gICAgICogLSBjYWNoZWRSZXNwb25zZVdpbGxCeVVzZWQoKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZXF1ZXN0fHN0cmluZ30ga2V5IFRoZSBSZXF1ZXN0IG9yIFVSTCB0byB1c2UgYXMgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFJlc3BvbnNlfHVuZGVmaW5lZD59IEEgbWF0Y2hpbmcgcmVzcG9uc2UsIGlmIGZvdW5kLlxuICAgICAqL1xuICAgIGFzeW5jIGNhY2hlTWF0Y2goa2V5KSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSB0b1JlcXVlc3Qoa2V5KTtcbiAgICAgICAgbGV0IGNhY2hlZFJlc3BvbnNlO1xuICAgICAgICBjb25zdCB7IGNhY2hlTmFtZSwgbWF0Y2hPcHRpb25zIH0gPSB0aGlzLl9zdHJhdGVneTtcbiAgICAgICAgY29uc3QgZWZmZWN0aXZlUmVxdWVzdCA9IGF3YWl0IHRoaXMuZ2V0Q2FjaGVLZXkocmVxdWVzdCwgJ3JlYWQnKTtcbiAgICAgICAgY29uc3QgbXVsdGlNYXRjaE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG1hdGNoT3B0aW9ucyksIHsgY2FjaGVOYW1lIH0pO1xuICAgICAgICBjYWNoZWRSZXNwb25zZSA9IGF3YWl0IGNhY2hlcy5tYXRjaChlZmZlY3RpdmVSZXF1ZXN0LCBtdWx0aU1hdGNoT3B0aW9ucyk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoY2FjaGVkUmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYEZvdW5kIGEgY2FjaGVkIHJlc3BvbnNlIGluICcke2NhY2hlTmFtZX0nLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBObyBjYWNoZWQgcmVzcG9uc2UgZm91bmQgaW4gJyR7Y2FjaGVOYW1lfScuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiB0aGlzLml0ZXJhdGVDYWxsYmFja3MoJ2NhY2hlZFJlc3BvbnNlV2lsbEJlVXNlZCcpKSB7XG4gICAgICAgICAgICBjYWNoZWRSZXNwb25zZSA9XG4gICAgICAgICAgICAgICAgKGF3YWl0IGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBtYXRjaE9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0OiBlZmZlY3RpdmVSZXF1ZXN0LFxuICAgICAgICAgICAgICAgICAgICBldmVudDogdGhpcy5ldmVudCxcbiAgICAgICAgICAgICAgICB9KSkgfHwgdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZWRSZXNwb25zZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHV0cyBhIHJlcXVlc3QvcmVzcG9uc2UgcGFpciBpbiB0aGUgY2FjaGUgKGFuZCBpbnZva2VzIGFueSBhcHBsaWNhYmxlXG4gICAgICogcGx1Z2luIGNhbGxiYWNrIG1ldGhvZHMpIHVzaW5nIHRoZSBgY2FjaGVOYW1lYCBhbmQgYHBsdWdpbnNgIGRlZmluZWQgb25cbiAgICAgKiB0aGUgc3RyYXRlZ3kgb2JqZWN0LlxuICAgICAqXG4gICAgICogVGhlIGZvbGxvd2luZyBwbHVnaW4gbGlmZWN5Y2xlIG1ldGhvZHMgYXJlIGludm9rZWQgd2hlbiB1c2luZyB0aGlzIG1ldGhvZDpcbiAgICAgKiAtIGNhY2hlS2V5V2lsbEJ5VXNlZCgpXG4gICAgICogLSBjYWNoZVdpbGxVcGRhdGUoKVxuICAgICAqIC0gY2FjaGVEaWRVcGRhdGUoKVxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZXF1ZXN0fHN0cmluZ30ga2V5IFRoZSByZXF1ZXN0IG9yIFVSTCB0byB1c2UgYXMgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcGFyYW0ge1Jlc3BvbnNlfSByZXNwb25zZSBUaGUgcmVzcG9uc2UgdG8gY2FjaGUuXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxib29sZWFuPn0gYGZhbHNlYCBpZiBhIGNhY2hlV2lsbFVwZGF0ZSBjYXVzZWQgdGhlIHJlc3BvbnNlXG4gICAgICogbm90IGJlIGNhY2hlZCwgYW5kIGB0cnVlYCBvdGhlcndpc2UuXG4gICAgICovXG4gICAgYXN5bmMgY2FjaGVQdXQoa2V5LCByZXNwb25zZSkge1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gdG9SZXF1ZXN0KGtleSk7XG4gICAgICAgIC8vIFJ1biBpbiB0aGUgbmV4dCB0YXNrIHRvIGF2b2lkIGJsb2NraW5nIG90aGVyIGNhY2hlIHJlYWRzLlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdzNjL1NlcnZpY2VXb3JrZXIvaXNzdWVzLzEzOTdcbiAgICAgICAgYXdhaXQgdGltZW91dCgwKTtcbiAgICAgICAgY29uc3QgZWZmZWN0aXZlUmVxdWVzdCA9IGF3YWl0IHRoaXMuZ2V0Q2FjaGVLZXkocmVxdWVzdCwgJ3dyaXRlJyk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoZWZmZWN0aXZlUmVxdWVzdC5tZXRob2QgJiYgZWZmZWN0aXZlUmVxdWVzdC5tZXRob2QgIT09ICdHRVQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmtib3hFcnJvcignYXR0ZW1wdC10by1jYWNoZS1ub24tZ2V0LXJlcXVlc3QnLCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogZ2V0RnJpZW5kbHlVUkwoZWZmZWN0aXZlUmVxdWVzdC51cmwpLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IGVmZmVjdGl2ZVJlcXVlc3QubWV0aG9kLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWUvd29ya2JveC9pc3N1ZXMvMjgxOFxuICAgICAgICAgICAgY29uc3QgdmFyeSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdWYXJ5Jyk7XG4gICAgICAgICAgICBpZiAodmFyeSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgVGhlIHJlc3BvbnNlIGZvciAke2dldEZyaWVuZGx5VVJMKGVmZmVjdGl2ZVJlcXVlc3QudXJsKX0gYCArXG4gICAgICAgICAgICAgICAgICAgIGBoYXMgYSAnVmFyeTogJHt2YXJ5fScgaGVhZGVyLiBgICtcbiAgICAgICAgICAgICAgICAgICAgYENvbnNpZGVyIHNldHRpbmcgdGhlIHtpZ25vcmVWYXJ5OiB0cnVlfSBvcHRpb24gb24geW91ciBzdHJhdGVneSBgICtcbiAgICAgICAgICAgICAgICAgICAgYHRvIGVuc3VyZSBjYWNoZSBtYXRjaGluZyBhbmQgZGVsZXRpb24gd29ya3MgYXMgZXhwZWN0ZWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZXJyb3IoYENhbm5vdCBjYWNoZSBub24tZXhpc3RlbnQgcmVzcG9uc2UgZm9yIGAgK1xuICAgICAgICAgICAgICAgICAgICBgJyR7Z2V0RnJpZW5kbHlVUkwoZWZmZWN0aXZlUmVxdWVzdC51cmwpfScuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgV29ya2JveEVycm9yKCdjYWNoZS1wdXQtd2l0aC1uby1yZXNwb25zZScsIHtcbiAgICAgICAgICAgICAgICB1cmw6IGdldEZyaWVuZGx5VVJMKGVmZmVjdGl2ZVJlcXVlc3QudXJsKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlVG9DYWNoZSA9IGF3YWl0IHRoaXMuX2Vuc3VyZVJlc3BvbnNlU2FmZVRvQ2FjaGUocmVzcG9uc2UpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlVG9DYWNoZSkge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYFJlc3BvbnNlICcke2dldEZyaWVuZGx5VVJMKGVmZmVjdGl2ZVJlcXVlc3QudXJsKX0nIGAgK1xuICAgICAgICAgICAgICAgICAgICBgd2lsbCBub3QgYmUgY2FjaGVkLmAsIHJlc3BvbnNlVG9DYWNoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBjYWNoZU5hbWUsIG1hdGNoT3B0aW9ucyB9ID0gdGhpcy5fc3RyYXRlZ3k7XG4gICAgICAgIGNvbnN0IGNhY2hlID0gYXdhaXQgc2VsZi5jYWNoZXMub3BlbihjYWNoZU5hbWUpO1xuICAgICAgICBjb25zdCBoYXNDYWNoZVVwZGF0ZUNhbGxiYWNrID0gdGhpcy5oYXNDYWxsYmFjaygnY2FjaGVEaWRVcGRhdGUnKTtcbiAgICAgICAgY29uc3Qgb2xkUmVzcG9uc2UgPSBoYXNDYWNoZVVwZGF0ZUNhbGxiYWNrXG4gICAgICAgICAgICA/IGF3YWl0IGNhY2hlTWF0Y2hJZ25vcmVQYXJhbXMoXG4gICAgICAgICAgICAvLyBUT0RPKHBoaWxpcHdhbHRvbik6IHRoZSBgX19XQl9SRVZJU0lPTl9fYCBwYXJhbSBpcyBhIHByZWNhY2hpbmdcbiAgICAgICAgICAgIC8vIGZlYXR1cmUuIENvbnNpZGVyIGludG8gd2F5cyB0byBvbmx5IGFkZCB0aGlzIGJlaGF2aW9yIGlmIHVzaW5nXG4gICAgICAgICAgICAvLyBwcmVjYWNoaW5nLlxuICAgICAgICAgICAgY2FjaGUsIGVmZmVjdGl2ZVJlcXVlc3QuY2xvbmUoKSwgWydfX1dCX1JFVklTSU9OX18nXSwgbWF0Y2hPcHRpb25zKVxuICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBVcGRhdGluZyB0aGUgJyR7Y2FjaGVOYW1lfScgY2FjaGUgd2l0aCBhIG5ldyBSZXNwb25zZSBgICtcbiAgICAgICAgICAgICAgICBgZm9yICR7Z2V0RnJpZW5kbHlVUkwoZWZmZWN0aXZlUmVxdWVzdC51cmwpfS5gKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgY2FjaGUucHV0KGVmZmVjdGl2ZVJlcXVlc3QsIGhhc0NhY2hlVXBkYXRlQ2FsbGJhY2sgPyByZXNwb25zZVRvQ2FjaGUuY2xvbmUoKSA6IHJlc3BvbnNlVG9DYWNoZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRE9NRXhjZXB0aW9uI2V4Y2VwdGlvbi1RdW90YUV4Y2VlZGVkRXJyb3JcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ1F1b3RhRXhjZWVkZWRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZXhlY3V0ZVF1b3RhRXJyb3JDYWxsYmFja3MoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiB0aGlzLml0ZXJhdGVDYWxsYmFja3MoJ2NhY2hlRGlkVXBkYXRlJykpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICBjYWNoZU5hbWUsXG4gICAgICAgICAgICAgICAgb2xkUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgbmV3UmVzcG9uc2U6IHJlc3BvbnNlVG9DYWNoZS5jbG9uZSgpLFxuICAgICAgICAgICAgICAgIHJlcXVlc3Q6IGVmZmVjdGl2ZVJlcXVlc3QsXG4gICAgICAgICAgICAgICAgZXZlbnQ6IHRoaXMuZXZlbnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoZSBsaXN0IG9mIHBsdWdpbnMgZm9yIHRoZSBgY2FjaGVLZXlXaWxsQmVVc2VkYCBjYWxsYmFjaywgYW5kXG4gICAgICogZXhlY3V0ZXMgYW55IG9mIHRob3NlIGNhbGxiYWNrcyBmb3VuZCBpbiBzZXF1ZW5jZS4gVGhlIGZpbmFsIGBSZXF1ZXN0YFxuICAgICAqIG9iamVjdCByZXR1cm5lZCBieSB0aGUgbGFzdCBwbHVnaW4gaXMgdHJlYXRlZCBhcyB0aGUgY2FjaGUga2V5IGZvciBjYWNoZVxuICAgICAqIHJlYWRzIGFuZC9vciB3cml0ZXMuIElmIG5vIGBjYWNoZUtleVdpbGxCZVVzZWRgIHBsdWdpbiBjYWxsYmFja3MgaGF2ZVxuICAgICAqIGJlZW4gcmVnaXN0ZXJlZCwgdGhlIHBhc3NlZCByZXF1ZXN0IGlzIHJldHVybmVkIHVubW9kaWZpZWRcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVxdWVzdH0gcmVxdWVzdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtb2RlXG4gICAgICogQHJldHVybiB7UHJvbWlzZTxSZXF1ZXN0Pn1cbiAgICAgKi9cbiAgICBhc3luYyBnZXRDYWNoZUtleShyZXF1ZXN0LCBtb2RlKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGAke3JlcXVlc3QudXJsfSB8ICR7bW9kZX1gO1xuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlS2V5c1trZXldKSB7XG4gICAgICAgICAgICBsZXQgZWZmZWN0aXZlUmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIHRoaXMuaXRlcmF0ZUNhbGxiYWNrcygnY2FjaGVLZXlXaWxsQmVVc2VkJykpIHtcbiAgICAgICAgICAgICAgICBlZmZlY3RpdmVSZXF1ZXN0ID0gdG9SZXF1ZXN0KGF3YWl0IGNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogZWZmZWN0aXZlUmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHRoaXMuZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIC8vIHBhcmFtcyBoYXMgYSB0eXBlIGFueSBjYW4ndCBjaGFuZ2UgcmlnaHQgbm93LlxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHRoaXMucGFyYW1zLCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY2FjaGVLZXlzW2tleV0gPSBlZmZlY3RpdmVSZXF1ZXN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZUtleXNba2V5XTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzdHJhdGVneSBoYXMgYXQgbGVhc3Qgb25lIHBsdWdpbiB3aXRoIHRoZSBnaXZlblxuICAgICAqIGNhbGxiYWNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGNhbGxiYWNrIHRvIGNoZWNrIGZvci5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufVxuICAgICAqL1xuICAgIGhhc0NhbGxiYWNrKG5hbWUpIHtcbiAgICAgICAgZm9yIChjb25zdCBwbHVnaW4gb2YgdGhpcy5fc3RyYXRlZ3kucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKG5hbWUgaW4gcGx1Z2luKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIGFsbCBwbHVnaW4gY2FsbGJhY2tzIG1hdGNoaW5nIHRoZSBnaXZlbiBuYW1lLCBpbiBvcmRlciwgcGFzc2luZyB0aGVcbiAgICAgKiBnaXZlbiBwYXJhbSBvYmplY3QgKG1lcmdlZCBpdGggdGhlIGN1cnJlbnQgcGx1Z2luIHN0YXRlKSBhcyB0aGUgb25seVxuICAgICAqIGFyZ3VtZW50LlxuICAgICAqXG4gICAgICogTm90ZTogc2luY2UgdGhpcyBtZXRob2QgcnVucyBhbGwgcGx1Z2lucywgaXQncyBub3Qgc3VpdGFibGUgZm9yIGNhc2VzXG4gICAgICogd2hlcmUgdGhlIHJldHVybiB2YWx1ZSBvZiBhIGNhbGxiYWNrIG5lZWRzIHRvIGJlIGFwcGxpZWQgcHJpb3IgdG8gY2FsbGluZ1xuICAgICAqIHRoZSBuZXh0IGNhbGxiYWNrLiBTZWVcbiAgICAgKiB7QGxpbmsgd29ya2JveC1zdHJhdGVnaWVzLlN0cmF0ZWd5SGFuZGxlciNpdGVyYXRlQ2FsbGJhY2tzfVxuICAgICAqIGJlbG93IGZvciBob3cgdG8gaGFuZGxlIHRoYXQgY2FzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjYWxsYmFjayB0byBydW4gd2l0aGluIGVhY2ggcGx1Z2luLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwYXJhbSBUaGUgb2JqZWN0IHRvIHBhc3MgYXMgdGhlIGZpcnN0IChhbmQgb25seSkgcGFyYW1cbiAgICAgKiAgICAgd2hlbiBleGVjdXRpbmcgZWFjaCBjYWxsYmFjay4gVGhpcyBvYmplY3Qgd2lsbCBiZSBtZXJnZWQgd2l0aCB0aGVcbiAgICAgKiAgICAgY3VycmVudCBwbHVnaW4gc3RhdGUgcHJpb3IgdG8gY2FsbGJhY2sgZXhlY3V0aW9uLlxuICAgICAqL1xuICAgIGFzeW5jIHJ1bkNhbGxiYWNrcyhuYW1lLCBwYXJhbSkge1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIHRoaXMuaXRlcmF0ZUNhbGxiYWNrcyhuYW1lKSkge1xuICAgICAgICAgICAgLy8gVE9ETyhwaGlsaXB3YWx0b24pOiBub3Qgc3VyZSB3aHkgYGFueWAgaXMgbmVlZGVkLiBJdCBzZWVtcyBsaWtlXG4gICAgICAgICAgICAvLyB0aGlzIHNob3VsZCB3b3JrIHdpdGggYGFzIFdvcmtib3hQbHVnaW5DYWxsYmFja1BhcmFtW0NdYC5cbiAgICAgICAgICAgIGF3YWl0IGNhbGxiYWNrKHBhcmFtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBY2NlcHRzIGEgY2FsbGJhY2sgYW5kIHJldHVybnMgYW4gaXRlcmFibGUgb2YgbWF0Y2hpbmcgcGx1Z2luIGNhbGxiYWNrcyxcbiAgICAgKiB3aGVyZSBlYWNoIGNhbGxiYWNrIGlzIHdyYXBwZWQgd2l0aCB0aGUgY3VycmVudCBoYW5kbGVyIHN0YXRlIChpLmUuIHdoZW5cbiAgICAgKiB5b3UgY2FsbCBlYWNoIGNhbGxiYWNrLCB3aGF0ZXZlciBvYmplY3QgcGFyYW1ldGVyIHlvdSBwYXNzIGl0IHdpbGxcbiAgICAgKiBiZSBtZXJnZWQgd2l0aCB0aGUgcGx1Z2luJ3MgY3VycmVudCBzdGF0ZSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBmbyB0aGUgY2FsbGJhY2sgdG8gcnVuXG4gICAgICogQHJldHVybiB7QXJyYXk8RnVuY3Rpb24+fVxuICAgICAqL1xuICAgICppdGVyYXRlQ2FsbGJhY2tzKG5hbWUpIHtcbiAgICAgICAgZm9yIChjb25zdCBwbHVnaW4gb2YgdGhpcy5fc3RyYXRlZ3kucGx1Z2lucykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwbHVnaW5bbmFtZV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3BsdWdpblN0YXRlTWFwLmdldChwbHVnaW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXRlZnVsQ2FsbGJhY2sgPSAocGFyYW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdGVmdWxQYXJhbSA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0pLCB7IHN0YXRlIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKHBoaWxpcHdhbHRvbik6IG5vdCBzdXJlIHdoeSBgYW55YCBpcyBuZWVkZWQuIEl0IHNlZW1zIGxpa2VcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBzaG91bGQgd29yayB3aXRoIGBhcyBXb3JrYm94UGx1Z2luQ2FsbGJhY2tQYXJhbVtDXWAuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwbHVnaW5bbmFtZV0oc3RhdGVmdWxQYXJhbSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB5aWVsZCBzdGF0ZWZ1bENhbGxiYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBwcm9taXNlIHRvIHRoZVxuICAgICAqIFtleHRlbmQgbGlmZXRpbWUgcHJvbWlzZXNde0BsaW5rIGh0dHBzOi8vdzNjLmdpdGh1Yi5pby9TZXJ2aWNlV29ya2VyLyNleHRlbmRhYmxlZXZlbnQtZXh0ZW5kLWxpZmV0aW1lLXByb21pc2VzfVxuICAgICAqIG9mIHRoZSBldmVudCBldmVudCBhc3NvY2lhdGVkIHdpdGggdGhlIHJlcXVlc3QgYmVpbmcgaGFuZGxlZCAodXN1YWxseSBhXG4gICAgICogYEZldGNoRXZlbnRgKS5cbiAgICAgKlxuICAgICAqIE5vdGU6IHlvdSBjYW4gYXdhaXRcbiAgICAgKiB7QGxpbmsgd29ya2JveC1zdHJhdGVnaWVzLlN0cmF0ZWd5SGFuZGxlcn5kb25lV2FpdGluZ31cbiAgICAgKiB0byBrbm93IHdoZW4gYWxsIGFkZGVkIHByb21pc2VzIGhhdmUgc2V0dGxlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UHJvbWlzZX0gcHJvbWlzZSBBIHByb21pc2UgdG8gYWRkIHRvIHRoZSBleHRlbmQgbGlmZXRpbWUgcHJvbWlzZXNcbiAgICAgKiAgICAgb2YgdGhlIGV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoZSByZXF1ZXN0LlxuICAgICAqL1xuICAgIHdhaXRVbnRpbChwcm9taXNlKSB7XG4gICAgICAgIHRoaXMuX2V4dGVuZExpZmV0aW1lUHJvbWlzZXMucHVzaChwcm9taXNlKTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSBhbGwgcHJvbWlzZXMgcGFzc2VkIHRvXG4gICAgICoge0BsaW5rIHdvcmtib3gtc3RyYXRlZ2llcy5TdHJhdGVneUhhbmRsZXJ+d2FpdFVudGlsfVxuICAgICAqIGhhdmUgc2V0dGxlZC5cbiAgICAgKlxuICAgICAqIE5vdGU6IGFueSB3b3JrIGRvbmUgYWZ0ZXIgYGRvbmVXYWl0aW5nKClgIHNldHRsZXMgc2hvdWxkIGJlIG1hbnVhbGx5XG4gICAgICogcGFzc2VkIHRvIGFuIGV2ZW50J3MgYHdhaXRVbnRpbCgpYCBtZXRob2QgKG5vdCB0aGlzIGhhbmRsZXInc1xuICAgICAqIGB3YWl0VW50aWwoKWAgbWV0aG9kKSwgb3RoZXJ3aXNlIHRoZSBzZXJ2aWNlIHdvcmtlciB0aHJlYWQgbXkgYmUga2lsbGVkXG4gICAgICogcHJpb3IgdG8geW91ciB3b3JrIGNvbXBsZXRpbmcuXG4gICAgICovXG4gICAgYXN5bmMgZG9uZVdhaXRpbmcoKSB7XG4gICAgICAgIGxldCBwcm9taXNlO1xuICAgICAgICB3aGlsZSAoKHByb21pc2UgPSB0aGlzLl9leHRlbmRMaWZldGltZVByb21pc2VzLnNoaWZ0KCkpKSB7XG4gICAgICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0b3BzIHJ1bm5pbmcgdGhlIHN0cmF0ZWd5IGFuZCBpbW1lZGlhdGVseSByZXNvbHZlcyBhbnkgcGVuZGluZ1xuICAgICAqIGB3YWl0VW50aWwoKWAgcHJvbWlzZXMuXG4gICAgICovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlckRlZmVycmVkLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIHdpbGwgY2FsbCBjYWNoZVdpbGxVcGRhdGUgb24gdGhlIGF2YWlsYWJsZSBwbHVnaW5zIChvciB1c2VcbiAgICAgKiBzdGF0dXMgPT09IDIwMCkgdG8gZGV0ZXJtaW5lIGlmIHRoZSBSZXNwb25zZSBpcyBzYWZlIGFuZCB2YWxpZCB0byBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVxdWVzdH0gb3B0aW9ucy5yZXF1ZXN0XG4gICAgICogQHBhcmFtIHtSZXNwb25zZX0gb3B0aW9ucy5yZXNwb25zZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8UmVzcG9uc2V8dW5kZWZpbmVkPn1cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgYXN5bmMgX2Vuc3VyZVJlc3BvbnNlU2FmZVRvQ2FjaGUocmVzcG9uc2UpIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlVG9DYWNoZSA9IHJlc3BvbnNlO1xuICAgICAgICBsZXQgcGx1Z2luc1VzZWQgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiB0aGlzLml0ZXJhdGVDYWxsYmFja3MoJ2NhY2hlV2lsbFVwZGF0ZScpKSB7XG4gICAgICAgICAgICByZXNwb25zZVRvQ2FjaGUgPVxuICAgICAgICAgICAgICAgIChhd2FpdCBjYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3Q6IHRoaXMucmVxdWVzdCxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlVG9DYWNoZSxcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHRoaXMuZXZlbnQsXG4gICAgICAgICAgICAgICAgfSkpIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHBsdWdpbnNVc2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2VUb0NhY2hlKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFwbHVnaW5zVXNlZCkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlVG9DYWNoZSAmJiByZXNwb25zZVRvQ2FjaGUuc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZVRvQ2FjaGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVRvQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVG9DYWNoZS5zdGF0dXMgIT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVG9DYWNoZS5zdGF0dXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihgVGhlIHJlc3BvbnNlIGZvciAnJHt0aGlzLnJlcXVlc3QudXJsfScgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBpcyBhbiBvcGFxdWUgcmVzcG9uc2UuIFRoZSBjYWNoaW5nIHN0cmF0ZWd5IHRoYXQgeW91J3JlIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdXNpbmcgd2lsbCBub3QgY2FjaGUgb3BhcXVlIHJlc3BvbnNlcyBieSBkZWZhdWx0LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBUaGUgcmVzcG9uc2UgZm9yICcke3RoaXMucmVxdWVzdC51cmx9JyBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYHJldHVybmVkIGEgc3RhdHVzIGNvZGUgb2YgJyR7cmVzcG9uc2Uuc3RhdHVzfScgYW5kIHdvbid0IGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgYmUgY2FjaGVkIGFzIGEgcmVzdWx0LmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZVRvQ2FjaGU7XG4gICAgfVxufVxuZXhwb3J0IHsgU3RyYXRlZ3lIYW5kbGVyIH07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZVxuICBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcbiAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXG4qL1xuaW1wb3J0ICcuLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgYW5kIHRoZSBwYXNzZWQgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcy5cbiAqIFRoaXMgdXRpbGl0eSBpcyBhbiBhc3luYy9hd2FpdC1mcmllbmRseSB2ZXJzaW9uIG9mIGBzZXRUaW1lb3V0YC5cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbXNcbiAqIEByZXR1cm4ge1Byb21pc2V9XG4gKiBAcHJpdmF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdGltZW91dChtcykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufVxuIiwiLypcbiAgQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuXG4gIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGFuIE1JVC1zdHlsZVxuICBsaWNlbnNlIHRoYXQgY2FuIGJlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgb3IgYXRcbiAgaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVQuXG4qL1xuaW1wb3J0ICcuLi9fdmVyc2lvbi5qcyc7XG5jb25zdCBnZXRGcmllbmRseVVSTCA9ICh1cmwpID0+IHtcbiAgICBjb25zdCB1cmxPYmogPSBuZXcgVVJMKFN0cmluZyh1cmwpLCBsb2NhdGlvbi5ocmVmKTtcbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93b3JrYm94L2lzc3Vlcy8yMzIzXG4gICAgLy8gV2Ugd2FudCB0byBpbmNsdWRlIGV2ZXJ5dGhpbmcsIGV4Y2VwdCBmb3IgdGhlIG9yaWdpbiBpZiBpdCdzIHNhbWUtb3JpZ2luLlxuICAgIHJldHVybiB1cmxPYmouaHJlZi5yZXBsYWNlKG5ldyBSZWdFeHAoYF4ke2xvY2F0aW9uLm9yaWdpbn1gKSwgJycpO1xufTtcbmV4cG9ydCB7IGdldEZyaWVuZGx5VVJMIH07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICcuLi9fcHJpdmF0ZS9sb2dnZXIuanMnO1xuaW1wb3J0IHsgcXVvdGFFcnJvckNhbGxiYWNrcyB9IGZyb20gJy4uL21vZGVscy9xdW90YUVycm9yQ2FsbGJhY2tzLmpzJztcbmltcG9ydCAnLi4vX3ZlcnNpb24uanMnO1xuLyoqXG4gKiBSdW5zIGFsbCBvZiB0aGUgY2FsbGJhY2sgZnVuY3Rpb25zLCBvbmUgYXQgYSB0aW1lIHNlcXVlbnRpYWxseSwgaW4gdGhlIG9yZGVyXG4gKiBpbiB3aGljaCB0aGV5IHdlcmUgcmVnaXN0ZXJlZC5cbiAqXG4gKiBAbWVtYmVyb2Ygd29ya2JveC1jb3JlXG4gKiBAcHJpdmF0ZVxuICovXG5hc3luYyBmdW5jdGlvbiBleGVjdXRlUXVvdGFFcnJvckNhbGxiYWNrcygpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBsb2dnZXIubG9nKGBBYm91dCB0byBydW4gJHtxdW90YUVycm9yQ2FsbGJhY2tzLnNpemV9IGAgK1xuICAgICAgICAgICAgYGNhbGxiYWNrcyB0byBjbGVhbiB1cCBjYWNoZXMuYCk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgY2FsbGJhY2sgb2YgcXVvdGFFcnJvckNhbGxiYWNrcykge1xuICAgICAgICBhd2FpdCBjYWxsYmFjaygpO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZyhjYWxsYmFjaywgJ2lzIGNvbXBsZXRlLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0ZpbmlzaGVkIHJ1bm5pbmcgY2FsbGJhY2tzLicpO1xuICAgIH1cbn1cbmV4cG9ydCB7IGV4ZWN1dGVRdW90YUVycm9yQ2FsbGJhY2tzIH07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgeyBhc3NlcnQgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvYXNzZXJ0LmpzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9sb2dnZXIuanMnO1xuaW1wb3J0IHsgV29ya2JveEVycm9yIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL1dvcmtib3hFcnJvci5qcyc7XG5pbXBvcnQgeyBTdHJhdGVneSB9IGZyb20gJy4vU3RyYXRlZ3kuanMnO1xuaW1wb3J0IHsgbWVzc2FnZXMgfSBmcm9tICcuL3V0aWxzL21lc3NhZ2VzLmpzJztcbmltcG9ydCAnLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIGEgW2NhY2hlLWZpcnN0XShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2RvY3Mvd29ya2JveC9jYWNoaW5nLXN0cmF0ZWdpZXMtb3ZlcnZpZXcvI2NhY2hlLWZpcnN0LWZhbGxpbmctYmFjay10by1uZXR3b3JrKVxuICogcmVxdWVzdCBzdHJhdGVneS5cbiAqXG4gKiBBIGNhY2hlIGZpcnN0IHN0cmF0ZWd5IGlzIHVzZWZ1bCBmb3IgYXNzZXRzIHRoYXQgaGF2ZSBiZWVuIHJldmlzaW9uZWQsXG4gKiBzdWNoIGFzIFVSTHMgbGlrZSBgL3N0eWxlcy9leGFtcGxlLmE4ZjVmMS5jc3NgLCBzaW5jZSB0aGV5XG4gKiBjYW4gYmUgY2FjaGVkIGZvciBsb25nIHBlcmlvZHMgb2YgdGltZS5cbiAqXG4gKiBJZiB0aGUgbmV0d29yayByZXF1ZXN0IGZhaWxzLCBhbmQgdGhlcmUgaXMgbm8gY2FjaGUgbWF0Y2gsIHRoaXMgd2lsbCB0aHJvd1xuICogYSBgV29ya2JveEVycm9yYCBleGNlcHRpb24uXG4gKlxuICogQGV4dGVuZHMgd29ya2JveC1zdHJhdGVnaWVzLlN0cmF0ZWd5XG4gKiBAbWVtYmVyb2Ygd29ya2JveC1zdHJhdGVnaWVzXG4gKi9cbmNsYXNzIENhY2hlRmlyc3QgZXh0ZW5kcyBTdHJhdGVneSB7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JlcXVlc3R8c3RyaW5nfSByZXF1ZXN0IEEgcmVxdWVzdCB0byBydW4gdGhpcyBzdHJhdGVneSBmb3IuXG4gICAgICogQHBhcmFtIHt3b3JrYm94LXN0cmF0ZWdpZXMuU3RyYXRlZ3lIYW5kbGVyfSBoYW5kbGVyIFRoZSBldmVudCB0aGF0XG4gICAgICogICAgIHRyaWdnZXJlZCB0aGUgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlPFJlc3BvbnNlPn1cbiAgICAgKi9cbiAgICBhc3luYyBfaGFuZGxlKHJlcXVlc3QsIGhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgbG9ncyA9IFtdO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgYXNzZXJ0LmlzSW5zdGFuY2UocmVxdWVzdCwgUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LXN0cmF0ZWdpZXMnLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGhpcy5jb25zdHJ1Y3Rvci5uYW1lLFxuICAgICAgICAgICAgICAgIGZ1bmNOYW1lOiAnbWFrZVJlcXVlc3QnLFxuICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ3JlcXVlc3QnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3BvbnNlID0gYXdhaXQgaGFuZGxlci5jYWNoZU1hdGNoKHJlcXVlc3QpO1xuICAgICAgICBsZXQgZXJyb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgbG9ncy5wdXNoKGBObyByZXNwb25zZSBmb3VuZCBpbiB0aGUgJyR7dGhpcy5jYWNoZU5hbWV9JyBjYWNoZS4gYCArXG4gICAgICAgICAgICAgICAgICAgIGBXaWxsIHJlc3BvbmQgd2l0aCBhIG5ldHdvcmsgcmVxdWVzdC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBoYW5kbGVyLmZldGNoQW5kQ2FjaGVQdXQocmVxdWVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ3MucHVzaChgR290IHJlc3BvbnNlIGZyb20gbmV0d29yay5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ3MucHVzaChgVW5hYmxlIHRvIGdldCBhIHJlc3BvbnNlIGZyb20gdGhlIG5ldHdvcmsuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBsb2dzLnB1c2goYEZvdW5kIGEgY2FjaGVkIHJlc3BvbnNlIGluIHRoZSAnJHt0aGlzLmNhY2hlTmFtZX0nIGNhY2hlLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBsb2dnZXIuZ3JvdXBDb2xsYXBzZWQobWVzc2FnZXMuc3RyYXRlZ3lTdGFydCh0aGlzLmNvbnN0cnVjdG9yLm5hbWUsIHJlcXVlc3QpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbG9nIG9mIGxvZ3MpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGxvZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXNzYWdlcy5wcmludEZpbmFsUmVzcG9uc2UocmVzcG9uc2UpO1xuICAgICAgICAgICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXNwb25zZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFdvcmtib3hFcnJvcignbm8tcmVzcG9uc2UnLCB7IHVybDogcmVxdWVzdC51cmwsIGVycm9yIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG59XG5leHBvcnQgeyBDYWNoZUZpcnN0IH07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgeyBjYWNoZU5hbWVzIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL2NhY2hlTmFtZXMuanMnO1xuaW1wb3J0IHsgV29ya2JveEVycm9yIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL1dvcmtib3hFcnJvci5qcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvbG9nZ2VyLmpzJztcbmltcG9ydCB7IGdldEZyaWVuZGx5VVJMIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL2dldEZyaWVuZGx5VVJMLmpzJztcbmltcG9ydCB7IFN0cmF0ZWd5SGFuZGxlciB9IGZyb20gJy4vU3RyYXRlZ3lIYW5kbGVyLmpzJztcbmltcG9ydCAnLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIEFuIGFic3RyYWN0IGJhc2UgY2xhc3MgdGhhdCBhbGwgb3RoZXIgc3RyYXRlZ3kgY2xhc3NlcyBtdXN0IGV4dGVuZCBmcm9tOlxuICpcbiAqIEBtZW1iZXJvZiB3b3JrYm94LXN0cmF0ZWdpZXNcbiAqL1xuY2xhc3MgU3RyYXRlZ3kge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHN0cmF0ZWd5IGFuZCBzZXRzIGFsbCBkb2N1bWVudGVkIG9wdGlvblxuICAgICAqIHByb3BlcnRpZXMgYXMgcHVibGljIGluc3RhbmNlIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBOb3RlOiBpZiBhIGN1c3RvbSBzdHJhdGVneSBjbGFzcyBleHRlbmRzIHRoZSBiYXNlIFN0cmF0ZWd5IGNsYXNzIGFuZCBkb2VzXG4gICAgICogbm90IG5lZWQgbW9yZSB0aGFuIHRoZXNlIHByb3BlcnRpZXMsIGl0IGRvZXMgbm90IG5lZWQgdG8gZGVmaW5lIGl0cyBvd25cbiAgICAgKiBjb25zdHJ1Y3Rvci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMuY2FjaGVOYW1lXSBDYWNoZSBuYW1lIHRvIHN0b3JlIGFuZCByZXRyaWV2ZVxuICAgICAqIHJlcXVlc3RzLiBEZWZhdWx0cyB0byB0aGUgY2FjaGUgbmFtZXMgcHJvdmlkZWQgYnlcbiAgICAgKiB7QGxpbmsgd29ya2JveC1jb3JlLmNhY2hlTmFtZXN9LlxuICAgICAqIEBwYXJhbSB7QXJyYXk8T2JqZWN0Pn0gW29wdGlvbnMucGx1Z2luc10gW1BsdWdpbnNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi90b29scy93b3JrYm94L2d1aWRlcy91c2luZy1wbHVnaW5zfVxuICAgICAqIHRvIHVzZSBpbiBjb25qdW5jdGlvbiB3aXRoIHRoaXMgY2FjaGluZyBzdHJhdGVneS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMuZmV0Y2hPcHRpb25zXSBWYWx1ZXMgcGFzc2VkIGFsb25nIHRvIHRoZVxuICAgICAqIFtgaW5pdGBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3dPcldvcmtlckdsb2JhbFNjb3BlL2ZldGNoI1BhcmFtZXRlcnMpXG4gICAgICogb2YgW25vbi1uYXZpZ2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dvcmtib3gvaXNzdWVzLzE3OTYpXG4gICAgICogYGZldGNoKClgIHJlcXVlc3RzIG1hZGUgYnkgdGhpcyBzdHJhdGVneS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29wdGlvbnMubWF0Y2hPcHRpb25zXSBUaGVcbiAgICAgKiBbYENhY2hlUXVlcnlPcHRpb25zYF17QGxpbmsgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL1NlcnZpY2VXb3JrZXIvI2RpY3RkZWYtY2FjaGVxdWVyeW9wdGlvbnN9XG4gICAgICogZm9yIGFueSBgY2FjaGUubWF0Y2goKWAgb3IgYGNhY2hlLnB1dCgpYCBjYWxscyBtYWRlIGJ5IHRoaXMgc3RyYXRlZ3kuXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZSBuYW1lIHRvIHN0b3JlIGFuZCByZXRyaWV2ZVxuICAgICAgICAgKiByZXF1ZXN0cy4gRGVmYXVsdHMgdG8gdGhlIGNhY2hlIG5hbWVzIHByb3ZpZGVkIGJ5XG4gICAgICAgICAqIHtAbGluayB3b3JrYm94LWNvcmUuY2FjaGVOYW1lc30uXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlTmFtZSA9IGNhY2hlTmFtZXMuZ2V0UnVudGltZU5hbWUob3B0aW9ucy5jYWNoZU5hbWUpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxpc3RcbiAgICAgICAgICogW1BsdWdpbnNde0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi90b29scy93b3JrYm94L2d1aWRlcy91c2luZy1wbHVnaW5zfVxuICAgICAgICAgKiB1c2VkIGJ5IHRoaXMgc3RyYXRlZ3kuXG4gICAgICAgICAqXG4gICAgICAgICAqIEB0eXBlIHtBcnJheTxPYmplY3Q+fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wbHVnaW5zID0gb3B0aW9ucy5wbHVnaW5zIHx8IFtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogVmFsdWVzIHBhc3NlZCBhbG9uZyB0byB0aGVcbiAgICAgICAgICogW2Bpbml0YF17QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvd09yV29ya2VyR2xvYmFsU2NvcGUvZmV0Y2gjUGFyYW1ldGVyc31cbiAgICAgICAgICogb2YgYWxsIGZldGNoKCkgcmVxdWVzdHMgbWFkZSBieSB0aGlzIHN0cmF0ZWd5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5mZXRjaE9wdGlvbnMgPSBvcHRpb25zLmZldGNoT3B0aW9ucztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZVxuICAgICAgICAgKiBbYENhY2hlUXVlcnlPcHRpb25zYF17QGxpbmsgaHR0cHM6Ly93M2MuZ2l0aHViLmlvL1NlcnZpY2VXb3JrZXIvI2RpY3RkZWYtY2FjaGVxdWVyeW9wdGlvbnN9XG4gICAgICAgICAqIGZvciBhbnkgYGNhY2hlLm1hdGNoKClgIG9yIGBjYWNoZS5wdXQoKWAgY2FsbHMgbWFkZSBieSB0aGlzIHN0cmF0ZWd5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tYXRjaE9wdGlvbnMgPSBvcHRpb25zLm1hdGNoT3B0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybSBhIHJlcXVlc3Qgc3RyYXRlZ3kgYW5kIHJldHVybnMgYSBgUHJvbWlzZWAgdGhhdCB3aWxsIHJlc29sdmUgd2l0aFxuICAgICAqIGEgYFJlc3BvbnNlYCwgaW52b2tpbmcgYWxsIHJlbGV2YW50IHBsdWdpbiBjYWxsYmFja3MuXG4gICAgICpcbiAgICAgKiBXaGVuIGEgc3RyYXRlZ3kgaW5zdGFuY2UgaXMgcmVnaXN0ZXJlZCB3aXRoIGEgV29ya2JveFxuICAgICAqIHtAbGluayB3b3JrYm94LXJvdXRpbmcuUm91dGV9LCB0aGlzIG1ldGhvZCBpcyBhdXRvbWF0aWNhbGx5XG4gICAgICogY2FsbGVkIHdoZW4gdGhlIHJvdXRlIG1hdGNoZXMuXG4gICAgICpcbiAgICAgKiBBbHRlcm5hdGl2ZWx5LCB0aGlzIG1ldGhvZCBjYW4gYmUgdXNlZCBpbiBhIHN0YW5kYWxvbmUgYEZldGNoRXZlbnRgXG4gICAgICogbGlzdGVuZXIgYnkgcGFzc2luZyBpdCB0byBgZXZlbnQucmVzcG9uZFdpdGgoKWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0ZldGNoRXZlbnR8T2JqZWN0fSBvcHRpb25zIEEgYEZldGNoRXZlbnRgIG9yIGFuIG9iamVjdCB3aXRoIHRoZVxuICAgICAqICAgICBwcm9wZXJ0aWVzIGxpc3RlZCBiZWxvdy5cbiAgICAgKiBAcGFyYW0ge1JlcXVlc3R8c3RyaW5nfSBvcHRpb25zLnJlcXVlc3QgQSByZXF1ZXN0IHRvIHJ1biB0aGlzIHN0cmF0ZWd5IGZvci5cbiAgICAgKiBAcGFyYW0ge0V4dGVuZGFibGVFdmVudH0gb3B0aW9ucy5ldmVudCBUaGUgZXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoZVxuICAgICAqICAgICByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7VVJMfSBbb3B0aW9ucy51cmxdXG4gICAgICogQHBhcmFtIHsqfSBbb3B0aW9ucy5wYXJhbXNdXG4gICAgICovXG4gICAgaGFuZGxlKG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgW3Jlc3BvbnNlRG9uZV0gPSB0aGlzLmhhbmRsZUFsbChvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlRG9uZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2ltaWxhciB0byB7QGxpbmsgd29ya2JveC1zdHJhdGVnaWVzLlN0cmF0ZWd5fmhhbmRsZX0sIGJ1dFxuICAgICAqIGluc3RlYWQgb2YganVzdCByZXR1cm5pbmcgYSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB0byBhIGBSZXNwb25zZWAgaXRcbiAgICAgKiBpdCB3aWxsIHJldHVybiBhbiB0dXBsZSBvZiBgW3Jlc3BvbnNlLCBkb25lXWAgcHJvbWlzZXMsIHdoZXJlIHRoZSBmb3JtZXJcbiAgICAgKiAoYHJlc3BvbnNlYCkgaXMgZXF1aXZhbGVudCB0byB3aGF0IGBoYW5kbGUoKWAgcmV0dXJucywgYW5kIHRoZSBsYXR0ZXIgaXMgYVxuICAgICAqIFByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb25jZSBhbnkgcHJvbWlzZXMgdGhhdCB3ZXJlIGFkZGVkIHRvXG4gICAgICogYGV2ZW50LndhaXRVbnRpbCgpYCBhcyBwYXJ0IG9mIHBlcmZvcm1pbmcgdGhlIHN0cmF0ZWd5IGhhdmUgY29tcGxldGVkLlxuICAgICAqXG4gICAgICogWW91IGNhbiBhd2FpdCB0aGUgYGRvbmVgIHByb21pc2UgdG8gZW5zdXJlIGFueSBleHRyYSB3b3JrIHBlcmZvcm1lZCBieVxuICAgICAqIHRoZSBzdHJhdGVneSAodXN1YWxseSBjYWNoaW5nIHJlc3BvbnNlcykgY29tcGxldGVzIHN1Y2Nlc3NmdWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RmV0Y2hFdmVudHxPYmplY3R9IG9wdGlvbnMgQSBgRmV0Y2hFdmVudGAgb3IgYW4gb2JqZWN0IHdpdGggdGhlXG4gICAgICogICAgIHByb3BlcnRpZXMgbGlzdGVkIGJlbG93LlxuICAgICAqIEBwYXJhbSB7UmVxdWVzdHxzdHJpbmd9IG9wdGlvbnMucmVxdWVzdCBBIHJlcXVlc3QgdG8gcnVuIHRoaXMgc3RyYXRlZ3kgZm9yLlxuICAgICAqIEBwYXJhbSB7RXh0ZW5kYWJsZUV2ZW50fSBvcHRpb25zLmV2ZW50IFRoZSBldmVudCBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICogICAgIHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtVUkx9IFtvcHRpb25zLnVybF1cbiAgICAgKiBAcGFyYW0geyp9IFtvcHRpb25zLnBhcmFtc11cbiAgICAgKiBAcmV0dXJuIHtBcnJheTxQcm9taXNlPn0gQSB0dXBsZSBvZiBbcmVzcG9uc2UsIGRvbmVdXG4gICAgICogICAgIHByb21pc2VzIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIHdoZW4gdGhlIHJlc3BvbnNlIHJlc29sdmVzIGFzXG4gICAgICogICAgIHdlbGwgYXMgd2hlbiB0aGUgaGFuZGxlciBoYXMgY29tcGxldGVkIGFsbCBpdHMgd29yay5cbiAgICAgKi9cbiAgICBoYW5kbGVBbGwob3B0aW9ucykge1xuICAgICAgICAvLyBBbGxvdyBmb3IgZmxleGlibGUgb3B0aW9ucyB0byBiZSBwYXNzZWQuXG4gICAgICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgRmV0Y2hFdmVudCkge1xuICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiBvcHRpb25zLnJlcXVlc3QsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV2ZW50ID0gb3B0aW9ucy5ldmVudDtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHR5cGVvZiBvcHRpb25zLnJlcXVlc3QgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICA/IG5ldyBSZXF1ZXN0KG9wdGlvbnMucmVxdWVzdClcbiAgICAgICAgICAgIDogb3B0aW9ucy5yZXF1ZXN0O1xuICAgICAgICBjb25zdCBwYXJhbXMgPSAncGFyYW1zJyBpbiBvcHRpb25zID8gb3B0aW9ucy5wYXJhbXMgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSBuZXcgU3RyYXRlZ3lIYW5kbGVyKHRoaXMsIHsgZXZlbnQsIHJlcXVlc3QsIHBhcmFtcyB9KTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2VEb25lID0gdGhpcy5fZ2V0UmVzcG9uc2UoaGFuZGxlciwgcmVxdWVzdCwgZXZlbnQpO1xuICAgICAgICBjb25zdCBoYW5kbGVyRG9uZSA9IHRoaXMuX2F3YWl0Q29tcGxldGUocmVzcG9uc2VEb25lLCBoYW5kbGVyLCByZXF1ZXN0LCBldmVudCk7XG4gICAgICAgIC8vIFJldHVybiBhbiBhcnJheSBvZiBwcm9taXNlcywgc3VpdGFibGUgZm9yIHVzZSB3aXRoIFByb21pc2UuYWxsKCkuXG4gICAgICAgIHJldHVybiBbcmVzcG9uc2VEb25lLCBoYW5kbGVyRG9uZV07XG4gICAgfVxuICAgIGFzeW5jIF9nZXRSZXNwb25zZShoYW5kbGVyLCByZXF1ZXN0LCBldmVudCkge1xuICAgICAgICBhd2FpdCBoYW5kbGVyLnJ1bkNhbGxiYWNrcygnaGFuZGxlcldpbGxTdGFydCcsIHsgZXZlbnQsIHJlcXVlc3QgfSk7XG4gICAgICAgIGxldCByZXNwb25zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5faGFuZGxlKHJlcXVlc3QsIGhhbmRsZXIpO1xuICAgICAgICAgICAgLy8gVGhlIFwib2ZmaWNpYWxcIiBTdHJhdGVneSBzdWJjbGFzc2VzIGFsbCB0aHJvdyB0aGlzIGVycm9yIGF1dG9tYXRpY2FsbHksXG4gICAgICAgICAgICAvLyBidXQgaW4gY2FzZSBhIHRoaXJkLXBhcnR5IFN0cmF0ZWd5IGRvZXNuJ3QsIGVuc3VyZSB0aGF0IHdlIGhhdmUgYVxuICAgICAgICAgICAgLy8gY29uc2lzdGVudCBmYWlsdXJlIHdoZW4gdGhlcmUncyBubyByZXNwb25zZSBvciBhbiBlcnJvciByZXNwb25zZS5cbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UgfHwgcmVzcG9uc2UudHlwZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JrYm94RXJyb3IoJ25vLXJlc3BvbnNlJywgeyB1cmw6IHJlcXVlc3QudXJsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGhhbmRsZXIuaXRlcmF0ZUNhbGxiYWNrcygnaGFuZGxlckRpZEVycm9yJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBjYWxsYmFjayh7IGVycm9yLCBldmVudCwgcmVxdWVzdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKGBXaGlsZSByZXNwb25kaW5nIHRvICcke2dldEZyaWVuZGx5VVJMKHJlcXVlc3QudXJsKX0nLCBgICtcbiAgICAgICAgICAgICAgICAgICAgYGFuICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnRvU3RyaW5nKCkgOiAnJ30gZXJyb3Igb2NjdXJyZWQuIFVzaW5nIGEgZmFsbGJhY2sgcmVzcG9uc2UgcHJvdmlkZWQgYnkgYCArXG4gICAgICAgICAgICAgICAgICAgIGBhIGhhbmRsZXJEaWRFcnJvciBwbHVnaW4uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBjYWxsYmFjayBvZiBoYW5kbGVyLml0ZXJhdGVDYWxsYmFja3MoJ2hhbmRsZXJXaWxsUmVzcG9uZCcpKSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IGNhbGxiYWNrKHsgZXZlbnQsIHJlcXVlc3QsIHJlc3BvbnNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgYXN5bmMgX2F3YWl0Q29tcGxldGUocmVzcG9uc2VEb25lLCBoYW5kbGVyLCByZXF1ZXN0LCBldmVudCkge1xuICAgICAgICBsZXQgcmVzcG9uc2U7XG4gICAgICAgIGxldCBlcnJvcjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2VEb25lO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWdub3JlIGVycm9ycywgYXMgcmVzcG9uc2UgZXJyb3JzIHNob3VsZCBiZSBjYXVnaHQgdmlhIHRoZSBgcmVzcG9uc2VgXG4gICAgICAgICAgICAvLyBwcm9taXNlIGFib3ZlLiBUaGUgYGRvbmVgIHByb21pc2Ugd2lsbCBvbmx5IHRocm93IGZvciBlcnJvcnMgaW5cbiAgICAgICAgICAgIC8vIHByb21pc2VzIHBhc3NlZCB0byBgaGFuZGxlci53YWl0VW50aWwoKWAuXG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIucnVuQ2FsbGJhY2tzKCdoYW5kbGVyRGlkUmVzcG9uZCcsIHtcbiAgICAgICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgICAgICByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVyLmRvbmVXYWl0aW5nKCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKHdhaXRVbnRpbEVycm9yKSB7XG4gICAgICAgICAgICBpZiAod2FpdFVudGlsRXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIGVycm9yID0gd2FpdFVudGlsRXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgaGFuZGxlci5ydW5DYWxsYmFja3MoJ2hhbmRsZXJEaWRDb21wbGV0ZScsIHtcbiAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlci5kZXN0cm95KCk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgeyBTdHJhdGVneSB9O1xuLyoqXG4gKiBDbGFzc2VzIGV4dGVuZGluZyB0aGUgYFN0cmF0ZWd5YCBiYXNlZCBjbGFzcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLFxuICogYW5kIGxldmVyYWdlIHRoZSB7QGxpbmsgd29ya2JveC1zdHJhdGVnaWVzLlN0cmF0ZWd5SGFuZGxlcn1cbiAqIGFyZyB0byBwZXJmb3JtIGFsbCBmZXRjaGluZyBhbmQgY2FjaGUgbG9naWMsIHdoaWNoIHdpbGwgZW5zdXJlIGFsbCByZWxldmFudFxuICogY2FjaGUsIGNhY2hlIG9wdGlvbnMsIGZldGNoIG9wdGlvbnMgYW5kIHBsdWdpbnMgYXJlIHVzZWQgKHBlciB0aGUgY3VycmVudFxuICogc3RyYXRlZ3kgaW5zdGFuY2UpLlxuICpcbiAqIEBuYW1lIF9oYW5kbGVcbiAqIEBpbnN0YW5jZVxuICogQGFic3RyYWN0XG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7UmVxdWVzdH0gcmVxdWVzdFxuICogQHBhcmFtIHt3b3JrYm94LXN0cmF0ZWdpZXMuU3RyYXRlZ3lIYW5kbGVyfSBoYW5kbGVyXG4gKiBAcmV0dXJuIHtQcm9taXNlPFJlc3BvbnNlPn1cbiAqXG4gKiBAbWVtYmVyb2Ygd29ya2JveC1zdHJhdGVnaWVzLlN0cmF0ZWd5XG4gKi9cbiIsImltcG9ydCB7IHcgYXMgd3JhcCwgciBhcyByZXBsYWNlVHJhcHMgfSBmcm9tICcuL3dyYXAtaWRiLXZhbHVlLmpzJztcbmV4cG9ydCB7IHUgYXMgdW53cmFwLCB3IGFzIHdyYXAgfSBmcm9tICcuL3dyYXAtaWRiLXZhbHVlLmpzJztcblxuLyoqXG4gKiBPcGVuIGEgZGF0YWJhc2UuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKiBAcGFyYW0gdmVyc2lvbiBTY2hlbWEgdmVyc2lvbi5cbiAqIEBwYXJhbSBjYWxsYmFja3MgQWRkaXRpb25hbCBjYWxsYmFja3MuXG4gKi9cbmZ1bmN0aW9uIG9wZW5EQihuYW1lLCB2ZXJzaW9uLCB7IGJsb2NrZWQsIHVwZ3JhZGUsIGJsb2NraW5nLCB0ZXJtaW5hdGVkIH0gPSB7fSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIub3BlbihuYW1lLCB2ZXJzaW9uKTtcbiAgICBjb25zdCBvcGVuUHJvbWlzZSA9IHdyYXAocmVxdWVzdCk7XG4gICAgaWYgKHVwZ3JhZGUpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCd1cGdyYWRlbmVlZGVkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB1cGdyYWRlKHdyYXAocmVxdWVzdC5yZXN1bHQpLCBldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCB3cmFwKHJlcXVlc3QudHJhbnNhY3Rpb24pLCBldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoYmxvY2tlZCkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Jsb2NrZWQnLCAoZXZlbnQpID0+IGJsb2NrZWQoXG4gICAgICAgIC8vIENhc3RpbmcgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC1ET00tbGliLWdlbmVyYXRvci9wdWxsLzE0MDVcbiAgICAgICAgZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgZXZlbnQpKTtcbiAgICB9XG4gICAgb3BlblByb21pc2VcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgIGlmICh0ZXJtaW5hdGVkKVxuICAgICAgICAgICAgZGIuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoKSA9PiB0ZXJtaW5hdGVkKCkpO1xuICAgICAgICBpZiAoYmxvY2tpbmcpIHtcbiAgICAgICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ3ZlcnNpb25jaGFuZ2UnLCAoZXZlbnQpID0+IGJsb2NraW5nKGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIGV2ZW50KSk7XG4gICAgICAgIH1cbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICByZXR1cm4gb3BlblByb21pc2U7XG59XG4vKipcbiAqIERlbGV0ZSBhIGRhdGFiYXNlLlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICovXG5mdW5jdGlvbiBkZWxldGVEQihuYW1lLCB7IGJsb2NrZWQgfSA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShuYW1lKTtcbiAgICBpZiAoYmxvY2tlZCkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Jsb2NrZWQnLCAoZXZlbnQpID0+IGJsb2NrZWQoXG4gICAgICAgIC8vIENhc3RpbmcgZHVlIHRvIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC1ET00tbGliLWdlbmVyYXRvci9wdWxsLzE0MDVcbiAgICAgICAgZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHdyYXAocmVxdWVzdCkudGhlbigoKSA9PiB1bmRlZmluZWQpO1xufVxuXG5jb25zdCByZWFkTWV0aG9kcyA9IFsnZ2V0JywgJ2dldEtleScsICdnZXRBbGwnLCAnZ2V0QWxsS2V5cycsICdjb3VudCddO1xuY29uc3Qgd3JpdGVNZXRob2RzID0gWydwdXQnLCAnYWRkJywgJ2RlbGV0ZScsICdjbGVhciddO1xuY29uc3QgY2FjaGVkTWV0aG9kcyA9IG5ldyBNYXAoKTtcbmZ1bmN0aW9uIGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHtcbiAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBJREJEYXRhYmFzZSAmJlxuICAgICAgICAhKHByb3AgaW4gdGFyZ2V0KSAmJlxuICAgICAgICB0eXBlb2YgcHJvcCA9PT0gJ3N0cmluZycpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGNhY2hlZE1ldGhvZHMuZ2V0KHByb3ApKVxuICAgICAgICByZXR1cm4gY2FjaGVkTWV0aG9kcy5nZXQocHJvcCk7XG4gICAgY29uc3QgdGFyZ2V0RnVuY05hbWUgPSBwcm9wLnJlcGxhY2UoL0Zyb21JbmRleCQvLCAnJyk7XG4gICAgY29uc3QgdXNlSW5kZXggPSBwcm9wICE9PSB0YXJnZXRGdW5jTmFtZTtcbiAgICBjb25zdCBpc1dyaXRlID0gd3JpdGVNZXRob2RzLmluY2x1ZGVzKHRhcmdldEZ1bmNOYW1lKTtcbiAgICBpZiAoXG4gICAgLy8gQmFpbCBpZiB0aGUgdGFyZ2V0IGRvZXNuJ3QgZXhpc3Qgb24gdGhlIHRhcmdldC4gRWcsIGdldEFsbCBpc24ndCBpbiBFZGdlLlxuICAgICEodGFyZ2V0RnVuY05hbWUgaW4gKHVzZUluZGV4ID8gSURCSW5kZXggOiBJREJPYmplY3RTdG9yZSkucHJvdG90eXBlKSB8fFxuICAgICAgICAhKGlzV3JpdGUgfHwgcmVhZE1ldGhvZHMuaW5jbHVkZXModGFyZ2V0RnVuY05hbWUpKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1ldGhvZCA9IGFzeW5jIGZ1bmN0aW9uIChzdG9yZU5hbWUsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gaXNXcml0ZSA/ICdyZWFkd3JpdGUnIDogdW5kZWZpbmVkIGd6aXBwcyBiZXR0ZXIsIGJ1dCBmYWlscyBpbiBFZGdlIDooXG4gICAgICAgIGNvbnN0IHR4ID0gdGhpcy50cmFuc2FjdGlvbihzdG9yZU5hbWUsIGlzV3JpdGUgPyAncmVhZHdyaXRlJyA6ICdyZWFkb25seScpO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdHguc3RvcmU7XG4gICAgICAgIGlmICh1c2VJbmRleClcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5pbmRleChhcmdzLnNoaWZ0KCkpO1xuICAgICAgICAvLyBNdXN0IHJlamVjdCBpZiBvcCByZWplY3RzLlxuICAgICAgICAvLyBJZiBpdCdzIGEgd3JpdGUgb3BlcmF0aW9uLCBtdXN0IHJlamVjdCBpZiB0eC5kb25lIHJlamVjdHMuXG4gICAgICAgIC8vIE11c3QgcmVqZWN0IHdpdGggb3AgcmVqZWN0aW9uIGZpcnN0LlxuICAgICAgICAvLyBNdXN0IHJlc29sdmUgd2l0aCBvcCB2YWx1ZS5cbiAgICAgICAgLy8gTXVzdCBoYW5kbGUgYm90aCBwcm9taXNlcyAobm8gdW5oYW5kbGVkIHJlamVjdGlvbnMpXG4gICAgICAgIHJldHVybiAoYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgdGFyZ2V0W3RhcmdldEZ1bmNOYW1lXSguLi5hcmdzKSxcbiAgICAgICAgICAgIGlzV3JpdGUgJiYgdHguZG9uZSxcbiAgICAgICAgXSkpWzBdO1xuICAgIH07XG4gICAgY2FjaGVkTWV0aG9kcy5zZXQocHJvcCwgbWV0aG9kKTtcbiAgICByZXR1cm4gbWV0aG9kO1xufVxucmVwbGFjZVRyYXBzKChvbGRUcmFwcykgPT4gKHtcbiAgICAuLi5vbGRUcmFwcyxcbiAgICBnZXQ6ICh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSA9PiBnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB8fCBvbGRUcmFwcy5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlciksXG4gICAgaGFzOiAodGFyZ2V0LCBwcm9wKSA9PiAhIWdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHx8IG9sZFRyYXBzLmhhcyh0YXJnZXQsIHByb3ApLFxufSkpO1xuXG5leHBvcnQgeyBkZWxldGVEQiwgb3BlbkRCIH07XG4iLCIvKlxuICBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgeyBvcGVuREIsIGRlbGV0ZURCIH0gZnJvbSAnaWRiJztcbmltcG9ydCAnLi4vX3ZlcnNpb24uanMnO1xuY29uc3QgREJfTkFNRSA9ICd3b3JrYm94LWV4cGlyYXRpb24nO1xuY29uc3QgQ0FDSEVfT0JKRUNUX1NUT1JFID0gJ2NhY2hlLWVudHJpZXMnO1xuY29uc3Qgbm9ybWFsaXplVVJMID0gKHVuTm9ybWFsaXplZFVybCkgPT4ge1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodW5Ob3JtYWxpemVkVXJsLCBsb2NhdGlvbi5ocmVmKTtcbiAgICB1cmwuaGFzaCA9ICcnO1xuICAgIHJldHVybiB1cmwuaHJlZjtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCBtb2RlbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBDYWNoZVRpbWVzdGFtcHNNb2RlbCB7XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVOYW1lXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNhY2hlTmFtZSkge1xuICAgICAgICB0aGlzLl9kYiA9IG51bGw7XG4gICAgICAgIHRoaXMuX2NhY2hlTmFtZSA9IGNhY2hlTmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gdXBncmFkZSBvZiBpbmRleGVkREIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0lEQlBEYXRhYmFzZTxDYWNoZURiU2NoZW1hPn0gZGJcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX3VwZ3JhZGVEYihkYikge1xuICAgICAgICAvLyBUT0RPKHBoaWxpcHdhbHRvbik6IEVkZ2VIVE1MIGRvZXNuJ3Qgc3VwcG9ydCBhcnJheXMgYXMgYSBrZXlQYXRoLCBzbyB3ZVxuICAgICAgICAvLyBoYXZlIHRvIHVzZSB0aGUgYGlkYCBrZXlQYXRoIGhlcmUgYW5kIGNyZWF0ZSBvdXIgb3duIHZhbHVlcyAoYVxuICAgICAgICAvLyBjb25jYXRlbmF0aW9uIG9mIGB1cmwgKyBjYWNoZU5hbWVgKSBpbnN0ZWFkIG9mIHNpbXBseSB1c2luZ1xuICAgICAgICAvLyBga2V5UGF0aDogWyd1cmwnLCAnY2FjaGVOYW1lJ11gLCB3aGljaCBpcyBzdXBwb3J0ZWQgaW4gb3RoZXIgYnJvd3NlcnMuXG4gICAgICAgIGNvbnN0IG9ialN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQ0FDSEVfT0JKRUNUX1NUT1JFLCB7IGtleVBhdGg6ICdpZCcgfSk7XG4gICAgICAgIC8vIFRPRE8ocGhpbGlwd2FsdG9uKTogb25jZSB3ZSBkb24ndCBoYXZlIHRvIHN1cHBvcnQgRWRnZUhUTUwsIHdlIGNhblxuICAgICAgICAvLyBjcmVhdGUgYSBzaW5nbGUgaW5kZXggd2l0aCB0aGUga2V5UGF0aCBgWydjYWNoZU5hbWUnLCAndGltZXN0YW1wJ11gXG4gICAgICAgIC8vIGluc3RlYWQgb2YgZG9pbmcgYm90aCB0aGVzZSBpbmRleGVzLlxuICAgICAgICBvYmpTdG9yZS5jcmVhdGVJbmRleCgnY2FjaGVOYW1lJywgJ2NhY2hlTmFtZScsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICAgICAgb2JqU3RvcmUuY3JlYXRlSW5kZXgoJ3RpbWVzdGFtcCcsICd0aW1lc3RhbXAnLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIHVwZ3JhZGUgb2YgaW5kZXhlZERCIGFuZCBkZWxldGVzIGRlcHJlY2F0ZWQgREJzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtJREJQRGF0YWJhc2U8Q2FjaGVEYlNjaGVtYT59IGRiXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF91cGdyYWRlRGJBbmREZWxldGVPbGREYnMoZGIpIHtcbiAgICAgICAgdGhpcy5fdXBncmFkZURiKGRiKTtcbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlTmFtZSkge1xuICAgICAgICAgICAgdm9pZCBkZWxldGVEQih0aGlzLl9jYWNoZU5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFzeW5jIHNldFRpbWVzdGFtcCh1cmwsIHRpbWVzdGFtcCkge1xuICAgICAgICB1cmwgPSBub3JtYWxpemVVUkwodXJsKTtcbiAgICAgICAgY29uc3QgZW50cnkgPSB7XG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICBjYWNoZU5hbWU6IHRoaXMuX2NhY2hlTmFtZSxcbiAgICAgICAgICAgIC8vIENyZWF0aW5nIGFuIElEIGZyb20gdGhlIFVSTCBhbmQgY2FjaGUgbmFtZSB3b24ndCBiZSBuZWNlc3Nhcnkgb25jZVxuICAgICAgICAgICAgLy8gRWRnZSBzd2l0Y2hlcyB0byBDaHJvbWl1bSBhbmQgYWxsIGJyb3dzZXJzIHdlIHN1cHBvcnQgd29yayB3aXRoXG4gICAgICAgICAgICAvLyBhcnJheSBrZXlQYXRocy5cbiAgICAgICAgICAgIGlkOiB0aGlzLl9nZXRJZCh1cmwpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcbiAgICAgICAgY29uc3QgdHggPSBkYi50cmFuc2FjdGlvbihDQUNIRV9PQkpFQ1RfU1RPUkUsICdyZWFkd3JpdGUnLCB7XG4gICAgICAgICAgICBkdXJhYmlsaXR5OiAncmVsYXhlZCcsXG4gICAgICAgIH0pO1xuICAgICAgICBhd2FpdCB0eC5zdG9yZS5wdXQoZW50cnkpO1xuICAgICAgICBhd2FpdCB0eC5kb25lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB0aW1lc3RhbXAgc3RvcmVkIGZvciBhIGdpdmVuIFVSTC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcmV0dXJuIHtudW1iZXIgfCB1bmRlZmluZWR9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFzeW5jIGdldFRpbWVzdGFtcCh1cmwpIHtcbiAgICAgICAgY29uc3QgZGIgPSBhd2FpdCB0aGlzLmdldERiKCk7XG4gICAgICAgIGNvbnN0IGVudHJ5ID0gYXdhaXQgZGIuZ2V0KENBQ0hFX09CSkVDVF9TVE9SRSwgdGhpcy5fZ2V0SWQodXJsKSk7XG4gICAgICAgIHJldHVybiBlbnRyeSA9PT0gbnVsbCB8fCBlbnRyeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZW50cnkudGltZXN0YW1wO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyB0aHJvdWdoIGFsbCB0aGUgZW50cmllcyBpbiB0aGUgb2JqZWN0IHN0b3JlIChmcm9tIG5ld2VzdCB0b1xuICAgICAqIG9sZGVzdCkgYW5kIHJlbW92ZXMgZW50cmllcyBvbmNlIGVpdGhlciBgbWF4Q291bnRgIGlzIHJlYWNoZWQgb3IgdGhlXG4gICAgICogZW50cnkncyB0aW1lc3RhbXAgaXMgbGVzcyB0aGFuIGBtaW5UaW1lc3RhbXBgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1pblRpbWVzdGFtcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhDb3VudFxuICAgICAqIEByZXR1cm4ge0FycmF5PHN0cmluZz59XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFzeW5jIGV4cGlyZUVudHJpZXMobWluVGltZXN0YW1wLCBtYXhDb3VudCkge1xuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IHRoaXMuZ2V0RGIoKTtcbiAgICAgICAgbGV0IGN1cnNvciA9IGF3YWl0IGRiXG4gICAgICAgICAgICAudHJhbnNhY3Rpb24oQ0FDSEVfT0JKRUNUX1NUT1JFKVxuICAgICAgICAgICAgLnN0b3JlLmluZGV4KCd0aW1lc3RhbXAnKVxuICAgICAgICAgICAgLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKTtcbiAgICAgICAgY29uc3QgZW50cmllc1RvRGVsZXRlID0gW107XG4gICAgICAgIGxldCBlbnRyaWVzTm90RGVsZXRlZENvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKGN1cnNvcikge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgLy8gVE9ETyhwaGlsaXB3YWx0b24pOiBvbmNlIHdlIGNhbiB1c2UgYSBtdWx0aS1rZXkgaW5kZXgsIHdlXG4gICAgICAgICAgICAvLyB3b24ndCBoYXZlIHRvIGNoZWNrIGBjYWNoZU5hbWVgIGhlcmUuXG4gICAgICAgICAgICBpZiAocmVzdWx0LmNhY2hlTmFtZSA9PT0gdGhpcy5fY2FjaGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVsZXRlIGFuIGVudHJ5IGlmIGl0J3Mgb2xkZXIgdGhhbiB0aGUgbWF4IGFnZSBvclxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSB0aGUgbWF4IG51bWJlciBhbGxvd2VkLlxuICAgICAgICAgICAgICAgIGlmICgobWluVGltZXN0YW1wICYmIHJlc3VsdC50aW1lc3RhbXAgPCBtaW5UaW1lc3RhbXApIHx8XG4gICAgICAgICAgICAgICAgICAgIChtYXhDb3VudCAmJiBlbnRyaWVzTm90RGVsZXRlZENvdW50ID49IG1heENvdW50KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKHBoaWxpcHdhbHRvbik6IHdlIHNob3VsZCBiZSBhYmxlIHRvIGRlbGV0ZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gZW50cnkgcmlnaHQgaGVyZSwgYnV0IGRvaW5nIHNvIGNhdXNlcyBhbiBpdGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgLy8gYnVnIGluIFNhZmFyaSBzdGFibGUgKGZpeGVkIGluIFRQKS4gSW5zdGVhZCB3ZSBjYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGtleXMgb2YgdGhlIGVudHJpZXMgdG8gZGVsZXRlLCBhbmQgdGhlblxuICAgICAgICAgICAgICAgICAgICAvLyBkZWxldGUgdGhlIHNlcGFyYXRlIHRyYW5zYWN0aW9ucy5cbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0dvb2dsZUNocm9tZS93b3JrYm94L2lzc3Vlcy8xOTc4XG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnNvci5kZWxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2Ugb25seSBuZWVkIHRvIHJldHVybiB0aGUgVVJMLCBub3QgdGhlIHdob2xlIGVudHJ5LlxuICAgICAgICAgICAgICAgICAgICBlbnRyaWVzVG9EZWxldGUucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZW50cmllc05vdERlbGV0ZWRDb3VudCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnNvciA9IGF3YWl0IGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE8ocGhpbGlwd2FsdG9uKTogb25jZSB0aGUgU2FmYXJpIGJ1ZyBpbiB0aGUgZm9sbG93aW5nIGlzc3VlIGlzIGZpeGVkLFxuICAgICAgICAvLyB3ZSBzaG91bGQgYmUgYWJsZSB0byByZW1vdmUgdGhpcyBsb29wIGFuZCBkbyB0aGUgZW50cnkgZGVsZXRpb24gaW4gdGhlXG4gICAgICAgIC8vIGN1cnNvciBsb29wIGFib3ZlOlxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL3dvcmtib3gvaXNzdWVzLzE5NzhcbiAgICAgICAgY29uc3QgdXJsc0RlbGV0ZWQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzVG9EZWxldGUpIHtcbiAgICAgICAgICAgIGF3YWl0IGRiLmRlbGV0ZShDQUNIRV9PQkpFQ1RfU1RPUkUsIGVudHJ5LmlkKTtcbiAgICAgICAgICAgIHVybHNEZWxldGVkLnB1c2goZW50cnkudXJsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsc0RlbGV0ZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgVVJMIGFuZCByZXR1cm5zIGFuIElEIHRoYXQgd2lsbCBiZSB1bmlxdWUgaW4gdGhlIG9iamVjdCBzdG9yZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRJZCh1cmwpIHtcbiAgICAgICAgLy8gQ3JlYXRpbmcgYW4gSUQgZnJvbSB0aGUgVVJMIGFuZCBjYWNoZSBuYW1lIHdvbid0IGJlIG5lY2Vzc2FyeSBvbmNlXG4gICAgICAgIC8vIEVkZ2Ugc3dpdGNoZXMgdG8gQ2hyb21pdW0gYW5kIGFsbCBicm93c2VycyB3ZSBzdXBwb3J0IHdvcmsgd2l0aFxuICAgICAgICAvLyBhcnJheSBrZXlQYXRocy5cbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlTmFtZSArICd8JyArIG5vcm1hbGl6ZVVSTCh1cmwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIG9wZW4gY29ubmVjdGlvbiB0byB0aGUgZGF0YWJhc2UuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGFzeW5jIGdldERiKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2RiKSB7XG4gICAgICAgICAgICB0aGlzLl9kYiA9IGF3YWl0IG9wZW5EQihEQl9OQU1FLCAxLCB7XG4gICAgICAgICAgICAgICAgdXBncmFkZTogdGhpcy5fdXBncmFkZURiQW5kRGVsZXRlT2xkRGJzLmJpbmQodGhpcyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGI7XG4gICAgfVxufVxuZXhwb3J0IHsgQ2FjaGVUaW1lc3RhbXBzTW9kZWwgfTtcbiIsIi8qXG4gIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcblxuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9hc3NlcnQuanMnO1xuaW1wb3J0IHsgZG9udFdhaXRGb3IgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvZG9udFdhaXRGb3IuanMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL2xvZ2dlci5qcyc7XG5pbXBvcnQgeyBXb3JrYm94RXJyb3IgfSBmcm9tICd3b3JrYm94LWNvcmUvX3ByaXZhdGUvV29ya2JveEVycm9yLmpzJztcbmltcG9ydCB7IENhY2hlVGltZXN0YW1wc01vZGVsIH0gZnJvbSAnLi9tb2RlbHMvQ2FjaGVUaW1lc3RhbXBzTW9kZWwuanMnO1xuaW1wb3J0ICcuL192ZXJzaW9uLmpzJztcbi8qKlxuICogVGhlIGBDYWNoZUV4cGlyYXRpb25gIGNsYXNzIGFsbG93cyB5b3UgZGVmaW5lIGFuIGV4cGlyYXRpb24gYW5kIC8gb3JcbiAqIGxpbWl0IG9uIHRoZSBudW1iZXIgb2YgcmVzcG9uc2VzIHN0b3JlZCBpbiBhXG4gKiBbYENhY2hlYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhY2hlKS5cbiAqXG4gKiBAbWVtYmVyb2Ygd29ya2JveC1leHBpcmF0aW9uXG4gKi9cbmNsYXNzIENhY2hlRXhwaXJhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVG8gY29uc3RydWN0IGEgbmV3IENhY2hlRXhwaXJhdGlvbiBpbnN0YW5jZSB5b3UgbXVzdCBwcm92aWRlIGF0IGxlYXN0XG4gICAgICogb25lIG9mIHRoZSBgY29uZmlnYCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlTmFtZSBOYW1lIG9mIHRoZSBjYWNoZSB0byBhcHBseSByZXN0cmljdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbY29uZmlnLm1heEVudHJpZXNdIFRoZSBtYXhpbXVtIG51bWJlciBvZiBlbnRyaWVzIHRvIGNhY2hlLlxuICAgICAqIEVudHJpZXMgdXNlZCB0aGUgbGVhc3Qgd2lsbCBiZSByZW1vdmVkIGFzIHRoZSBtYXhpbXVtIGlzIHJlYWNoZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcubWF4QWdlU2Vjb25kc10gVGhlIG1heGltdW0gYWdlIG9mIGFuIGVudHJ5IGJlZm9yZVxuICAgICAqIGl0J3MgdHJlYXRlZCBhcyBzdGFsZSBhbmQgcmVtb3ZlZC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW2NvbmZpZy5tYXRjaE9wdGlvbnNdIFRoZSBbYENhY2hlUXVlcnlPcHRpb25zYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NhY2hlL2RlbGV0ZSNQYXJhbWV0ZXJzKVxuICAgICAqIHRoYXQgd2lsbCBiZSB1c2VkIHdoZW4gY2FsbGluZyBgZGVsZXRlKClgIG9uIHRoZSBjYWNoZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjYWNoZU5hbWUsIGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX2lzUnVubmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZXJ1blJlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgYXNzZXJ0LmlzVHlwZShjYWNoZU5hbWUsICdzdHJpbmcnLCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogJ3dvcmtib3gtZXhwaXJhdGlvbicsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnQ2FjaGVFeHBpcmF0aW9uJyxcbiAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICBwYXJhbU5hbWU6ICdjYWNoZU5hbWUnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIShjb25maWcubWF4RW50cmllcyB8fCBjb25maWcubWF4QWdlU2Vjb25kcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV29ya2JveEVycm9yKCdtYXgtZW50cmllcy1vci1hZ2UtcmVxdWlyZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LWV4cGlyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdDYWNoZUV4cGlyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWcubWF4RW50cmllcykge1xuICAgICAgICAgICAgICAgIGFzc2VydC5pc1R5cGUoY29uZmlnLm1heEVudHJpZXMsICdudW1iZXInLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LWV4cGlyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdDYWNoZUV4cGlyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lOiAnY29uZmlnLm1heEVudHJpZXMnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tYXhBZ2VTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0LmlzVHlwZShjb25maWcubWF4QWdlU2Vjb25kcywgJ251bWJlcicsIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogJ3dvcmtib3gtZXhwaXJhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ0NhY2hlRXhwaXJhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmNOYW1lOiAnY29uc3RydWN0b3InLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbU5hbWU6ICdjb25maWcubWF4QWdlU2Vjb25kcycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWF4RW50cmllcyA9IGNvbmZpZy5tYXhFbnRyaWVzO1xuICAgICAgICB0aGlzLl9tYXhBZ2VTZWNvbmRzID0gY29uZmlnLm1heEFnZVNlY29uZHM7XG4gICAgICAgIHRoaXMuX21hdGNoT3B0aW9ucyA9IGNvbmZpZy5tYXRjaE9wdGlvbnM7XG4gICAgICAgIHRoaXMuX2NhY2hlTmFtZSA9IGNhY2hlTmFtZTtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wTW9kZWwgPSBuZXcgQ2FjaGVUaW1lc3RhbXBzTW9kZWwoY2FjaGVOYW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRXhwaXJlcyBlbnRyaWVzIGZvciB0aGUgZ2l2ZW4gY2FjaGUgYW5kIGdpdmVuIGNyaXRlcmlhLlxuICAgICAqL1xuICAgIGFzeW5jIGV4cGlyZUVudHJpZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc1J1bm5pbmcpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlcnVuUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSB0cnVlO1xuICAgICAgICBjb25zdCBtaW5UaW1lc3RhbXAgPSB0aGlzLl9tYXhBZ2VTZWNvbmRzXG4gICAgICAgICAgICA/IERhdGUubm93KCkgLSB0aGlzLl9tYXhBZ2VTZWNvbmRzICogMTAwMFxuICAgICAgICAgICAgOiAwO1xuICAgICAgICBjb25zdCB1cmxzRXhwaXJlZCA9IGF3YWl0IHRoaXMuX3RpbWVzdGFtcE1vZGVsLmV4cGlyZUVudHJpZXMobWluVGltZXN0YW1wLCB0aGlzLl9tYXhFbnRyaWVzKTtcbiAgICAgICAgLy8gRGVsZXRlIFVSTHMgZnJvbSB0aGUgY2FjaGVcbiAgICAgICAgY29uc3QgY2FjaGUgPSBhd2FpdCBzZWxmLmNhY2hlcy5vcGVuKHRoaXMuX2NhY2hlTmFtZSk7XG4gICAgICAgIGZvciAoY29uc3QgdXJsIG9mIHVybHNFeHBpcmVkKSB7XG4gICAgICAgICAgICBhd2FpdCBjYWNoZS5kZWxldGUodXJsLCB0aGlzLl9tYXRjaE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAodXJsc0V4cGlyZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5ncm91cENvbGxhcHNlZChgRXhwaXJlZCAke3VybHNFeHBpcmVkLmxlbmd0aH0gYCArXG4gICAgICAgICAgICAgICAgICAgIGAke3VybHNFeHBpcmVkLmxlbmd0aCA9PT0gMSA/ICdlbnRyeScgOiAnZW50cmllcyd9IGFuZCByZW1vdmVkIGAgK1xuICAgICAgICAgICAgICAgICAgICBgJHt1cmxzRXhwaXJlZC5sZW5ndGggPT09IDEgPyAnaXQnIDogJ3RoZW0nfSBmcm9tIHRoZSBgICtcbiAgICAgICAgICAgICAgICAgICAgYCcke3RoaXMuX2NhY2hlTmFtZX0nIGNhY2hlLmApO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coYEV4cGlyZWQgdGhlIGZvbGxvd2luZyAke3VybHNFeHBpcmVkLmxlbmd0aCA9PT0gMSA/ICdVUkwnIDogJ1VSTHMnfTpgKTtcbiAgICAgICAgICAgICAgICB1cmxzRXhwaXJlZC5mb3JFYWNoKCh1cmwpID0+IGxvZ2dlci5sb2coYCAgICAke3VybH1gKSk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmdyb3VwRW5kKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYENhY2hlIGV4cGlyYXRpb24gcmFuIGFuZCBmb3VuZCBubyBlbnRyaWVzIHRvIHJlbW92ZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9pc1J1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuX3JlcnVuUmVxdWVzdGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXJ1blJlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgZG9udFdhaXRGb3IodGhpcy5leHBpcmVFbnRyaWVzKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgdGltZXN0YW1wIGZvciB0aGUgZ2l2ZW4gVVJMLiBUaGlzIGVuc3VyZXMgdGhlIHdoZW5cbiAgICAgKiByZW1vdmluZyBlbnRyaWVzIGJhc2VkIG9uIG1heGltdW0gZW50cmllcywgbW9zdCByZWNlbnRseSB1c2VkXG4gICAgICogaXMgYWNjdXJhdGUgb3Igd2hlbiBleHBpcmluZywgdGhlIHRpbWVzdGFtcCBpcyB1cC10by1kYXRlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxuICAgICAqL1xuICAgIGFzeW5jIHVwZGF0ZVRpbWVzdGFtcCh1cmwpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGFzc2VydC5pc1R5cGUodXJsLCAnc3RyaW5nJywge1xuICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LWV4cGlyYXRpb24nLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ0NhY2hlRXhwaXJhdGlvbicsXG4gICAgICAgICAgICAgICAgZnVuY05hbWU6ICd1cGRhdGVUaW1lc3RhbXAnLFxuICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ3VybCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBhd2FpdCB0aGlzLl90aW1lc3RhbXBNb2RlbC5zZXRUaW1lc3RhbXAodXJsLCBEYXRlLm5vdygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuIGJlIHVzZWQgdG8gY2hlY2sgaWYgYSBVUkwgaGFzIGV4cGlyZWQgb3Igbm90IGJlZm9yZSBpdCdzIHVzZWQuXG4gICAgICpcbiAgICAgKiBUaGlzIHJlcXVpcmVzIGEgbG9vayB1cCBmcm9tIEluZGV4ZWREQiwgc28gY2FuIGJlIHNsb3cuXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIG1ldGhvZCB3aWxsIG5vdCByZW1vdmUgdGhlIGNhY2hlZCBlbnRyeSwgY2FsbFxuICAgICAqIGBleHBpcmVFbnRyaWVzKClgIHRvIHJlbW92ZSBpbmRleGVkREIgYW5kIENhY2hlIGVudHJpZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBhc3luYyBpc1VSTEV4cGlyZWQodXJsKSB7XG4gICAgICAgIGlmICghdGhpcy5fbWF4QWdlU2Vjb25kcykge1xuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV29ya2JveEVycm9yKGBleHBpcmVkLXRlc3Qtd2l0aG91dC1tYXgtYWdlYCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2ROYW1lOiAnaXNVUkxFeHBpcmVkJyxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lOiAnbWF4QWdlU2Vjb25kcycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBhd2FpdCB0aGlzLl90aW1lc3RhbXBNb2RlbC5nZXRUaW1lc3RhbXAodXJsKTtcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyZU9sZGVyVGhhbiA9IERhdGUubm93KCkgLSB0aGlzLl9tYXhBZ2VTZWNvbmRzICogMTAwMDtcbiAgICAgICAgICAgIHJldHVybiB0aW1lc3RhbXAgIT09IHVuZGVmaW5lZCA/IHRpbWVzdGFtcCA8IGV4cGlyZU9sZGVyVGhhbiA6IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgSW5kZXhlZERCIG9iamVjdCBzdG9yZSB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgY2FjaGUgZXhwaXJhdGlvblxuICAgICAqIG1ldGFkYXRhLlxuICAgICAqL1xuICAgIGFzeW5jIGRlbGV0ZSgpIHtcbiAgICAgICAgLy8gTWFrZSBzdXJlIHdlIGRvbid0IGF0dGVtcHQgYW5vdGhlciByZXJ1biBpZiB3ZSdyZSBjYWxsZWQgaW4gdGhlIG1pZGRsZSBvZlxuICAgICAgICAvLyBhIGNhY2hlIGV4cGlyYXRpb24uXG4gICAgICAgIHRoaXMuX3JlcnVuUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIGF3YWl0IHRoaXMuX3RpbWVzdGFtcE1vZGVsLmV4cGlyZUVudHJpZXMoSW5maW5pdHkpOyAvLyBFeHBpcmVzIGFsbC5cbiAgICB9XG59XG5leHBvcnQgeyBDYWNoZUV4cGlyYXRpb24gfTtcbiIsIi8qXG4gIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcblxuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9hc3NlcnQuanMnO1xuaW1wb3J0IHsgY2FjaGVOYW1lcyB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9jYWNoZU5hbWVzLmpzJztcbmltcG9ydCB7IGRvbnRXYWl0Rm9yIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL2RvbnRXYWl0Rm9yLmpzJztcbmltcG9ydCB7IGdldEZyaWVuZGx5VVJMIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL2dldEZyaWVuZGx5VVJMLmpzJztcbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9sb2dnZXIuanMnO1xuaW1wb3J0IHsgcmVnaXN0ZXJRdW90YUVycm9yQ2FsbGJhY2sgfSBmcm9tICd3b3JrYm94LWNvcmUvcmVnaXN0ZXJRdW90YUVycm9yQ2FsbGJhY2suanMnO1xuaW1wb3J0IHsgV29ya2JveEVycm9yIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL1dvcmtib3hFcnJvci5qcyc7XG5pbXBvcnQgeyBDYWNoZUV4cGlyYXRpb24gfSBmcm9tICcuL0NhY2hlRXhwaXJhdGlvbi5qcyc7XG5pbXBvcnQgJy4vX3ZlcnNpb24uanMnO1xuLyoqXG4gKiBUaGlzIHBsdWdpbiBjYW4gYmUgdXNlZCBpbiBhIGB3b3JrYm94LXN0cmF0ZWd5YCB0byByZWd1bGFybHkgZW5mb3JjZSBhXG4gKiBsaW1pdCBvbiB0aGUgYWdlIGFuZCAvIG9yIHRoZSBudW1iZXIgb2YgY2FjaGVkIHJlcXVlc3RzLlxuICpcbiAqIEl0IGNhbiBvbmx5IGJlIHVzZWQgd2l0aCBgd29ya2JveC1zdHJhdGVneWAgaW5zdGFuY2VzIHRoYXQgaGF2ZSBhXG4gKiBbY3VzdG9tIGBjYWNoZU5hbWVgIHByb3BlcnR5IHNldF0oL3dlYi90b29scy93b3JrYm94L2d1aWRlcy9jb25maWd1cmUtd29ya2JveCNjdXN0b21fY2FjaGVfbmFtZXNfaW5fc3RyYXRlZ2llcykuXG4gKiBJbiBvdGhlciB3b3JkcywgaXQgY2FuJ3QgYmUgdXNlZCB0byBleHBpcmUgZW50cmllcyBpbiBzdHJhdGVneSB0aGF0IHVzZXMgdGhlXG4gKiBkZWZhdWx0IHJ1bnRpbWUgY2FjaGUgbmFtZS5cbiAqXG4gKiBXaGVuZXZlciBhIGNhY2hlZCByZXNwb25zZSBpcyB1c2VkIG9yIHVwZGF0ZWQsIHRoaXMgcGx1Z2luIHdpbGwgbG9va1xuICogYXQgdGhlIGFzc29jaWF0ZWQgY2FjaGUgYW5kIHJlbW92ZSBhbnkgb2xkIG9yIGV4dHJhIHJlc3BvbnNlcy5cbiAqXG4gKiBXaGVuIHVzaW5nIGBtYXhBZ2VTZWNvbmRzYCwgcmVzcG9uc2VzIG1heSBiZSB1c2VkICpvbmNlKiBhZnRlciBleHBpcmluZ1xuICogYmVjYXVzZSB0aGUgZXhwaXJhdGlvbiBjbGVhbiB1cCB3aWxsIG5vdCBoYXZlIG9jY3VycmVkIHVudGlsICphZnRlciogdGhlXG4gKiBjYWNoZWQgcmVzcG9uc2UgaGFzIGJlZW4gdXNlZC4gSWYgdGhlIHJlc3BvbnNlIGhhcyBhIFwiRGF0ZVwiIGhlYWRlciwgdGhlblxuICogYSBsaWdodCB3ZWlnaHQgZXhwaXJhdGlvbiBjaGVjayBpcyBwZXJmb3JtZWQgYW5kIHRoZSByZXNwb25zZSB3aWxsIG5vdCBiZVxuICogdXNlZCBpbW1lZGlhdGVseS5cbiAqXG4gKiBXaGVuIHVzaW5nIGBtYXhFbnRyaWVzYCwgdGhlIGVudHJ5IGxlYXN0LXJlY2VudGx5IHJlcXVlc3RlZCB3aWxsIGJlIHJlbW92ZWRcbiAqIGZyb20gdGhlIGNhY2hlIGZpcnN0LlxuICpcbiAqIEBtZW1iZXJvZiB3b3JrYm94LWV4cGlyYXRpb25cbiAqL1xuY2xhc3MgRXhwaXJhdGlvblBsdWdpbiB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFeHBpcmF0aW9uUGx1Z2luT3B0aW9uc30gY29uZmlnXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtjb25maWcubWF4RW50cmllc10gVGhlIG1heGltdW0gbnVtYmVyIG9mIGVudHJpZXMgdG8gY2FjaGUuXG4gICAgICogRW50cmllcyB1c2VkIHRoZSBsZWFzdCB3aWxsIGJlIHJlbW92ZWQgYXMgdGhlIG1heGltdW0gaXMgcmVhY2hlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvbmZpZy5tYXhBZ2VTZWNvbmRzXSBUaGUgbWF4aW11bSBhZ2Ugb2YgYW4gZW50cnkgYmVmb3JlXG4gICAgICogaXQncyB0cmVhdGVkIGFzIHN0YWxlIGFuZCByZW1vdmVkLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbY29uZmlnLm1hdGNoT3B0aW9uc10gVGhlIFtgQ2FjaGVRdWVyeU9wdGlvbnNgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2FjaGUvZGVsZXRlI1BhcmFtZXRlcnMpXG4gICAgICogdGhhdCB3aWxsIGJlIHVzZWQgd2hlbiBjYWxsaW5nIGBkZWxldGUoKWAgb24gdGhlIGNhY2hlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2NvbmZpZy5wdXJnZU9uUXVvdGFFcnJvcl0gV2hldGhlciB0byBvcHQgdGhpcyBjYWNoZSBpbiB0b1xuICAgICAqIGF1dG9tYXRpYyBkZWxldGlvbiBpZiB0aGUgYXZhaWxhYmxlIHN0b3JhZ2UgcXVvdGEgaGFzIGJlZW4gZXhjZWVkZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29uZmlnID0ge30pIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgXCJsaWZlY3ljbGVcIiBjYWxsYmFjayB0aGF0IHdpbGwgYmUgdHJpZ2dlcmVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlXG4gICAgICAgICAqIGB3b3JrYm94LXN0cmF0ZWdpZXNgIGhhbmRsZXJzIHdoZW4gYSBgUmVzcG9uc2VgIGlzIGFib3V0IHRvIGJlIHJldHVybmVkXG4gICAgICAgICAqIGZyb20gYSBbQ2FjaGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DYWNoZSkgdG9cbiAgICAgICAgICogdGhlIGhhbmRsZXIuIEl0IGFsbG93cyB0aGUgYFJlc3BvbnNlYCB0byBiZSBpbnNwZWN0ZWQgZm9yIGZyZXNobmVzcyBhbmRcbiAgICAgICAgICogcHJldmVudHMgaXQgZnJvbSBiZWluZyB1c2VkIGlmIHRoZSBgUmVzcG9uc2VgJ3MgYERhdGVgIGhlYWRlciB2YWx1ZSBpc1xuICAgICAgICAgKiBvbGRlciB0aGFuIHRoZSBjb25maWd1cmVkIGBtYXhBZ2VTZWNvbmRzYC5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuY2FjaGVOYW1lIE5hbWUgb2YgdGhlIGNhY2hlIHRoZSByZXNwb25zZSBpcyBpbi5cbiAgICAgICAgICogQHBhcmFtIHtSZXNwb25zZX0gb3B0aW9ucy5jYWNoZWRSZXNwb25zZSBUaGUgYFJlc3BvbnNlYCBvYmplY3QgdGhhdCdzIGJlZW5cbiAgICAgICAgICogICAgIHJlYWQgZnJvbSBhIGNhY2hlIGFuZCB3aG9zZSBmcmVzaG5lc3Mgc2hvdWxkIGJlIGNoZWNrZWQuXG4gICAgICAgICAqIEByZXR1cm4ge1Jlc3BvbnNlfSBFaXRoZXIgdGhlIGBjYWNoZWRSZXNwb25zZWAsIGlmIGl0J3NcbiAgICAgICAgICogICAgIGZyZXNoLCBvciBgbnVsbGAgaWYgdGhlIGBSZXNwb25zZWAgaXMgb2xkZXIgdGhhbiBgbWF4QWdlU2Vjb25kc2AuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlZFJlc3BvbnNlV2lsbEJlVXNlZCA9IGFzeW5jICh7IGV2ZW50LCByZXF1ZXN0LCBjYWNoZU5hbWUsIGNhY2hlZFJlc3BvbnNlLCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWNhY2hlZFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpc0ZyZXNoID0gdGhpcy5faXNSZXNwb25zZURhdGVGcmVzaChjYWNoZWRSZXNwb25zZSk7XG4gICAgICAgICAgICAvLyBFeHBpcmUgZW50cmllcyB0byBlbnN1cmUgdGhhdCBldmVuIGlmIHRoZSBleHBpcmF0aW9uIGRhdGUgaGFzXG4gICAgICAgICAgICAvLyBleHBpcmVkLCBpdCdsbCBvbmx5IGJlIHVzZWQgb25jZS5cbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRXhwaXJhdGlvbiA9IHRoaXMuX2dldENhY2hlRXhwaXJhdGlvbihjYWNoZU5hbWUpO1xuICAgICAgICAgICAgZG9udFdhaXRGb3IoY2FjaGVFeHBpcmF0aW9uLmV4cGlyZUVudHJpZXMoKSk7XG4gICAgICAgICAgICAvLyBVcGRhdGUgdGhlIG1ldGFkYXRhIGZvciB0aGUgcmVxdWVzdCBVUkwgdG8gdGhlIGN1cnJlbnQgdGltZXN0YW1wLFxuICAgICAgICAgICAgLy8gYnV0IGRvbid0IGBhd2FpdGAgaXQgYXMgd2UgZG9uJ3Qgd2FudCB0byBibG9jayB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVUaW1lc3RhbXBEb25lID0gY2FjaGVFeHBpcmF0aW9uLnVwZGF0ZVRpbWVzdGFtcChyZXF1ZXN0LnVybCk7XG4gICAgICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBldmVudC53YWl0VW50aWwodXBkYXRlVGltZXN0YW1wRG9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGV2ZW50IG1heSBub3QgYmUgYSBmZXRjaCBldmVudDsgb25seSBsb2cgdGhlIFVSTCBpZiBpdCBpcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgncmVxdWVzdCcgaW4gZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihgVW5hYmxlIHRvIGVuc3VyZSBzZXJ2aWNlIHdvcmtlciBzdGF5cyBhbGl2ZSB3aGVuIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdXBkYXRpbmcgY2FjaGUgZW50cnkgZm9yIGAgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgJyR7Z2V0RnJpZW5kbHlVUkwoZXZlbnQucmVxdWVzdC51cmwpfScuYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaXNGcmVzaCA/IGNhY2hlZFJlc3BvbnNlIDogbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgXCJsaWZlY3ljbGVcIiBjYWxsYmFjayB0aGF0IHdpbGwgYmUgdHJpZ2dlcmVkIGF1dG9tYXRpY2FsbHkgYnkgdGhlXG4gICAgICAgICAqIGB3b3JrYm94LXN0cmF0ZWdpZXNgIGhhbmRsZXJzIHdoZW4gYW4gZW50cnkgaXMgYWRkZWQgdG8gYSBjYWNoZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9wdGlvbnMuY2FjaGVOYW1lIE5hbWUgb2YgdGhlIGNhY2hlIHRoYXQgd2FzIHVwZGF0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25zLnJlcXVlc3QgVGhlIFJlcXVlc3QgZm9yIHRoZSBjYWNoZWQgZW50cnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNhY2hlRGlkVXBkYXRlID0gYXN5bmMgKHsgY2FjaGVOYW1lLCByZXF1ZXN0LCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgICAgIGFzc2VydC5pc1R5cGUoY2FjaGVOYW1lLCAnc3RyaW5nJywge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiAnd29ya2JveC1leHBpcmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnUGx1Z2luJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY05hbWU6ICdjYWNoZURpZFVwZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ2NhY2hlTmFtZScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXNzZXJ0LmlzSW5zdGFuY2UocmVxdWVzdCwgUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiAnd29ya2JveC1leHBpcmF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnUGx1Z2luJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY05hbWU6ICdjYWNoZURpZFVwZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtTmFtZTogJ3JlcXVlc3QnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2FjaGVFeHBpcmF0aW9uID0gdGhpcy5fZ2V0Q2FjaGVFeHBpcmF0aW9uKGNhY2hlTmFtZSk7XG4gICAgICAgICAgICBhd2FpdCBjYWNoZUV4cGlyYXRpb24udXBkYXRlVGltZXN0YW1wKHJlcXVlc3QudXJsKTtcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlRXhwaXJhdGlvbi5leHBpcmVFbnRyaWVzKCk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICBpZiAoIShjb25maWcubWF4RW50cmllcyB8fCBjb25maWcubWF4QWdlU2Vjb25kcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgV29ya2JveEVycm9yKCdtYXgtZW50cmllcy1vci1hZ2UtcmVxdWlyZWQnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LWV4cGlyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdQbHVnaW4nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb25maWcubWF4RW50cmllcykge1xuICAgICAgICAgICAgICAgIGFzc2VydC5pc1R5cGUoY29uZmlnLm1heEVudHJpZXMsICdudW1iZXInLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LWV4cGlyYXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdQbHVnaW4nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jTmFtZTogJ2NvbnN0cnVjdG9yJyxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lOiAnY29uZmlnLm1heEVudHJpZXMnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbmZpZy5tYXhBZ2VTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgYXNzZXJ0LmlzVHlwZShjb25maWcubWF4QWdlU2Vjb25kcywgJ251bWJlcicsIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kdWxlTmFtZTogJ3dvcmtib3gtZXhwaXJhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ1BsdWdpbicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmNOYW1lOiAnY29uc3RydWN0b3InLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbU5hbWU6ICdjb25maWcubWF4QWdlU2Vjb25kcycsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9tYXhBZ2VTZWNvbmRzID0gY29uZmlnLm1heEFnZVNlY29uZHM7XG4gICAgICAgIHRoaXMuX2NhY2hlRXhwaXJhdGlvbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIGlmIChjb25maWcucHVyZ2VPblF1b3RhRXJyb3IpIHtcbiAgICAgICAgICAgIHJlZ2lzdGVyUXVvdGFFcnJvckNhbGxiYWNrKCgpID0+IHRoaXMuZGVsZXRlQ2FjaGVBbmRNZXRhZGF0YSgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSBoZWxwZXIgbWV0aG9kIHRvIHJldHVybiBhIENhY2hlRXhwaXJhdGlvbiBpbnN0YW5jZSBmb3IgYSBnaXZlblxuICAgICAqIGNhY2hlIG5hbWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVOYW1lXG4gICAgICogQHJldHVybiB7Q2FjaGVFeHBpcmF0aW9ufVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0Q2FjaGVFeHBpcmF0aW9uKGNhY2hlTmFtZSkge1xuICAgICAgICBpZiAoY2FjaGVOYW1lID09PSBjYWNoZU5hbWVzLmdldFJ1bnRpbWVOYW1lKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBXb3JrYm94RXJyb3IoJ2V4cGlyZS1jdXN0b20tY2FjaGVzLW9ubHknKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY2FjaGVFeHBpcmF0aW9uID0gdGhpcy5fY2FjaGVFeHBpcmF0aW9ucy5nZXQoY2FjaGVOYW1lKTtcbiAgICAgICAgaWYgKCFjYWNoZUV4cGlyYXRpb24pIHtcbiAgICAgICAgICAgIGNhY2hlRXhwaXJhdGlvbiA9IG5ldyBDYWNoZUV4cGlyYXRpb24oY2FjaGVOYW1lLCB0aGlzLl9jb25maWcpO1xuICAgICAgICAgICAgdGhpcy5fY2FjaGVFeHBpcmF0aW9ucy5zZXQoY2FjaGVOYW1lLCBjYWNoZUV4cGlyYXRpb24pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZUV4cGlyYXRpb247XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7UmVzcG9uc2V9IGNhY2hlZFJlc3BvbnNlXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2lzUmVzcG9uc2VEYXRlRnJlc2goY2FjaGVkUmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tYXhBZ2VTZWNvbmRzKSB7XG4gICAgICAgICAgICAvLyBXZSBhcmVuJ3QgZXhwaXJpbmcgYnkgYWdlLCBzbyByZXR1cm4gdHJ1ZSwgaXQncyBmcmVzaFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlICdkYXRlJyBoZWFkZXIgd2lsbCBzdWZmaWNlIGEgcXVpY2sgZXhwaXJhdGlvbiBjaGVjay5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Hb29nbGVDaHJvbWVMYWJzL3N3LXRvb2xib3gvaXNzdWVzLzE2NCBmb3JcbiAgICAgICAgLy8gZGlzY3Vzc2lvbi5cbiAgICAgICAgY29uc3QgZGF0ZUhlYWRlclRpbWVzdGFtcCA9IHRoaXMuX2dldERhdGVIZWFkZXJUaW1lc3RhbXAoY2FjaGVkUmVzcG9uc2UpO1xuICAgICAgICBpZiAoZGF0ZUhlYWRlclRpbWVzdGFtcCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gVW5hYmxlIHRvIHBhcnNlIGRhdGUsIHNvIGFzc3VtZSBpdCdzIGZyZXNoLlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIHZhbGlkIGhlYWRlclRpbWUsIHRoZW4gb3VyIHJlc3BvbnNlIGlzIGZyZXNoIGlmZiB0aGVcbiAgICAgICAgLy8gaGVhZGVyVGltZSBwbHVzIG1heEFnZVNlY29uZHMgaXMgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IHRpbWUuXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBkYXRlSGVhZGVyVGltZXN0YW1wID49IG5vdyAtIHRoaXMuX21heEFnZVNlY29uZHMgKiAxMDAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIGV4dHJhY3QgdGhlIGRhdGEgaGVhZGVyIGFuZCBwYXJzZSBpdCBpbnRvIGEgdXNlZnVsXG4gICAgICogdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Jlc3BvbnNlfSBjYWNoZWRSZXNwb25zZVxuICAgICAqIEByZXR1cm4ge251bWJlcnxudWxsfVxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBfZ2V0RGF0ZUhlYWRlclRpbWVzdGFtcChjYWNoZWRSZXNwb25zZSkge1xuICAgICAgICBpZiAoIWNhY2hlZFJlc3BvbnNlLmhlYWRlcnMuaGFzKCdkYXRlJykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGVIZWFkZXIgPSBjYWNoZWRSZXNwb25zZS5oZWFkZXJzLmdldCgnZGF0ZScpO1xuICAgICAgICBjb25zdCBwYXJzZWREYXRlID0gbmV3IERhdGUoZGF0ZUhlYWRlcik7XG4gICAgICAgIGNvbnN0IGhlYWRlclRpbWUgPSBwYXJzZWREYXRlLmdldFRpbWUoKTtcbiAgICAgICAgLy8gSWYgdGhlIERhdGUgaGVhZGVyIHdhcyBpbnZhbGlkIGZvciBzb21lIHJlYXNvbiwgcGFyc2VkRGF0ZS5nZXRUaW1lKClcbiAgICAgICAgLy8gd2lsbCByZXR1cm4gTmFOLlxuICAgICAgICBpZiAoaXNOYU4oaGVhZGVyVGltZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoZWFkZXJUaW1lO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGEgaGVscGVyIG1ldGhvZCB0aGF0IHBlcmZvcm1zIHR3byBvcGVyYXRpb25zOlxuICAgICAqXG4gICAgICogLSBEZWxldGVzICphbGwqIHRoZSB1bmRlcmx5aW5nIENhY2hlIGluc3RhbmNlcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBwbHVnaW5cbiAgICAgKiBpbnN0YW5jZSwgYnkgY2FsbGluZyBjYWNoZXMuZGVsZXRlKCkgb24geW91ciBiZWhhbGYuXG4gICAgICogLSBEZWxldGVzIHRoZSBtZXRhZGF0YSBmcm9tIEluZGV4ZWREQiB1c2VkIHRvIGtlZXAgdHJhY2sgb2YgZXhwaXJhdGlvblxuICAgICAqIGRldGFpbHMgZm9yIGVhY2ggQ2FjaGUgaW5zdGFuY2UuXG4gICAgICpcbiAgICAgKiBXaGVuIHVzaW5nIGNhY2hlIGV4cGlyYXRpb24sIGNhbGxpbmcgdGhpcyBtZXRob2QgaXMgcHJlZmVyYWJsZSB0byBjYWxsaW5nXG4gICAgICogYGNhY2hlcy5kZWxldGUoKWAgZGlyZWN0bHksIHNpbmNlIHRoaXMgd2lsbCBlbnN1cmUgdGhhdCB0aGUgSW5kZXhlZERCXG4gICAgICogbWV0YWRhdGEgaXMgYWxzbyBjbGVhbmx5IHJlbW92ZWQgYW5kIG9wZW4gSW5kZXhlZERCIGluc3RhbmNlcyBhcmUgZGVsZXRlZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpZiB5b3UncmUgKm5vdCogdXNpbmcgY2FjaGUgZXhwaXJhdGlvbiBmb3IgYSBnaXZlbiBjYWNoZSwgY2FsbGluZ1xuICAgICAqIGBjYWNoZXMuZGVsZXRlKClgIGFuZCBwYXNzaW5nIGluIHRoZSBjYWNoZSdzIG5hbWUgc2hvdWxkIGJlIHN1ZmZpY2llbnQuXG4gICAgICogVGhlcmUgaXMgbm8gV29ya2JveC1zcGVjaWZpYyBtZXRob2QgbmVlZGVkIGZvciBjbGVhbnVwIGluIHRoYXQgY2FzZS5cbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGVDYWNoZUFuZE1ldGFkYXRhKCkge1xuICAgICAgICAvLyBEbyB0aGlzIG9uZSBhdCBhIHRpbWUgaW5zdGVhZCBvZiBhbGwgYXQgb25jZSB2aWEgYFByb21pc2UuYWxsKClgIHRvXG4gICAgICAgIC8vIHJlZHVjZSB0aGUgY2hhbmNlIG9mIGluY29uc2lzdGVuY3kgaWYgYSBwcm9taXNlIHJlamVjdHMuXG4gICAgICAgIGZvciAoY29uc3QgW2NhY2hlTmFtZSwgY2FjaGVFeHBpcmF0aW9uXSBvZiB0aGlzLl9jYWNoZUV4cGlyYXRpb25zKSB7XG4gICAgICAgICAgICBhd2FpdCBzZWxmLmNhY2hlcy5kZWxldGUoY2FjaGVOYW1lKTtcbiAgICAgICAgICAgIGF3YWl0IGNhY2hlRXhwaXJhdGlvbi5kZWxldGUoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZXNldCB0aGlzLl9jYWNoZUV4cGlyYXRpb25zIHRvIGl0cyBpbml0aWFsIHN0YXRlLlxuICAgICAgICB0aGlzLl9jYWNoZUV4cGlyYXRpb25zID0gbmV3IE1hcCgpO1xuICAgIH1cbn1cbmV4cG9ydCB7IEV4cGlyYXRpb25QbHVnaW4gfTtcbiIsIi8qXG4gIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcblxuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJy4vX3ByaXZhdGUvbG9nZ2VyLmpzJztcbmltcG9ydCB7IGFzc2VydCB9IGZyb20gJy4vX3ByaXZhdGUvYXNzZXJ0LmpzJztcbmltcG9ydCB7IHF1b3RhRXJyb3JDYWxsYmFja3MgfSBmcm9tICcuL21vZGVscy9xdW90YUVycm9yQ2FsbGJhY2tzLmpzJztcbmltcG9ydCAnLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIEFkZHMgYSBmdW5jdGlvbiB0byB0aGUgc2V0IG9mIHF1b3RhRXJyb3JDYWxsYmFja3MgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGlmXG4gKiB0aGVyZSdzIGEgcXVvdGEgZXJyb3IuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEBtZW1iZXJvZiB3b3JrYm94LWNvcmVcbiAqL1xuLy8gQ2FuJ3QgY2hhbmdlIEZ1bmN0aW9uIHR5cGVcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiByZWdpc3RlclF1b3RhRXJyb3JDYWxsYmFjayhjYWxsYmFjaykge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIGFzc2VydC5pc1R5cGUoY2FsbGJhY2ssICdmdW5jdGlvbicsIHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LWNvcmUnLFxuICAgICAgICAgICAgZnVuY05hbWU6ICdyZWdpc3RlcicsXG4gICAgICAgICAgICBwYXJhbU5hbWU6ICdjYWxsYmFjaycsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBxdW90YUVycm9yQ2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnUmVnaXN0ZXJlZCBhIGNhbGxiYWNrIHRvIHJlc3BvbmQgdG8gcXVvdGEgZXJyb3JzLicsIGNhbGxiYWNrKTtcbiAgICB9XG59XG5leHBvcnQgeyByZWdpc3RlclF1b3RhRXJyb3JDYWxsYmFjayB9O1xuIiwiLy8gU2VydmljZSBXb3JrZXIgaGVscGVyIGNsYXNzIGZvciB3b3JraW5nIHdpdGggV29ya0JveCBmdW5jdGlvbmFsaXRpZXNcclxuaW1wb3J0IHsgc2tpcFdhaXRpbmcsIGNsaWVudHNDbGFpbSwgfSBmcm9tICd3b3JrYm94LWNvcmUnO1xyXG5pbXBvcnQgeyBXb3JrYm94LCB9IGZyb20gJ3dvcmtib3gtd2luZG93JztcclxuaW1wb3J0IHsgcmVnaXN0ZXJSb3V0ZSwgc2V0Q2F0Y2hIYW5kbGVyLCB9IGZyb20gJ3dvcmtib3gtcm91dGluZyc7XHJcbmltcG9ydCB7IENhY2hlRmlyc3QgfSBmcm9tICd3b3JrYm94LXN0cmF0ZWdpZXMnO1xyXG5pbXBvcnQgeyBFeHBpcmF0aW9uUGx1Z2luLCB9IGZyb20gJ3dvcmtib3gtZXhwaXJhdGlvbic7XHJcbmltcG9ydCB7IHByZWNhY2hlQW5kUm91dGUgfSBmcm9tICd3b3JrYm94LXByZWNhY2hpbmcnO1xyXG4vLy8gPHJlZmVyZW5jZSBsaWI9XCJ3ZWJ3b3JrZXJcIiAvPlxyXG5cclxuLy8gQHRzLWlnbm9yZSBXQl9NQU5JRkVTVCBpcyBpbmplY3RlZCBieSB3b3JrYm94LXdlYnBhY2stcGx1Z2luXHJcbi8vIHByZWNhY2hlQW5kUm91dGUoc2VsZi5fX1dCX01BTklGRVNUKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG51bGw7XHJcbi8vIEB0cy1pZ25vcmUgU2VydmljZVdvcmtlckdsb2JhbFNjb3BlIGlzIGRlZmluZWQgYnkgbGliPVwid2Vid29ya2VyXCJcclxuZGVjbGFyZSBsZXQgc2VsZjogU2VydmljZVdvcmtlckdsb2JhbFNjb3BlO1xyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIGludGVyZmFjZSBFeHRlbmRhYmxlRXZlbnQgZXh0ZW5kcyBFdmVudCB7XHJcbiAgICB3YWl0VW50aWwoZm46IFByb21pc2U8YW55Pik6IHZvaWQ7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ1JTZXJ2aWNlV29ya2VyIHtcclxuXHJcbiAgICBjYWNoZU5hbWVUYWc6IHN0cmluZztcclxuICAgIHZlcnNpb246IHN0cmluZztcclxuXHJcbiAgICBpbWFnZXNDYWNoZU5hbWU6IHN0cmluZztcclxuICAgIGZvbnRzQ2FjaGVOYW1lOiBzdHJpbmc7XHJcbiAgICBzdHlsZXNTY3JpcHRzQ2FjaGVOYW1lOiBzdHJpbmc7XHJcbiAgICBkb2N1bWVudENhY2hlTmFtZTogc3RyaW5nO1xyXG5cclxuICAgIC8vIEV4cGlyYXRpb24gUGx1Z2luc1xyXG4gICAgc3R5bGVzU2NyaXB0c0V4cGlyYXRpb25QbHVnaW46IEV4cGlyYXRpb25QbHVnaW47XHJcbiAgICBpbWFnZXNFeHBpcmF0aW9uUGx1Z2luOiBFeHBpcmF0aW9uUGx1Z2luO1xyXG4gICAgZm9udHNFeHBpcmF0aW9uUGx1Z2luOiBFeHBpcmF0aW9uUGx1Z2luO1xyXG4gICAgZG9jdW1lbnRFeHBpcmF0aW9uUGx1Z2luOiBFeHBpcmF0aW9uUGx1Z2luO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY2FjaGVOYW1lVGFnID0gXCJDUkNhY2hlXCI7XHJcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gXCJ2MC4wLjFcIjtcclxuICAgICAgICB0aGlzLmltYWdlc0NhY2hlTmFtZSA9IGAke3RoaXMuY2FjaGVOYW1lVGFnfS0ke3RoaXMudmVyc2lvbn0taW1hZ2VzYDtcclxuICAgICAgICB0aGlzLmZvbnRzQ2FjaGVOYW1lID0gYCR7dGhpcy5jYWNoZU5hbWVUYWd9LSR7dGhpcy52ZXJzaW9ufS1mb250c2A7XHJcbiAgICAgICAgdGhpcy5zdHlsZXNTY3JpcHRzQ2FjaGVOYW1lID0gYCR7dGhpcy5jYWNoZU5hbWVUYWd9LSR7dGhpcy52ZXJzaW9ufS1zdHlsZXNTY3JpcHRzYDtcclxuICAgICAgICB0aGlzLmRvY3VtZW50Q2FjaGVOYW1lID0gYCR7dGhpcy5jYWNoZU5hbWVUYWd9LSR7dGhpcy52ZXJzaW9ufS1kb2N1bWVudGA7XHJcblxyXG4gICAgICAgIC8vIEluaXRpYWxpemUgRXhwaXJhdGlvbiBQbHVnaW5zXHJcbiAgICAgICAgdGhpcy5zdHlsZXNTY3JpcHRzRXhwaXJhdGlvblBsdWdpbiA9IG5ldyBFeHBpcmF0aW9uUGx1Z2luKHtcclxuICAgICAgICAgICAgbWF4RW50cmllczogMjAsXHJcbiAgICAgICAgICAgIG1heEFnZVNlY29uZHM6IDE1ICogMjQgKiA2MCAqIDYwLCAvLyAxNSBEYXlzXHJcbiAgICAgICAgICAgIHB1cmdlT25RdW90YUVycm9yOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5mb250c0V4cGlyYXRpb25QbHVnaW4gPSBuZXcgRXhwaXJhdGlvblBsdWdpbih7XHJcbiAgICAgICAgICAgIG1heEVudHJpZXM6IDUsXHJcbiAgICAgICAgICAgIG1heEFnZVNlY29uZHM6IDE4MCAqIDI0ICogNjAgKiA2MCwgLy8gMTgwIERheXNcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmltYWdlc0V4cGlyYXRpb25QbHVnaW4gPSBuZXcgRXhwaXJhdGlvblBsdWdpbih7XHJcbiAgICAgICAgICAgIG1heEVudHJpZXM6IDE1MCxcclxuICAgICAgICAgICAgbWF4QWdlU2Vjb25kczogNjAgKiAyNCAqIDYwICogNjAsIC8vIDYwIERheXNcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmRvY3VtZW50RXhwaXJhdGlvblBsdWdpbiA9IG5ldyBFeHBpcmF0aW9uUGx1Z2luKHtcclxuICAgICAgICAgICAgbWF4RW50cmllczogNTAsXHJcbiAgICAgICAgICAgIG1heEFnZVNlY29uZHM6IDYwICogMjQgKiA2MCAqIDYwLCAvLyA2MCBEYXlzXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgSW5pdGlhbGl6ZUFuZFJlZ2lzdGVyKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJy9zdy5qcycpLnRoZW4oKHJlZ2lzdHJhdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6ICcsIHJlZ2lzdHJhdGlvbi5zY29wZSk7XHJcbiAgICAgICAgICAgICAgICB9LCAoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgZXJyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJlZ2lzdGVyIENhY2hlRmlyc3QgUm91dGVzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyQ2FjaGVGaXJzdFJvdXRlVXNpbmcoXCJpbWFnZVwiLCB0aGlzLmltYWdlc0NhY2hlTmFtZSwgdGhpcy5pbWFnZXNFeHBpcmF0aW9uUGx1Z2luKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJDYWNoZUZpcnN0Um91dGVVc2luZyhcImZvbnRcIiwgdGhpcy5mb250c0NhY2hlTmFtZSwgdGhpcy5mb250c0V4cGlyYXRpb25QbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlckNhY2hlRmlyc3RSb3V0ZVVzaW5nKFwic2NyaXB0XCIsIHRoaXMuc3R5bGVzU2NyaXB0c0NhY2hlTmFtZSwgdGhpcy5zdHlsZXNTY3JpcHRzRXhwaXJhdGlvblBsdWdpbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyQ2FjaGVGaXJzdFJvdXRlVXNpbmcoXCJzdHlsZVwiLCB0aGlzLnN0eWxlc1NjcmlwdHNDYWNoZU5hbWUsIHRoaXMuc3R5bGVzU2NyaXB0c0V4cGlyYXRpb25QbHVnaW4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlckNhY2hlRmlyc3RSb3V0ZVVzaW5nKFwiZG9jdW1lbnRcIiwgdGhpcy5kb2N1bWVudENhY2hlTmFtZSwgdGhpcy5kb2N1bWVudEV4cGlyYXRpb25QbHVnaW4pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCBMaXN0ZW5lcnNcclxuICAgICAgICAgICAgICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignaW5zdGFsbCcsIChldmVudDogRXh0ZW5kYWJsZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgaW5zdGFsbGVkIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNraXBXYWl0aW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQud2FpdFVudGlsKFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVzLmRlbGV0ZSh0aGlzLmltYWdlc0NhY2hlTmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlcy5kZWxldGUodGhpcy5mb250c0NhY2hlTmFtZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlcy5kZWxldGUodGhpcy5zdHlsZXNTY3JpcHRzQ2FjaGVOYW1lKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVzLmRlbGV0ZSh0aGlzLmRvY3VtZW50Q2FjaGVOYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgIF0pKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdhY3RpdmF0ZScsIChldmVudDogRXh0ZW5kYWJsZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlcnZpY2VXb3JrZXIgYWN0aXZhdGVkIScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudHNDbGFpbSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIoJ2ZldGNoJywgKGV2ZW50OiBFeHRlbmRhYmxlRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU2VydmljZVdvcmtlciBmZXRjaDogJywgZXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZWdpc3RlckNhY2hlRmlyc3RSb3V0ZVVzaW5nKGRlc3RpbmF0aW9uOiBSZXF1ZXN0RGVzdGluYXRpb24sIGNhY2hlTmFtZTogc3RyaW5nLCBleHBpcmF0aW9uUGx1Z2luOiBFeHBpcmF0aW9uUGx1Z2luKTogdm9pZCB7XHJcbiAgICAgICAgcmVnaXN0ZXJSb3V0ZShcclxuICAgICAgICAgICAgKHsgcmVxdWVzdCB9KSA9PiByZXF1ZXN0LmRlc3RpbmF0aW9uID09PSBkZXN0aW5hdGlvbixcclxuICAgICAgICAgICAgbmV3IENhY2hlRmlyc3Qoe1xyXG4gICAgICAgICAgICAgICAgY2FjaGVOYW1lOiBjYWNoZU5hbWUsXHJcbiAgICAgICAgICAgICAgICBwbHVnaW5zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvblBsdWdpblxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0iLCIvKlxuICBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG5cbiAgVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgYW4gTUlULXN0eWxlXG4gIGxpY2Vuc2UgdGhhdCBjYW4gYmUgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBvciBhdFxuICBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVC5cbiovXG5pbXBvcnQgJy4vX3ZlcnNpb24uanMnO1xuLyoqXG4gKiBDbGFpbSBhbnkgY3VycmVudGx5IGF2YWlsYWJsZSBjbGllbnRzIG9uY2UgdGhlIHNlcnZpY2Ugd29ya2VyXG4gKiBiZWNvbWVzIGFjdGl2ZS4gVGhpcyBpcyBub3JtYWxseSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggYHNraXBXYWl0aW5nKClgLlxuICpcbiAqIEBtZW1iZXJvZiB3b3JrYm94LWNvcmVcbiAqL1xuZnVuY3Rpb24gY2xpZW50c0NsYWltKCkge1xuICAgIHNlbGYuYWRkRXZlbnRMaXN0ZW5lcignYWN0aXZhdGUnLCAoKSA9PiBzZWxmLmNsaWVudHMuY2xhaW0oKSk7XG59XG5leHBvcnQgeyBjbGllbnRzQ2xhaW0gfTtcbiIsIi8qXG4gIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcblxuICBVc2Ugb2YgdGhpcyBzb3VyY2UgY29kZSBpcyBnb3Zlcm5lZCBieSBhbiBNSVQtc3R5bGVcbiAgbGljZW5zZSB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIG9yIGF0XG4gIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlULlxuKi9cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ3dvcmtib3gtY29yZS9fcHJpdmF0ZS9sb2dnZXIuanMnO1xuaW1wb3J0IHsgV29ya2JveEVycm9yIH0gZnJvbSAnd29ya2JveC1jb3JlL19wcml2YXRlL1dvcmtib3hFcnJvci5qcyc7XG5pbXBvcnQgeyBSb3V0ZSB9IGZyb20gJy4vUm91dGUuanMnO1xuaW1wb3J0IHsgUmVnRXhwUm91dGUgfSBmcm9tICcuL1JlZ0V4cFJvdXRlLmpzJztcbmltcG9ydCB7IGdldE9yQ3JlYXRlRGVmYXVsdFJvdXRlciB9IGZyb20gJy4vdXRpbHMvZ2V0T3JDcmVhdGVEZWZhdWx0Um91dGVyLmpzJztcbmltcG9ydCAnLi9fdmVyc2lvbi5qcyc7XG4vKipcbiAqIEVhc2lseSByZWdpc3RlciBhIFJlZ0V4cCwgc3RyaW5nLCBvciBmdW5jdGlvbiB3aXRoIGEgY2FjaGluZ1xuICogc3RyYXRlZ3kgdG8gYSBzaW5nbGV0b24gUm91dGVyIGluc3RhbmNlLlxuICpcbiAqIFRoaXMgbWV0aG9kIHdpbGwgZ2VuZXJhdGUgYSBSb3V0ZSBmb3IgeW91IGlmIG5lZWRlZCBhbmRcbiAqIGNhbGwge0BsaW5rIHdvcmtib3gtcm91dGluZy5Sb3V0ZXIjcmVnaXN0ZXJSb3V0ZX0uXG4gKlxuICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfHdvcmtib3gtcm91dGluZy5Sb3V0ZX5tYXRjaENhbGxiYWNrfHdvcmtib3gtcm91dGluZy5Sb3V0ZX0gY2FwdHVyZVxuICogSWYgdGhlIGNhcHR1cmUgcGFyYW0gaXMgYSBgUm91dGVgLCBhbGwgb3RoZXIgYXJndW1lbnRzIHdpbGwgYmUgaWdub3JlZC5cbiAqIEBwYXJhbSB7d29ya2JveC1yb3V0aW5nfmhhbmRsZXJDYWxsYmFja30gW2hhbmRsZXJdIEEgY2FsbGJhY2tcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIFByb21pc2UgcmVzdWx0aW5nIGluIGEgUmVzcG9uc2UuIFRoaXMgcGFyYW1ldGVyXG4gKiBpcyByZXF1aXJlZCBpZiBgY2FwdHVyZWAgaXMgbm90IGEgYFJvdXRlYCBvYmplY3QuXG4gKiBAcGFyYW0ge3N0cmluZ30gW21ldGhvZD0nR0VUJ10gVGhlIEhUVFAgbWV0aG9kIHRvIG1hdGNoIHRoZSBSb3V0ZVxuICogYWdhaW5zdC5cbiAqIEByZXR1cm4ge3dvcmtib3gtcm91dGluZy5Sb3V0ZX0gVGhlIGdlbmVyYXRlZCBgUm91dGVgLlxuICpcbiAqIEBtZW1iZXJvZiB3b3JrYm94LXJvdXRpbmdcbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJSb3V0ZShjYXB0dXJlLCBoYW5kbGVyLCBtZXRob2QpIHtcbiAgICBsZXQgcm91dGU7XG4gICAgaWYgKHR5cGVvZiBjYXB0dXJlID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25zdCBjYXB0dXJlVXJsID0gbmV3IFVSTChjYXB0dXJlLCBsb2NhdGlvbi5ocmVmKTtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIGlmICghKGNhcHR1cmUuc3RhcnRzV2l0aCgnLycpIHx8IGNhcHR1cmUuc3RhcnRzV2l0aCgnaHR0cCcpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBXb3JrYm94RXJyb3IoJ2ludmFsaWQtc3RyaW5nJywge1xuICAgICAgICAgICAgICAgICAgICBtb2R1bGVOYW1lOiAnd29ya2JveC1yb3V0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgZnVuY05hbWU6ICdyZWdpc3RlclJvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1OYW1lOiAnY2FwdHVyZScsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBXZSB3YW50IHRvIGNoZWNrIGlmIEV4cHJlc3Mtc3R5bGUgd2lsZGNhcmRzIGFyZSBpbiB0aGUgcGF0aG5hbWUgb25seS5cbiAgICAgICAgICAgIC8vIFRPRE86IFJlbW92ZSB0aGlzIGxvZyBtZXNzYWdlIGluIHY0LlxuICAgICAgICAgICAgY29uc3QgdmFsdWVUb0NoZWNrID0gY2FwdHVyZS5zdGFydHNXaXRoKCdodHRwJylcbiAgICAgICAgICAgICAgICA/IGNhcHR1cmVVcmwucGF0aG5hbWVcbiAgICAgICAgICAgICAgICA6IGNhcHR1cmU7XG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BpbGxhcmpzL3BhdGgtdG8tcmVnZXhwI3BhcmFtZXRlcnNcbiAgICAgICAgICAgIGNvbnN0IHdpbGRjYXJkcyA9ICdbKjo/K10nO1xuICAgICAgICAgICAgaWYgKG5ldyBSZWdFeHAoYCR7d2lsZGNhcmRzfWApLmV4ZWModmFsdWVUb0NoZWNrKSkge1xuICAgICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgVGhlICckY2FwdHVyZScgcGFyYW1ldGVyIGNvbnRhaW5zIGFuIEV4cHJlc3Mtc3R5bGUgd2lsZGNhcmQgYCArXG4gICAgICAgICAgICAgICAgICAgIGBjaGFyYWN0ZXIgKCR7d2lsZGNhcmRzfSkuIFN0cmluZ3MgYXJlIG5vdyBhbHdheXMgaW50ZXJwcmV0ZWQgYXMgYCArXG4gICAgICAgICAgICAgICAgICAgIGBleGFjdCBtYXRjaGVzOyB1c2UgYSBSZWdFeHAgZm9yIHBhcnRpYWwgb3Igd2lsZGNhcmQgbWF0Y2hlcy5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXRjaENhbGxiYWNrID0gKHsgdXJsIH0pID0+IHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVybC5wYXRobmFtZSA9PT0gY2FwdHVyZVVybC5wYXRobmFtZSAmJlxuICAgICAgICAgICAgICAgICAgICB1cmwub3JpZ2luICE9PSBjYXB0dXJlVXJsLm9yaWdpbikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXIuZGVidWcoYCR7Y2FwdHVyZX0gb25seSBwYXJ0aWFsbHkgbWF0Y2hlcyB0aGUgY3Jvc3Mtb3JpZ2luIFVSTCBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke3VybC50b1N0cmluZygpfS4gVGhpcyByb3V0ZSB3aWxsIG9ubHkgaGFuZGxlIGNyb3NzLW9yaWdpbiByZXF1ZXN0cyBgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIGBpZiB0aGV5IG1hdGNoIHRoZSBlbnRpcmUgVVJMLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1cmwuaHJlZiA9PT0gY2FwdHVyZVVybC5ocmVmO1xuICAgICAgICB9O1xuICAgICAgICAvLyBJZiBgY2FwdHVyZWAgaXMgYSBzdHJpbmcgdGhlbiBgaGFuZGxlcmAgYW5kIGBtZXRob2RgIG11c3QgYmUgcHJlc2VudC5cbiAgICAgICAgcm91dGUgPSBuZXcgUm91dGUobWF0Y2hDYWxsYmFjaywgaGFuZGxlciwgbWV0aG9kKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2FwdHVyZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgICAvLyBJZiBgY2FwdHVyZWAgaXMgYSBgUmVnRXhwYCB0aGVuIGBoYW5kbGVyYCBhbmQgYG1ldGhvZGAgbXVzdCBiZSBwcmVzZW50LlxuICAgICAgICByb3V0ZSA9IG5ldyBSZWdFeHBSb3V0ZShjYXB0dXJlLCBoYW5kbGVyLCBtZXRob2QpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgY2FwdHVyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBJZiBgY2FwdHVyZWAgaXMgYSBmdW5jdGlvbiB0aGVuIGBoYW5kbGVyYCBhbmQgYG1ldGhvZGAgbXVzdCBiZSBwcmVzZW50LlxuICAgICAgICByb3V0ZSA9IG5ldyBSb3V0ZShjYXB0dXJlLCBoYW5kbGVyLCBtZXRob2QpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjYXB0dXJlIGluc3RhbmNlb2YgUm91dGUpIHtcbiAgICAgICAgcm91dGUgPSBjYXB0dXJlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFdvcmtib3hFcnJvcigndW5zdXBwb3J0ZWQtcm91dGUtdHlwZScsIHtcbiAgICAgICAgICAgIG1vZHVsZU5hbWU6ICd3b3JrYm94LXJvdXRpbmcnLFxuICAgICAgICAgICAgZnVuY05hbWU6ICdyZWdpc3RlclJvdXRlJyxcbiAgICAgICAgICAgIHBhcmFtTmFtZTogJ2NhcHR1cmUnLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY29uc3QgZGVmYXVsdFJvdXRlciA9IGdldE9yQ3JlYXRlRGVmYXVsdFJvdXRlcigpO1xuICAgIGRlZmF1bHRSb3V0ZXIucmVnaXN0ZXJSb3V0ZShyb3V0ZSk7XG4gICAgcmV0dXJuIHJvdXRlO1xufVxuZXhwb3J0IHsgcmVnaXN0ZXJSb3V0ZSB9O1xuIiwiLy8gTWFpbiBFbnRyeSBmb3IgdGhlIEN1cmlvdXMgUmVhZGVyIFdlYiBQbGF5ZXIgQXBwXHJcbmltcG9ydCB7IENvbnRlbnRQYXJzZXIgfSBmcm9tIFwiLi9QYXJzZXIvQ29udGVudFBhcnNlclwiO1xyXG5pbXBvcnQgeyBQbGF5QmFja0VuZ2luZSB9IGZyb20gXCIuL1BsYXlCYWNrRW5naW5lL1BsYXlCYWNrRW5naW5lXCI7XHJcbmltcG9ydCB7IENSU2VydmljZVdvcmtlciB9IGZyb20gXCIuL0hlbHBlcnMvU2VydmljZVdvcmtlci9TZXJ2aWNlV29ya2VyXCI7XHJcbmltcG9ydCB7IEJvb2sgfSBmcm9tIFwiLi9Nb2RlbHMvTW9kZWxzXCI7XHJcbmltcG9ydCB7IFNwbGlkZSB9IGZyb20gXCJAc3BsaWRlanMvc3BsaWRlXCI7XHJcblxyXG4gZXhwb3J0IGNsYXNzIEFwcCB7XHJcblxyXG4gICAgY29udGVudFBhcnNlcjogQ29udGVudFBhcnNlcjtcclxuICAgIHBsYXlCYWNrRW5naW5lOiBQbGF5QmFja0VuZ2luZTtcclxuICAgIHNlcnZpY2VXb3JrZXI6IENSU2VydmljZVdvcmtlcjtcclxuICAgIFxyXG4gICAgY29udGVudEZpbGVQYXRoOiBzdHJpbmc7XHJcbiAgICBpbWFnZXNQYXRoOiBzdHJpbmc7XHJcbiAgICBhdWRpb1BhdGg6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihjb250ZW50RmlsZVBhdGg6IHN0cmluZywgaW1hZ2VzUGF0aDogc3RyaW5nLCBhdWRpb1BhdGg6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuY29udGVudEZpbGVQYXRoID0gY29udGVudEZpbGVQYXRoO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VzUGF0aCA9IGltYWdlc1BhdGg7XHJcbiAgICAgICAgdGhpcy5hdWRpb1BhdGggPSBhdWRpb1BhdGg7XHJcbiAgICAgICAgdGhpcy5jb250ZW50UGFyc2VyID0gbmV3IENvbnRlbnRQYXJzZXIoY29udGVudEZpbGVQYXRoKTtcclxuICAgICAgICB0aGlzLnBsYXlCYWNrRW5naW5lID0gbmV3IFBsYXlCYWNrRW5naW5lKGltYWdlc1BhdGgsIGF1ZGlvUGF0aCk7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlV29ya2VyID0gbmV3IENSU2VydmljZVdvcmtlcigpO1xyXG4gICAgICAgIHRoaXMuc2VydmljZVdvcmtlci5Jbml0aWFsaXplQW5kUmVnaXN0ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIGxldCBib29rOiBCb29rID0gYXdhaXQgdGhpcy5jb250ZW50UGFyc2VyLnBhcnNlQm9vaygpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcIkRldiBBcHAgaW5pdGlhbGl6ZWQhXCIpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGJvb2spO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlCYWNrRW5naW5lLmluaXRpYWxpemVCb29rKGJvb2spO1xyXG4gICAgfVxyXG5cclxuIH1cclxuXHJcbiAvLyBQYXNzaW5nIGFic29sdXRlIHBhdGggdG8gdGhlIGNvbnRlbnQgZmlsZSBhbmQgcmVzb3VyY2UgZGlyZWN0b3JpZXNcclxubGV0IGFwcDogQXBwID0gbmV3IEFwcChcIi9Cb29rQ29udGVudC9MZXRzRmx5TGV2ZWwyRW4vY29udGVudC9jb250ZW50Lmpzb25cIixcclxuICAgIFwiL0Jvb2tDb250ZW50L0xldHNGbHlMZXZlbDJFbi9jb250ZW50L2ltYWdlcy9cIixcclxuICAgIFwiL0Jvb2tDb250ZW50L0xldHNGbHlMZXZlbDJFbi9jb250ZW50L2F1ZGlvL1wiKTtcclxuXHJcbi8vIEluaXRpYWxpemUgdGhlIGFwcCwgYmVnaW5uaW5nIHRvIHJlYWQgdGhlIGNvbnRlbnQgZmlsZSwgcGFyc2luZyAgYW5kIGRpc3BsYXlpbmcgdGhlIGJvb2tcclxuYXBwLmluaXRpYWxpemUoKTsiXSwibmFtZXMiOlsic2VsZiIsIl8iLCJlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJDb250ZW50UGFyc2VyIiwiY29uc3RydWN0b3IiLCJjb250ZW50RmlsZVBhdGgiLCJlbXB0eUdsb3dJbWFnZVRhZyIsInRoaXMiLCJwYXJzZUJvb2siLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInBhcnNlQ29udGVudEpTT05GaWxlIiwidGhlbiIsImNvbnRlbnRKU09OIiwiY29uc29sZSIsImxvZyIsImJvb2siLCJwYWdlcyIsInBhcnNlUGFnZXMiLCJjYXRjaCIsImVycm9yIiwicGFnZXNKU09OIiwiZ2xvYmFsRmlsbENvbG9yIiwiaSIsImxlbmd0aCIsInBhZ2VKU09OIiwicGFnZSIsInZpc3VhbEVsZW1lbnRzIiwiYmFja2dyb3VuZENvbG9yIiwicGFyc2VQYWdlIiwicHVzaCIsImVsZW1lbnRzSlNPTiIsImxpYnJhcnlTdHJpbmciLCJpbmNsdWRlcyIsInRleHRFbGVtZW50IiwicGFyc2VUZXh0RWxlbWVudCIsImltYWdlRWxlbWVudCIsInBhcnNlSW1hZ2VFbGVtZW50IiwiZWxlbWVudEpTT04iLCJ0eXBlIiwicG9zaXRpb25YIiwicG9zaXRpb25ZIiwid2lkdGgiLCJoZWlnaHQiLCJ0ZXh0Q29udGVudEFzSFRNTCIsInBhdGgiLCJpbWFnZVNvdXJjZSIsInBhcnNlQXVkaW9FbGVtZW50IiwiYXVkaW9TcmMiLCJzdHlsZXMiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsIm9wZW4iLCJyZXNwb25zZVR5cGUiLCJvbmxvYWQiLCJzdGF0dXMiLCJyZXNwb25zZSIsInNlbmQiLCJfZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwia2V5IiwiTUVESUFfUFJFRkVSU19SRURVQ0VEX01PVElPTiIsImVtcHR5IiwiYXJyYXkiLCJzbGljZSIsImFycmF5TGlrZSIsInN0YXJ0IiwiZW5kIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJjYWxsIiwiYXBwbHkiLCJmdW5jIiwiYmluZCIsImNvbmNhdCIsImFyZ3VtZW50cyIsIm5leHRUaWNrIiwic2V0VGltZW91dCIsIm5vb3AiLCJyYWYiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0eXBlT2YiLCJzdWJqZWN0IiwiaXNPYmplY3QiLCJpc051bGwiLCJpc0FycmF5IiwiaXNGdW5jdGlvbiIsImlzU3RyaW5nIiwiaXNVbmRlZmluZWQiLCJpc0hUTUxFbGVtZW50Iiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3Iiwid2luZG93IiwiSFRNTEVsZW1lbnQiLCJ0b0FycmF5IiwidmFsdWUiLCJmb3JFYWNoIiwidmFsdWVzIiwiaXRlcmF0ZWUiLCJpbmRleE9mIiwiaXRlbXMiLCJ0b2dnbGVDbGFzcyIsImVsbSIsImNsYXNzZXMiLCJhZGQiLCJuYW1lIiwiY2xhc3NMaXN0IiwiYWRkQ2xhc3MiLCJzcGxpdCIsImFwcGVuZCIsInBhcmVudCIsImNoaWxkcmVuIiwiYXBwZW5kQ2hpbGQiLCJiZWZvcmUiLCJub2RlcyIsInJlZiIsIm5vZGUiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwibWF0Y2hlcyIsInNlbGVjdG9yIiwiY2hpbGRyZW4yIiwiZmlsdGVyIiwiY2hpbGQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIm93bktleXMiLCJrZXlzIiwiZm9yT3duIiwib2JqZWN0IiwicmlnaHQiLCJyZXZlcnNlIiwic291cmNlIiwibWVyZ2UiLCJvbWl0IiwicmVtb3ZlQXR0cmlidXRlIiwiZWxtcyIsImF0dHJzIiwiYXR0ciIsInNldEF0dHJpYnV0ZSIsInZhbHVlMiIsIlN0cmluZyIsImNyZWF0ZSIsInRhZyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwicHJvcCIsImdldENvbXB1dGVkU3R5bGUiLCJkaXNwbGF5IiwiZGlzcGxheTIiLCJmb2N1cyIsInByZXZlbnRTY3JvbGwiLCJnZXRBdHRyaWJ1dGUiLCJoYXNDbGFzcyIsImNsYXNzTmFtZSIsImNvbnRhaW5zIiwicmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlbW92ZSIsInJlbW92ZUNoaWxkIiwicGFyc2VIdG1sIiwiaHRtbCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsImJvZHkiLCJwcmV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwicHJldmVudERlZmF1bHQiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJxdWVyeSIsInF1ZXJ5U2VsZWN0b3IiLCJxdWVyeUFsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVDbGFzcyIsInRpbWVPZiIsInRpbWVTdGFtcCIsInVuaXQiLCJQUk9KRUNUX0NPREUiLCJhc3NlcnQiLCJjb25kaXRpb24iLCJtZXNzYWdlIiwiRXJyb3IiLCJtaW4iLCJNYXRoIiwibWF4IiwiZmxvb3IiLCJjZWlsIiwiYWJzIiwiYXBwcm94aW1hdGVseUVxdWFsIiwieCIsInkiLCJlcHNpbG9uIiwiYmV0d2VlbiIsIm51bWJlciIsImV4Y2x1c2l2ZSIsIm1pbmltdW0iLCJtYXhpbXVtIiwiY2xhbXAiLCJzaWduIiwiZm9ybWF0Iiwic3RyaW5nIiwicmVwbGFjZW1lbnRzIiwicmVwbGFjZW1lbnQiLCJyZXBsYWNlIiwicGFkIiwiaWRzIiwiRXZlbnRCaW5kZXIiLCJsaXN0ZW5lcnMiLCJmb3JFYWNoRXZlbnQiLCJ0YXJnZXRzIiwiZXZlbnRzIiwiZXZlbnRzMiIsImV2ZW50TlMiLCJmcmFnbWVudCIsImNhbGxiYWNrIiwib3B0aW9ucyIsImV2ZW50IiwibmFtZXNwYWNlIiwiaXNFdmVudFRhcmdldCIsInJlbW92ZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInVuYmluZCIsImxpc3RlbmVyIiwiZGlzcGF0Y2giLCJkZXRhaWwiLCJDdXN0b21FdmVudCIsImJ1YmJsZXMiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsImRpc3BhdGNoRXZlbnQiLCJkZXN0cm95IiwiZGF0YSIsIkVWRU5UX01PVU5URUQiLCJFVkVOVF9SRUFEWSIsIkVWRU5UX01PVkUiLCJFVkVOVF9NT1ZFRCIsIkVWRU5UX0NMSUNLIiwiRVZFTlRfUkVGUkVTSCIsIkVWRU5UX1VQREFURUQiLCJFVkVOVF9SRVNJWkUiLCJFVkVOVF9SRVNJWkVEIiwiRVZFTlRfU0NST0xMIiwiRVZFTlRfU0NST0xMRUQiLCJFVkVOVF9ERVNUUk9ZIiwiRVZFTlRfTkFWSUdBVElPTl9NT1VOVEVEIiwiRVZFTlRfQVVUT1BMQVlfUExBWSIsIkVWRU5UX0FVVE9QTEFZX1BBVVNFIiwiRVZFTlRfTEFaWUxPQURfTE9BREVEIiwiRVZFTlRfRU5EX0lOREVYX0NIQU5HRUQiLCJFdmVudEludGVyZmFjZSIsIlNwbGlkZTIiLCJidXMiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50IiwiYmluZGVyIiwib24iLCJqb2luIiwib2ZmIiwiZW1pdCIsIlJlcXVlc3RJbnRlcnZhbCIsImludGVydmFsIiwib25JbnRlcnZhbCIsIm9uVXBkYXRlIiwibGltaXQiLCJzdGFydFRpbWUiLCJpZCIsIm5vdyIsIkRhdGUiLCJyYXRlIiwicGF1c2VkIiwiY291bnQiLCJ1cGRhdGUiLCJwYXVzZSIsImNhbmNlbCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwicmVzdW1lIiwicmV3aW5kIiwic2V0IiwidGltZSIsImlzUGF1c2VkIiwiQVJST1dfTEVGVCIsIkFSUk9XIiwiQVJST1dfUklHSFQiLCJBUlJPV19VUCIsIkFSUk9XX0RPV04iLCJUVEIiLCJPUklFTlRBVElPTl9NQVAiLCJsZWZ0IiwiWCIsIlkiLCJBcnJvd0xlZnQiLCJBcnJvd1JpZ2h0IiwiUk9MRSIsIlRBQl9JTkRFWCIsIkFSSUFfQ09OVFJPTFMiLCJBUklBX1BSRUZJWCIsIkFSSUFfQ1VSUkVOVCIsIkFSSUFfU0VMRUNURUQiLCJBUklBX0xBQkVMIiwiQVJJQV9MQUJFTExFREJZIiwiQVJJQV9ISURERU4iLCJBUklBX09SSUVOVEFUSU9OIiwiQVJJQV9ST0xFREVTQ1JJUFRJT04iLCJBUklBX0xJVkUiLCJBUklBX0JVU1kiLCJBUklBX0FUT01JQyIsIkFMTF9BVFRSSUJVVEVTIiwiQ0xBU1NfUk9PVCIsIkNMQVNTX1RSQUNLIiwiQ0xBU1NfUFJFRklYIiwiQ0xBU1NfU0xJREUiLCJDTEFTU19DTE9ORSIsIkNMQVNTX0FSUk9XUyIsIkNMQVNTX0FSUk9XIiwiQ0xBU1NfQVJST1dfUFJFViIsIkNMQVNTX0FSUk9XX05FWFQiLCJDTEFTU19QQUdJTkFUSU9OIiwiQ0xBU1NfQUNUSVZFIiwiU1RBVFVTX0NMQVNTX1BSRUZJWCIsIkNMQVNTX1BSRVYiLCJDTEFTU19ORVhUIiwiQ0xBU1NfVklTSUJMRSIsIkNMQVNTX0xPQURJTkciLCJDTEFTU19GT0NVU19JTiIsIkNMQVNTX09WRVJGTE9XIiwiU1RBVFVTX0NMQVNTRVMiLCJDTEFTU0VTIiwic2xpZGUiLCJjbG9uZSIsImFycm93cyIsImFycm93IiwicHJldiIsIm5leHQiLCJwYWdpbmF0aW9uIiwic3Bpbm5lciIsIlBPSU5URVJfTU9WRV9FVkVOVFMiLCJQT0lOVEVSX1VQX0VWRU5UUyIsIlNMSURFIiwiTE9PUCIsIkZBREUiLCJTQ1JPTExfTElTVEVORVJfT1BUSU9OUyIsInBhc3NpdmUiLCJjYXB0dXJlIiwiTk9STUFMSVpBVElPTl9NQVAiLCJTcGFjZWJhciIsIlJpZ2h0IiwiTGVmdCIsIlVwIiwiRG93biIsIm5vcm1hbGl6ZUtleSIsIktFWUJPQVJEX0VWRU5UIiwiU1JDX0RBVEFfQVRUUklCVVRFIiwiREFUQV9BVFRSSUJVVEUiLCJTUkNTRVRfREFUQV9BVFRSSUJVVEUiLCJUUklHR0VSX0tFWVMiLCJDb21wb25lbnRDb25zdHJ1Y3RvcnMiLCJmcmVlemUiLCJfX3Byb3RvX18iLCJNZWRpYSIsIkNvbXBvbmVudHMyIiwic3RhdGUiLCJicmVha3BvaW50cyIsInJlZHVjZWRNb3Rpb24iLCJxdWVyaWVzIiwiY29tcGxldGVseSIsInJlZ2lzdGVyIiwib3B0aW9uczIiLCJxdWVyeUxpc3QiLCJtYXRjaE1lZGlhIiwiZGVzdHJveWVkIiwiaXMiLCJkaXJlY3Rpb24iLCJtZXJnZWQiLCJyZWR1Y2UiLCJtZXJnZWQyIiwiZW50cnkiLCJtb3VudCIsInJlZnJlc2giLCJvcHRzIiwiYmFzZSIsIm5vdGlmeSIsImdldFByb3RvdHlwZU9mIiwic2V0dXAiLCJpc01pbiIsIm1lZGlhUXVlcnkiLCJzb3J0IiwibiIsIm0iLCJlbmFibGUiLCJEaXJlY3Rpb24iLCJheGlzT25seSIsImluZGV4IiwibWF0Y2giLCJvZmZzZXQiLCJ0b0xvd2VyQ2FzZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwib3JpZW50IiwiRWxlbWVudHMiLCJ0cmFjayIsImxpc3QiLCJpc1VzaW5nS2V5IiwiX0V2ZW50SW50ZXJmYWNlIiwicm9vdCIsImkxOG4iLCJlbGVtZW50cyIsInNsaWRlcyIsInJvb3RDbGFzc2VzIiwidHJhY2tDbGFzc2VzIiwicHJlZml4Iiwicm9sZSIsImZpbmQiLCJiYXIiLCJDTEFTU19QUk9HUkVTUyIsInRvZ2dsZSIsInRhZ05hbWUiLCJjYXJvdXNlbCIsImdldENsYXNzZXMiLCJsYWJlbCIsImxhYmVsbGVkYnkiLCJmcm9tIiwiY2xvc2VzdCIsIm5vZGVUeXBlIiwicGFyZW50RWxlbWVudCIsImRyYWciLCJpc05hdmlnYXRpb24iLCJQT0lOVEVSX0RPV05fRVZFTlRTIiwiU2xpZGVzIiwiX0V2ZW50SW50ZXJmYWNlMiIsIl9Db21wb25lbnRzMiRFbGVtZW50cyIsIlNsaWRlczIiLCJpbml0IiwiZm9yRWFjaCQxIiwiU2xpZGUyIiwic2xpZGVJbmRleCIsIkNvbXBvbmVudHMiLCJ1cGRhdGVPbk1vdmUiLCJzbGlkZUZvY3VzIiwiaXNDbG9uZSIsImNvbnRhaW5lciIsImluaXROYXZpZ2F0aW9uIiwiY29udHJvbHMiLCJzcGxpZGVzIiwibWFwIiwic3BsaWRlIiwiZ2V0QXQiLCJzbGlkZVgiLCJvbk1vdmUiLCJjdXJyIiwiYWN0aXZlIiwiaXNBY3RpdmUiLCJ2aXNpYmxlIiwidHJhY2tSZWN0Iiwic2xpZGVSZWN0IiwiaXNWaXNpYmxlIiwiaGlkZGVuIiwiZm9jdXNhYmxlTm9kZXMiLCJhY3RpdmVFbGVtZW50IiwidXBkYXRlVmlzaWJpbGl0eSIsImNsb25lU3RhdHVzIiwic2xpZGVMYWJlbCIsInVzZUNvbnRhaW5lciIsImlzV2l0aGluIiwiZGlzdGFuY2UiLCJkaWZmIiwiU2xpZGUkMSIsIlNsaWRlMSIsImdldCIsImV4Y2x1ZGVDbG9uZXMiLCJtYXRjaGVyIiwiZ2V0SW4iLCJDb250cm9sbGVyIiwidG9JbmRleCIsImhhc0ZvY3VzIiwicGVyUGFnZSIsImltYWdlcyIsImltZyIsImdldExlbmd0aCIsImlzRW5vdWdoIiwiTGF5b3V0IiwidmVydGljYWwiLCJyb290UmVjdCIsIm92ZXJmbG93IiwiX0V2ZW50SW50ZXJmYWNlMyIsIl9Db21wb25lbnRzMiRFbGVtZW50czIiLCJzdHlsZVNsaWRlcyIsImNzc1BhZGRpbmciLCJyZXNpemUiLCJmb3JjZSIsIm5ld1JlY3QiLCJjc3NIZWlnaHQiLCJnYXAiLCJhdXRvV2lkdGgiLCJmaXhlZFdpZHRoIiwiY3NzU2xpZGVTaXplIiwiZml4ZWRIZWlnaHQiLCJhdXRvSGVpZ2h0IiwiaXNPdmVyZmxvdyIsInBhZGRpbmciLCJoZWlnaHRSYXRpbyIsImxpc3RTaXplIiwic2xpZGVTaXplIiwid2l0aG91dEdhcCIsIlNsaWRlIiwiZ2V0R2FwIiwidG90YWxTaXplIiwic2xpZGVyU2l6ZSIsInBhcnNlRmxvYXQiLCJnZXRQYWRkaW5nIiwiQ2xvbmVzIiwiY2xvbmVDb3VudCIsImNsb25lcyIsInJlbW91bnQiLCJvYnNlcnZlIiwiY29tcHV0ZUNsb25lQ291bnQiLCJpc0hlYWQiLCJjbG9uZU5vZGUiLCJjbG9uZURlZXAiLCJnZW5lcmF0ZSIsImNsb25lczIiLCJmaXhlZFNpemUiLCJNb3ZlIiwiVHJhbnNpdGlvbiIsIl9FdmVudEludGVyZmFjZTQiLCJfQ29tcG9uZW50czIkTGF5b3V0IiwiX0NvbXBvbmVudHMyJERpcmVjdGlvIiwiX0NvbXBvbmVudHMyJEVsZW1lbnRzMyIsInJlcG9zaXRpb24iLCJpc0J1c3kiLCJTY3JvbGwiLCJqdW1wIiwidHJhbnNsYXRlIiwidG9Qb3NpdGlvbiIsInBvc2l0aW9uIiwicHJldmVudExvb3AiLCJkZXN0aW5hdGlvbiIsImV4Y2VlZGVkTWF4IiwiZ2V0RW5kIiwic2hpZnQiLCJsb29wIiwiYmFja3dhcmRzIiwiZXhjZXNzIiwiZ2V0TGltaXQiLCJzaXplIiwiZ2V0UG9zaXRpb24iLCJtaW5EaXN0YW5jZSIsIkluZmluaXR5IiwidHJpbW1pbmciLCJ0cmltU3BhY2UiLCJ0cmltIiwibW92ZSIsImRlc3QiLCJzaGlmdGVkIiwiZXhjZWVkZWRMaW1pdCIsImV4Y2VlZGVkTWluIiwiZW5kSW5kZXgiLCJzbGlkZUNvdW50IiwicGVyTW92ZSIsIl9FdmVudEludGVyZmFjZTUiLCJfQ29tcG9uZW50czIkU2xpZGVzIiwib21pdEVuZCIsImlzTG9vcCIsImlzU2xpZGUiLCJnZXROZXh0IiwiZ2V0QWRqYWNlbnQiLCJnZXRQcmV2IiwiY3VyckluZGV4IiwicHJldkluZGV4Iiwib25SZXNpemVkIiwiY29tcHV0ZURlc3RJbmRleCIsInNuYXBQYWdlIiwiY29tcHV0ZU1vdmFibGVEZXN0SW5kZXgiLCJ0b1BhZ2UiLCJzZXRJbmRleCIsIndhaXRGb3JUcmFuc2l0aW9uIiwiZ28iLCJjb250cm9sIiwiYWxsb3dTYW1lSW5kZXgiLCJfcmVmIiwiaW5kaWNhdG9yIiwicGFyc2UiLCJzY3JvbGwiLCJkdXJhdGlvbiIsInNuYXAiLCJnZXRJbmRleCIsInRvRGVzdCIsIkFycm93cyIsImNyZWF0ZWQiLCJ3cmFwcGVyQ2xhc3NlcyIsInBsYWNlaG9sZGVyIiwid3JhcHBlciIsImVuYWJsZWQiLCJjcmVhdGVBcnJvdyIsInByZXYyIiwiYXJyb3dQYXRoIiwibmV4dEluZGV4IiwicHJldkxhYmVsIiwibGFzdCIsIm5leHRMYWJlbCIsImZpcnN0IiwiZGlzYWJsZWQiLCJBdXRvcGxheSIsImhvdmVyZWQiLCJmb2N1c2VkIiwiX0V2ZW50SW50ZXJmYWNlNiIsIl9Db21wb25lbnRzMiRFbGVtZW50czQiLCJhdXRvcGxheSIsInN0b3BwZWQiLCJwbGF5IiwicmVzZXRQcm9ncmVzcyIsInN0b3AiLCJhdXRvVG9nZ2xlIiwicGF1c2VPbkhvdmVyIiwicGF1c2VPbkZvY3VzIiwiQ292ZXIiLCJjb3ZlciIsImNvdmVyMiIsInNyYyIsIl9FdmVudEludGVyZmFjZTgiLCJmcmljdGlvbiIsIm9uU2Nyb2xsZWQiLCJub0NvbnN0cmFpbiIsImNsZWFyIiwibm9EaXN0YW5jZSIsIm9uRW5kIiwidG8iLCJ0IiwiZWFzaW5nRnVuYyIsInBvdyIsIkRyYWciLCJiYXNlUG9zaXRpb24iLCJiYXNlRXZlbnQiLCJwcmV2QmFzZUV2ZW50IiwiaXNGcmVlIiwiZHJhZ2dpbmciLCJjbGlja1ByZXZlbnRlZCIsIl9FdmVudEludGVyZmFjZTkiLCJfQ29tcG9uZW50czIkRGlyZWN0aW8yIiwiZXhjZWVkZWQiLCJkaXNhYmxlIiwib25Qb2ludGVyRG93biIsImlzVG91Y2giLCJpc1RvdWNoRXZlbnQiLCJ0YXJnZXQyIiwibm9EcmFnIiwiYnV0dG9uIiwib25Qb2ludGVyTW92ZSIsIm9uUG9pbnRlclVwIiwic2F2ZSIsImNhbmNlbGFibGUiLCJkaWZmQ29vcmQiLCJleHBpcmVkIiwiZGlmZlRpbWUiLCJoYXNFeGNlZWRlZCIsImlzU2xpZGVyRGlyZWN0aW9uIiwidGhyZXNob2xkcyIsImRyYWdNaW5UaHJlc2hvbGQiLCJpc09iaiIsIm1vdXNlIiwidG91Y2giLCJzaG91bGRTdGFydCIsInZlbG9jaXR5IiwiY29tcHV0ZVZlbG9jaXR5IiwiZmxpY2tQb3dlciIsImZsaWNrTWF4UGFnZXMiLCJjb21wdXRlRGVzdGluYXRpb24iLCJyZXdpbmRCeURyYWciLCJvbkNsaWNrIiwib3J0aG9nb25hbCIsImNvb3JkT2YiLCJnZXRCYXNlRXZlbnQiLCJjaGFuZ2VkVG91Y2hlcyIsIlRvdWNoRXZlbnQiLCJpc0RyYWdnaW5nIiwiS2V5Ym9hcmQiLCJfRXZlbnRJbnRlcmZhY2UxMCIsImtleWJvYXJkIiwib25LZXlkb3duIiwiX2Rpc2FibGVkIiwiTGF6eUxvYWQiLCJfRXZlbnRJbnRlcmZhY2UxMSIsImlzU2VxdWVudGlhbCIsImxhenlMb2FkIiwiZW50cmllcyIsInNyY3NldCIsImxvYWROZXh0IiwiY2hlY2siLCJwcmVsb2FkUGFnZXMiLCJsb2FkIiwib25Mb2FkIiwiUGFnaW5hdGlvbiIsInBhZ2luYXRpb25DbGFzc2VzIiwiZGlyIiwiZ2V0RGlyZWN0aW9uIiwibmV4dFBhZ2UiLCJpdGVtIiwicGFnaW5hdGlvbkRpcmVjdGlvbiIsIl9idXR0b24iLCJzZWxlY3QiLCJsaSIsImNsYXNzIiwidGV4dCIsInBhZ2VYIiwicGFnaW5hdGlvbktleWJvYXJkIiwiY3JlYXRlUGFnaW5hdGlvbiIsIlN5bmMiLCJpc1BhcmVudCIsInN5bmMiLCJXaGVlbCIsImxhc3RUaW1lIiwib25XaGVlbCIsImRlbHRhWSIsIl9taW4iLCJ3aGVlbE1pblRocmVzaG9sZCIsInNsZWVwIiwid2hlZWxTbGVlcCIsInJlbGVhc2VXaGVlbCIsInNob3VsZFByZXZlbnQiLCJ3aGVlbCIsIkxpdmUiLCJsaXZlIiwic3IiLCJ0ZXh0Q29udGVudCIsIkRFRkFVTFRTIiwic3BlZWQiLCJlYXNpbmciLCJyZXdpbmRTcGVlZCIsIkZhZGUiLCJkb25lIiwiZW5kQ2FsbGJhY2siLCJ0cmFuc2l0aW9uIiwiZ2V0U3BlZWQiLCJ1c2VTY3JvbGwiLCJTcGxpZGUiLCJfU3BsaWRlIiwic3RhdGVzIiwiX28iLCJfRSIsImRlZmF1bHRzIiwiSlNPTiIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsIl9wcm90byIsIkV4dGVuc2lvbnMiLCJfdGhpcyIsIl9DIiwiX1QiLCJDb21wb25lbnQiLCJjb21wb25lbnQiLCJfdGhpcyRldmVudCIsIlNUQVRFUyIsIkNSRUFURUQiLCJNT1VOVEVEIiwiSURMRSIsIk1PVklORyIsIlNDUk9MTElORyIsIkRSQUdHSU5HIiwiREVTVFJPWUVEIiwiUGxheUJhY2tFbmdpbmUiLCJpbWFnZXNQYXRoIiwiYXVkaW9QYXRoIiwiY3VycmVudFBhZ2UiLCJzcGxpZGVIYW5kbGUiLCJpbml0aWFsaXplQm9vayIsIm51bWJlck9mUGFnZXMiLCJqIiwidmlzdWFsRWxlbWVudCIsInRleHRFbGVtZW50RGl2Iiwid2Via2l0VGV4dFN0cm9rZSIsInRleHRTaGFkb3ciLCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwidG9wIiwiaW5uZXJIVE1MIiwiaW1hZ2VFbGVtZW50RGl2IiwiaW1hZ2VFbGVtZW50SW1nIiwiZ29Ub05leHRQYWdlIiwidHJhbnNpdGlvbmluZ1RvUGFnZSIsInRyYW5zaXRpb25Ub1BhZ2UiLCJnb1RvUHJldmlvdXNQYWdlIiwicGFnZU51bWJlciIsImVycm9yQ29kZSIsImRldGFpbHMiLCJzdXBlciIsImNvZGUiLCJhcmdzIiwibXNnIiwic3RyaW5naWZ5IiwibWVzc2FnZUdlbmVyYXRvciIsInF1b3RhRXJyb3JDYWxsYmFja3MiLCJTZXQiLCJfY2FjaGVOYW1lRGV0YWlscyIsImdvb2dsZUFuYWx5dGljcyIsInByZWNhY2hlIiwicnVudGltZSIsInN1ZmZpeCIsInJlZ2lzdHJhdGlvbiIsInNjb3BlIiwidXNlckNhY2hlTmFtZSIsImNhY2hlTmFtZSIsInN0cmlwUGFyYW1zIiwiZnVsbFVSTCIsImlnbm9yZVBhcmFtcyIsInN0cmlwcGVkVVJMIiwiVVJMIiwicGFyYW0iLCJzZWFyY2hQYXJhbXMiLCJkZWxldGUiLCJocmVmIiwiZG9udFdhaXRGb3IiLCJwcm9taXNlIiwiRGVmZXJyZWQiLCJub3JtYWxpemVIYW5kbGVyIiwiaGFuZGxlciIsImhhbmRsZSIsIm1ldGhvZCIsInNldENhdGNoSGFuZGxlciIsImNhdGNoSGFuZGxlciIsIlJlZ0V4cFJvdXRlIiwicmVnRXhwIiwidXJsIiwicmVzdWx0IiwiZXhlYyIsIm9yaWdpbiIsImxvY2F0aW9uIiwiUm91dGVyIiwiX3JvdXRlcyIsIk1hcCIsIl9kZWZhdWx0SGFuZGxlck1hcCIsInJvdXRlcyIsImFkZEZldGNoTGlzdGVuZXIiLCJyZXF1ZXN0IiwicmVzcG9uc2VQcm9taXNlIiwiaGFuZGxlUmVxdWVzdCIsInJlc3BvbmRXaXRoIiwiYWRkQ2FjaGVMaXN0ZW5lciIsInBheWxvYWQiLCJyZXF1ZXN0UHJvbWlzZXMiLCJhbGwiLCJ1cmxzVG9DYWNoZSIsIlJlcXVlc3QiLCJ3YWl0VW50aWwiLCJwb3J0cyIsInBvc3RNZXNzYWdlIiwicHJvdG9jb2wiLCJzdGFydHNXaXRoIiwic2FtZU9yaWdpbiIsInBhcmFtcyIsInJvdXRlIiwiZmluZE1hdGNoaW5nUm91dGUiLCJoYXMiLCJlcnIiLCJfY2F0Y2hIYW5kbGVyIiwiYXN5bmMiLCJjYXRjaEVyciIsIm1hdGNoUmVzdWx0Iiwic2V0RGVmYXVsdEhhbmRsZXIiLCJyZWdpc3RlclJvdXRlIiwidW5yZWdpc3RlclJvdXRlIiwicm91dGVJbmRleCIsInNwbGljZSIsImRlZmF1bHRSb3V0ZXIiLCJpZGJQcm94eWFibGVUeXBlcyIsImN1cnNvckFkdmFuY2VNZXRob2RzIiwidG9SZXF1ZXN0IiwiaW5wdXQiLCJTdHJhdGVneUhhbmRsZXIiLCJzdHJhdGVneSIsIl9jYWNoZUtleXMiLCJhc3NpZ24iLCJfc3RyYXRlZ3kiLCJfaGFuZGxlckRlZmVycmVkIiwiX2V4dGVuZExpZmV0aW1lUHJvbWlzZXMiLCJfcGx1Z2lucyIsInBsdWdpbnMiLCJfcGx1Z2luU3RhdGVNYXAiLCJwbHVnaW4iLCJtb2RlIiwiRmV0Y2hFdmVudCIsInByZWxvYWRSZXNwb25zZSIsInBvc3NpYmxlUHJlbG9hZFJlc3BvbnNlIiwib3JpZ2luYWxSZXF1ZXN0IiwiaGFzQ2FsbGJhY2siLCJjYiIsIml0ZXJhdGVDYWxsYmFja3MiLCJ0aHJvd25FcnJvck1lc3NhZ2UiLCJwbHVnaW5GaWx0ZXJlZFJlcXVlc3QiLCJmZXRjaFJlc3BvbnNlIiwiZmV0Y2giLCJmZXRjaE9wdGlvbnMiLCJydW5DYWxsYmFja3MiLCJyZXNwb25zZUNsb25lIiwiY2FjaGVQdXQiLCJjYWNoZWRSZXNwb25zZSIsIm1hdGNoT3B0aW9ucyIsImVmZmVjdGl2ZVJlcXVlc3QiLCJnZXRDYWNoZUtleSIsIm11bHRpTWF0Y2hPcHRpb25zIiwiY2FjaGVzIiwiUmVnRXhwIiwicmVzcG9uc2VUb0NhY2hlIiwiX2Vuc3VyZVJlc3BvbnNlU2FmZVRvQ2FjaGUiLCJjYWNoZSIsImhhc0NhY2hlVXBkYXRlQ2FsbGJhY2siLCJvbGRSZXNwb25zZSIsInN0cmlwcGVkUmVxdWVzdFVSTCIsImtleXNPcHRpb25zIiwiaWdub3JlU2VhcmNoIiwiY2FjaGVLZXlzIiwiY2FjaGVLZXkiLCJjYWNoZU1hdGNoSWdub3JlUGFyYW1zIiwicHV0IiwiZXhlY3V0ZVF1b3RhRXJyb3JDYWxsYmFja3MiLCJuZXdSZXNwb25zZSIsInN0YXRlZnVsQ2FsbGJhY2siLCJzdGF0ZWZ1bFBhcmFtIiwicGx1Z2luc1VzZWQiLCJDYWNoZUZpcnN0IiwicmVzcG9uc2VEb25lIiwiaGFuZGxlQWxsIiwiX2dldFJlc3BvbnNlIiwiX2F3YWl0Q29tcGxldGUiLCJfaGFuZGxlIiwiZG9uZVdhaXRpbmciLCJ3YWl0VW50aWxFcnJvciIsImNhY2hlTWF0Y2giLCJmZXRjaEFuZENhY2hlUHV0IiwiY3Vyc29yUmVxdWVzdE1hcCIsIldlYWtNYXAiLCJ0cmFuc2FjdGlvbkRvbmVNYXAiLCJ0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAiLCJ0cmFuc2Zvcm1DYWNoZSIsInJldmVyc2VUcmFuc2Zvcm1DYWNoZSIsImlkYlByb3h5VHJhcHMiLCJyZWNlaXZlciIsIklEQlRyYW5zYWN0aW9uIiwib2JqZWN0U3RvcmVOYW1lcyIsIm9iamVjdFN0b3JlIiwid3JhcCIsInRyYW5zZm9ybUNhY2hhYmxlVmFsdWUiLCJJREJEYXRhYmFzZSIsInRyYW5zYWN0aW9uIiwiSURCQ3Vyc29yIiwiYWR2YW5jZSIsImNvbnRpbnVlIiwiY29udGludWVQcmltYXJ5S2V5IiwidW53cmFwIiwic3RvcmVOYW1lcyIsInR4IiwidW5saXN0ZW4iLCJjb21wbGV0ZSIsIkRPTUV4Y2VwdGlvbiIsImNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbiIsIklEQk9iamVjdFN0b3JlIiwiSURCSW5kZXgiLCJzb21lIiwiYyIsIlByb3h5IiwiSURCUmVxdWVzdCIsInN1Y2Nlc3MiLCJwcm9taXNpZnlSZXF1ZXN0IiwibmV3VmFsdWUiLCJyZWFkTWV0aG9kcyIsIndyaXRlTWV0aG9kcyIsImNhY2hlZE1ldGhvZHMiLCJnZXRNZXRob2QiLCJ0YXJnZXRGdW5jTmFtZSIsInVzZUluZGV4IiwiaXNXcml0ZSIsInN0b3JlTmFtZSIsInN0b3JlIiwib2xkVHJhcHMiLCJDQUNIRV9PQkpFQ1RfU1RPUkUiLCJub3JtYWxpemVVUkwiLCJ1bk5vcm1hbGl6ZWRVcmwiLCJoYXNoIiwiQ2FjaGVUaW1lc3RhbXBzTW9kZWwiLCJfZGIiLCJfY2FjaGVOYW1lIiwiX3VwZ3JhZGVEYiIsImRiIiwib2JqU3RvcmUiLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsIl91cGdyYWRlRGJBbmREZWxldGVPbGREYnMiLCJibG9ja2VkIiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJvbGRWZXJzaW9uIiwiZGVsZXRlREIiLCJ0aW1lc3RhbXAiLCJfZ2V0SWQiLCJnZXREYiIsImR1cmFiaWxpdHkiLCJtaW5UaW1lc3RhbXAiLCJtYXhDb3VudCIsImN1cnNvciIsIm9wZW5DdXJzb3IiLCJlbnRyaWVzVG9EZWxldGUiLCJlbnRyaWVzTm90RGVsZXRlZENvdW50IiwidXJsc0RlbGV0ZWQiLCJ2ZXJzaW9uIiwidXBncmFkZSIsImJsb2NraW5nIiwidGVybWluYXRlZCIsIm9wZW5Qcm9taXNlIiwibmV3VmVyc2lvbiIsIm9wZW5EQiIsIkNhY2hlRXhwaXJhdGlvbiIsImNvbmZpZyIsIl9pc1J1bm5pbmciLCJfcmVydW5SZXF1ZXN0ZWQiLCJfbWF4RW50cmllcyIsIm1heEVudHJpZXMiLCJfbWF4QWdlU2Vjb25kcyIsIm1heEFnZVNlY29uZHMiLCJfbWF0Y2hPcHRpb25zIiwiX3RpbWVzdGFtcE1vZGVsIiwidXJsc0V4cGlyZWQiLCJleHBpcmVFbnRyaWVzIiwic2V0VGltZXN0YW1wIiwiZ2V0VGltZXN0YW1wIiwiZXhwaXJlT2xkZXJUaGFuIiwiRXhwaXJhdGlvblBsdWdpbiIsImNhY2hlZFJlc3BvbnNlV2lsbEJlVXNlZCIsImlzRnJlc2giLCJfaXNSZXNwb25zZURhdGVGcmVzaCIsImNhY2hlRXhwaXJhdGlvbiIsIl9nZXRDYWNoZUV4cGlyYXRpb24iLCJ1cGRhdGVUaW1lc3RhbXBEb25lIiwidXBkYXRlVGltZXN0YW1wIiwiY2FjaGVEaWRVcGRhdGUiLCJfY29uZmlnIiwiX2NhY2hlRXhwaXJhdGlvbnMiLCJwdXJnZU9uUXVvdGFFcnJvciIsImRlbGV0ZUNhY2hlQW5kTWV0YWRhdGEiLCJkYXRlSGVhZGVyVGltZXN0YW1wIiwiX2dldERhdGVIZWFkZXJUaW1lc3RhbXAiLCJoZWFkZXJzIiwiZGF0ZUhlYWRlciIsImhlYWRlclRpbWUiLCJnZXRUaW1lIiwiaXNOYU4iLCJDUlNlcnZpY2VXb3JrZXIiLCJjYWNoZU5hbWVUYWciLCJpbWFnZXNDYWNoZU5hbWUiLCJmb250c0NhY2hlTmFtZSIsInN0eWxlc1NjcmlwdHNDYWNoZU5hbWUiLCJkb2N1bWVudENhY2hlTmFtZSIsInN0eWxlc1NjcmlwdHNFeHBpcmF0aW9uUGx1Z2luIiwiZm9udHNFeHBpcmF0aW9uUGx1Z2luIiwiaW1hZ2VzRXhwaXJhdGlvblBsdWdpbiIsImRvY3VtZW50RXhwaXJhdGlvblBsdWdpbiIsIkluaXRpYWxpemVBbmRSZWdpc3RlciIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlckNhY2hlRmlyc3RSb3V0ZVVzaW5nIiwiY2xpZW50cyIsImNsYWltIiwiZXhwaXJhdGlvblBsdWdpbiIsImNvbnRlbnRQYXJzZXIiLCJwbGF5QmFja0VuZ2luZSIsImluaXRpYWxpemUiXSwic291cmNlUm9vdCI6IiJ9